2002-10-14  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* several files: move the inclusion of .tmpl files from .C files
	to .h files

2002-07-26  Juergen Vigna  <jug@sad.it>

	* ControlThesaurus.C (replace): ditto.

	* ControlSearch.C (find): adaptions to changes in lyxfind.C

2002-07-15  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* biblio.C (parseBibTeX): use ascii_lowercase instead of lowercase

2002-07-15  Mike Fabian  <mfabian@suse.de>

	* biblio.C (compareNoCase): use the compare_ascii_no_case instead
	of compare_no_case, because in turkish, 'i' is not the lowercase
	version of 'I', and thus turkish locale breaks parsing of tags.

2002-06-27  Juergen Spitzmueller <j.spitzmueller@gmx.de>

	* ControlInclude.C: Add warning if absolute path name and
	check_typeset is used together

2002-06-20  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlGraphics.C (grfx_formats): return the extension and not the
	name of the format (i.e. "doc" and not "word")

2002-06-13  Angus Leeming  <leeming@lyx.org>

	Fixes needed to compile with Compaq cxx 6.3.
	* ControlInset.tmpl: #include a couple of headers.

2002-05-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* frnt_lang.C (getLanguageData): change a couple of N_() to _().

2002-05-13  Herbert Voss  <voss@perce.de>

	* biblio.C (getAbbreviatedAuthor): fix bug with "and" for Authors
	like "Odland, G. and ... "
	(parseBibTeX): fix bug with title and booktitle 
	and replace a \n with a space when one entry has more than
	one line

2002-05-01  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCharacter.C: use "ignore" and "reset" as the identifiers, not
	"No change" and "Reset".

	* frnt_lang.C: ditto. Further, do not sort thes two entries. Ie, leave
	them at the front of the list.

2002-05-01  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlGraphics.C: add some comments to the char * arrays.
	Make rorigin_size const.

2002-04-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlGraphics.[Ch] (getRotationOriginData): new helper function.
	Enables the gui's to internationalise these strings.

2002-04-30  John Levon  <moz@compsoc.man.ac.uk>

	* frnt_lang.C: fix build
 
2002-04-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* frnt_lang.[Ch] (getLanguageData): passed a bool character_dlg.
	If the the caller is the character dialog, add "No change" and "Reset"
	to the vector, else don't.
	Internationalise the GUI strings here rather than in the different
	calling dialogs.
	Sort the translated strings, albeit simply.

2002-04-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* character.[Ch]: rename namespace character as namespace frnt.

	* frnt_lang.[Ch]: new file. Move getLanguageData from character.[Ch]
	as several dialogs will use this info. The function now returns a
	vector<LanguagePair> where LanguagePair is a display string and an
	identifying string. The display string is internationalised.

	* ControlCharacter.C (getLanguage, setLanguage): Do not internationalise
	the identifying strings, "No change" and "Reset".

	* Makefile.am: add frnt_lang.[Ch].

2002-04-25  Herbert Voss  <voss@lyx.org>

	* ControlSendto.C (allFormats): don't add the graphics extensions to the
	export menu

2002-04-22  Angus Leeming  <a.leeming@ic.ac.uk>

	* biblio.C (getAbbreviatedAuthor, getYear): Deal with sub-standard
	BibTeX databases in a WYSIWYM way.

2002-04-22  Angus Leeming  <a.leeming@ic.ac.uk>

	* biblio.C (getAbbreviatedAuthor, getYear): Cæsar is dead. RIP; he was
	way past his use-by date.
	Make use of the improved info from Buffer::getBibkeyList when using
	\bibliography. Enables us to provide natbib support in this case too.

2002-04-19  Marco Morandini <morandini@aero.polimi.it>

	* ControlGraphics.C: pass the browseFile dialog a string of only those
	formats that can currently be loaded by LyX.

2002-04-15  Herbert Voss  <voss@perce.de>

	* biblio.[Ch] (parseBibTeX): fix bug while scanning bibtexentries
	with something like ,,...blah...`` (two commas)

2002-04-14  Herbert Voss  <voss@perce.de>

	* helper_funcs.[Ch]: move the getVectorFromString and the vice versa
	into the support/lstrings for better use in other programs.

	* biblio.[Ch] (getYear, getAbbreviatedAuthor, familyName): move out of
	namespace anon and make globally accessible.
	(familyName): test for the presence of a LaTeX Space at the front of
	of a name; strip it if it exists.

2002-04-11  Herbert Voss  <voss@perce.de>

	* ControlGraphics.C: expand "browse-string" to all available formats

2002-04-11  Herbert Voss  <voss@perce.de>

	* ControlGraphics.C: read BoundingBox also from non (e)ps files.

2002-04-08  Adrien Rebollo  <adrien.rebollo@gmx.fr>

	* ControlAboutlyx.C (getVersion): two _() forgotten

2002-04-08  John Levon  <moz@compsoc.man.ac.uk>

	* ControlGraphics.C:
	* ControlPrint.C:
	* ControlBibtex.C: make N_() be _()
 
2002-04-07  Herbert Voss  <voss@perce.de>

	* ControlGraphics.[C]: move readBB as readBB_from_PSFile into filetools

2002-04-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlGraphics.C (readBB): sigh. Make sure that the correct path is
	used when reading the BB.

2002-04-04  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlGraphics.C (readBB): Don't open the ifstrem and then
	check the format from the contents (and open a second ifstream in the
	process. One at a time please.

2002-03-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlRef.C (getBufferNum): squash warning message.

2002-03-22  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlBibtex.C (Browse):
	* ControlGraphics.C (Browse):
	* ControlPrint.C (Browse):  use Jean-Marc's browseRelFile.

	* ControlGraphics.[Ch]: replace checkFilename with isFilenameValid.

	* ControlGraphics.C (applyParamsToInset): pass filepath to
	InsetGraphics::updateInset.

2002-03-21  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* most files: ws cleanup

2002-03-18  Angus Leeming  <a.leeming@ic.ac.uk>

	* biblio.C (getInfo): string::c_str() never returns NULL. Don't test
	for it.

2002-03-18  John Levon  <moz@compsoc.man.ac.uk>

	* ControlGraphics.C:
	* ControlInclude.C: better error messages

2002-03-11  Herbert Voss  <voss@lyx.org>

	* biblio.C (parseBibTeX): fix another minibug with an
	ending comma

2002-03-10  Herbert Voss  <voss@lyx.org>

	* biblio.C (parseBibTeX): fix bug
	(familyName): improve parsing

2002-03-09  Herbert Voss  <voss@lyx.org>

	* ControlGraphics.[Ch]: adding checkFilename() for testing
	of non-existing files

2002-03-07  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ControlSendto.C (allFormats): fix a iterators are not pointers
	problem.

2002-03-06  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlShowFile.h: add a #include "LString.h"

2002-03-05  Herbert Voss  <voss@lyx.org>

	* biblio.C (getInfo): simplify if using paragraph layout
	"bibliography".

2002-03-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* biblio.C (getInfo): return the info field correctly if the key
	is not a BibTeX one.
	(parseBibTeX): fix crash when data.find('=') returns string::npos.

2002-02-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlForks.[Ch]: new files. A controller for the Forked Child
	processes dialog, enabling the user to see what forked processes
	are running, and, if he so desires, to kill them.

	* GUI.h: add class GUIForks.

	* Makefile.am: add ControlForks.[Ch].

	* ControlGraphics.C (getParams): small change due to change in
	insetgraphics.

2002-02-21  Herbert Voss  <voss@lyx.org>

	* biblio.C: fix bug with commentlines in a bibentry

2002-02-20  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* Makefile.am: simpler obj. file compile

2002-02-18  Herbert Voss  <voss@lyx.org>

	* ControlGraphics.[Ch]: remove help-file call

2002-02-18  Angus Leeming  <a.leeming@ic.ac.uk>

	* helper_funcs.h: wrap the structs firster and seconder up in a
	namespace to avoid clashes with those in lyxalgo,h.

	* ControlTexinfo.C Changes due to the renaming of support/syscall.[Ch]
	as support/systemcall.[Ch] and of class Systemcalls as class SystemCall.

2002-02-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlGraphics.C: remove #include "support/syscall.h" as it's not
	used.
	* ControlTexinfo.C:
	change Systemcalls::System to Systemcalls::Wait and
	No change of functionality, just reflects the stripped down Systemcalls
	class.

2002-02-06  Herbert Voss  <voss@lyx.org>

	* ControlGraphics.[C] (readBB): search also in
	g'zipped files. If it is useful than PK and compress
	should also be supported. use unzipFile() from
	support/filetools

2002-02-06  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlRef.C (getBufferName): new method to get a real buffer
	name from an index.

2002-02-05  Juergen Spitzmueller <j.spitzmueller@gmx.de>

	* ControlTexInfo.[Ch]: Removed Help functions.

2002-02-01  John Levon  <moz@compsoc.man.ac.uk>

	* ControlSpellchecker.C: clear any selection left
	(bug #211)

2002-02-01  Herbert Voss  <voss@lyx.org>

	* ControlGraphics.[C] (readBB): search only, if it is a
	".?ps" file and look for bb's at end of file

2002-01-30  Herbert Voss  <voss@lyx.org>

	* ControlGraphic.[C]: do not search the whole file, when
	getting the bb

2002-01-29  Herbert Voss  <voss@lyx.org>

	* ControlGraphic.[C]: added a button for document path
	when browsing -> bug 222

2002-01-27  Herbert Voss  <voss@lyx.org>

	* ControlGraphic.[Ch]: added support for Bounding Box, other
	small changes

2002-01-25  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlAboutlyx.h:
	* ControlTexinfo.h: added #include "LString.h" where they belong.

2002-01-25  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.C:
	* ControlDialog_impl.C: remove redundant // -*- C++ -*-

2002-01-24  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInclude.[Ch] (fileExists): remove const type qualifier from
	bool return type.

2002-01-20  Herbert Voss  <voss@perce.de>

	* ControlInclude.[Ch]: better control of unexistings files
	when entered without the browser

	* ControlGraphic.C (Browse): add extension "ps" when browsing for
	a filename

2002-01-19  Herbert Voss  <voss@perce.de>

	* biblio.C (getInfo): fix bug when no author is given

	* biblio.C (parseBibTeX): change the parsing, so that
	'#'-characters in a bibtex entry are no more a problem.

2002-01-19  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlDialog_impl.h (ControlConnectBI>): make ControlDialogBI
	derive from ControlDialog<ControlConnectBI> (fixes bug #196)

	* helper_funcs.C (browseRelFile): forgot to pass dir2 to browseFile

2002-01-17  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlMinipage.h: change MinipageParams::pageWidth to LyXLength

	* ControlExternal.C (Browse): add a std:: qualifier

2002-01-16  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlExternal.C (Browse): simplify to use browseRelFile

2002-01-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.tmpl: added // -*- C++ -*-

	* ControlCitation.C: #include "ControlInset.tmpl" to instantiate
	ControlInset<InsetCommand, InsetCommandParams>::showInset, createInset.
	Needed in _one_ of the ControlCommand-derived classes only.

2002-01-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h:
	* ControlSearch.h: #include LString.h

2002-01-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.h: split into two. The definition remains in
	ButtonController.h, the declaration is now in ButtonController.tmpl.
	These template methods should be #included when the derived class is
	instantiated, in this case in xforms/xformsBC.C and xforms/Dialogs.C
	and in the qt2 and gnome equivalents.

	* ControlDialogs.h: removed. The definition of class ControlDialog is
	now to be found in ControlDialog.h and the declaration of the methods
	is in ControlDialog.tmpl. The two template instantiations are performed
	in ControlDialog_impl.[Ch], new files also.

	* ControlInset.h: split into two. The definition remains in
	ControlInset.h, the declaration is now in ControlInset.tmpl.
	These template methods should be #included derived class is
	instantiated, in this case in 8 other .C files in this directory.

	* ControlAboutlyx.[Ch]:
	* ControlCharacter.[Ch]:
	* ControlCommand.C:
	* ControlERT.C:
	* ControlError.C:
	* ControlExternal.C:
	* ControlFloat.C:
	* ControlGraphics.C:
	* ControlInclude.C:
	* ControlLog.[Ch]:
	* ControlMinipage.C:
	* ControlPreamble.[Ch]:
	* ControlPrint.[Ch]:
	* ControlSearch.[Ch]:
	* ControlShowFile.[Ch]:
	* ControlSpellchecker.[Ch]:
	* ControlTabularCreate.[Ch]:
	* ControlTexinfo.[Ch]:
	* ControlThesaurus.[Ch]:
	* ControlVCLog.[Ch]: small changes associated with the above ones.

	* GUI.h: #include the ButtonController and dialog controller files
	here, rather than forward declare them. This is the correct place
	for these #includes.

	* Makefile.am: add ControlDialog_impl.[Ch] to libcontrollers_la_SOURCES.
	Rename ControlDialogs.h as ControlDialog.h.
	Add ButtonController.tmpl ControlDialog.tmpl ControlInset.tmpl to
	EXTRA_DIST.

2002-01-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h (apply): fix bug unearthed by Michael Koziarski.

2002-01-14  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlExternal.C (Browse): use Buffer::filePath; simplify (more
	can be done)

	* ControlGraphics.C (Browse): remove overzealous shortcut

2002-01-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMinipage.C (apply, update): MinipageParams::width renamed
	as MinipageParams::pageWidth. InsetMinipage::width  renamed
	as InsetMinipage::pageWidth.

2002-01-13  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ButtonController.h (refreshReadOnly): use explicit typename

2002-01-13  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* helper_funcs.h (browseFile): add default empty button descriptions.

	* ControlGraphics.C (Browse):
	* ControlBibtex.C (Browse):
	* ControlInclude.C (Browse): add shortcuts to directory buttons

2002-01-12  John Levon  <moz@compsoc.man.ac.uk>

	* ControlThesaurus.h:
	* ControlThesaurus.C: update to Aiksaurus 0.14

2002-01-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSpellchecker.C (clearParams): show the closing message
	only if some words have been checked, thereby fixing
	bugzilla bug #52.

2001-12-11  Michael A. Koziarski <michael@koziarski.org>

	* ControlFloat.[Ch]: changes to prevent here definitely being used
	with wide figures.

2001-12-19  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* ControlThesaurus.h: do not include <config.h> in header files

2001-11-04  John Levon  <moz@compsoc.man.ac.uk>

	* ControlToc.C: changes for floatlist

2001-11-04  John Levon  <moz@compsoc.man.ac.uk>

	* ControlVCLog.C: use _()

2001-10-23  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlSpellchecker.C: include <sys/types.h> since FreeBSD needs
	that for select.

2001-10-22  Juergen Vigna  <jug@sad.it>

	* ControlSpellchecker.C (clearParams): use the error_ message of the
	speller_ if available when the spellchecker died.
	(setParams): remove double error message display.

2001-10-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlMinipage.[Ch] (getUnits): moved to helper_funcs.

	* helper_funcs.[Ch] (getLatexUnits): see above.

2001-10-12  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlTexinfo.C (getContents): use the right file for .sty files

2001-10-10  Herbert Voss  <voss@perce.de>

	* ControlTexinfo.C: new path for the shellscript TeXFiles.sh
	and some more stuff from FormTexinfo.C

	* ControlShowFile.C: hiding the update-button

2001-10-09  Herbert Voss  <voss@perce.de>

	* ControlTexinfo.[Ch]: new files. Display information about the
	installed texfiles (cls,sty,bst).

	* ControlShowFile.[Ch]: new files. Display the contents of a file.

	* GUI.h: added classes GUIShowFile and GUITexinfo.

	* Makefile.am: modified appropriately.

2001-10-03  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlAboutlyx.C (getVersion): use lyx_version and
	lyx_release_date instead of old macros

2001-09-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSpellchecker.C (check): Behaves well now when the spell
	library doesn't know a replacement to an incorrect word.

2001-09-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSpellchecker.C (clearParams): place emergency_exit_ in
	the correct place. Can now check spelling more than once!

2001-09-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSplash.[Ch]: removed.

	* GUI.h: remove GUISplash class.

	* ViewBase.h: remove ViewSplash class.

	* Makefile.am: remove ControlSplash.[Ch].

2001-09-25  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlButtons.h: add variable emergency_exit_. If set to true, the
	view will be shut down.

	* ControlDialogs.h:
	* ControlInset.h: act on emergency_exit_.

	* ControlSpellchecker.C (clearParams): set emergency_exit_ if the
	speller fails to launch.

2001-09-24  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlRef.C (getBufferList): use MakeDisplayPath on the list.
	* (getLabelList): use MakeAbsPath on the buffer name passed to it.

2001-09-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlRef.h (disconnectOnApply): new method. Set to true.
	Perhaps make this user-modifiable?

2001-09-14  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* ControlGraphics.C (Browse): add "jpg" to list of recognized file
	extensions.

2001-09-07  Dekel Tsur  <dekelts@tau.ac.il>

	* ControlRef.C (getBufferList, getBufferNum): New methods

2001-09-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h (disconnectOnApply): new method. Defines the behaviour
	of the dialog when the Apply button is pressed. Defaults to false,
	but can be overridden in the daughter classes.

	* ControlCitation.h (disconnectOnApply): new method. Set to true.
	Perhaps make this user-modifiable?

2001-09-11  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlDialogs.h (show): connect() the dialog on show. All of a sudden
	we have dialogs that update their contents when the buffer changes.
	Rather embarassing, really!

2001-09-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSearch (replace): change semantics of replace to NOT move on
	to the next instance of a word once the present instance has been
	replaced unless we are replacing ALL instances of the word.

2001-09-07  Rob Lahaye  <lahaye@users.sourceforge.net>

	* ControlButtons.[Ch]: added publicly accessible IconifyWithMain method.

2001-09-04  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCharacter.C: fix Michael's bug: In the "Character layout"
	dialog, set all options to "reset", close the dialog, re-open it ->
	the options are set incorrectly.

	* ControlButtons.[Ch]: add an is_closing_ variable and isClosing method.
	When Applying it's useful to know whether the dialog is about to close
	or not (no point refreshing the display for example).

	* ControlInset.C (apply): use isClosing.

2001-08-25  John Levon  <moz@compsoc.man.ac.uk>

	* ControlInset.h:
	* ControlDialogs.h: remove bc() hack, now fixed in
	  Qt2 frontend. use member dialog_built_ instead of shared
	  static.

	* ButtonController.h:
	* ButtonPolicies.C: more debug info

	* ButtonControllerBase.C: call refresh() when setting readOnly !

	* GUI.h: External form has apply, use the right policy

	* character.C: fix two off-by-one errors when latex font was removed

2001-08-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h (apply): tentative fix for the press Apply multiple
	times and get multiple new Insets problem.

2001-08-24  John Levon  <moz@compsoc.man.ac.uk>

	* ControlCharacter.C: fix typo

	* ViewBase.h:
	* ControlDialogs.C:
	* ControlInsets.C: make sure dialog is built before it is shown, so
	  it works properly the very first time it is shown

2001-08-20  Herbert Voss  <voss@perce.de>

	* ControlBibtex.[Ch]: enhanced bibtex-data gui to browse for databases
	and styles. Added an option for "bibliography into toc"

2001-08-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* character.[Ch]: remove LATEX_TOGGLE from the FONT_STATE enum as
	LaTeX is no longer a font property.

2001-08-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* GUI.h: Button controller for Reference dialog changed to
	NoRepeatedApplyReadOnlyPolicy.

	* biblio.C (getInfo): output volume and number info. Move year to end
	of string.

2001-08-09  Allan Rae  <rae@lyx.org>

	* Makefile.am (SUBDIRS, dist-hook): remove bogus entries.

2001-08-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* helper_funcs.C (getVectorFromString): fixed small bug.

	* helper_funcs.h (getFirst, getSecond): cleaned up and removed cruft.

2001-08-07  Edwin Leuven  <leuven@fee.uva.nl>

	* ControlSpellchecker.C: check next word after insert in personal dict

2001-08-06  Juergen Vigna  <jug@sad.it>

	* ControlERT.[Ch]: new file

2001-08-01  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h: const and non-const forms of params().

	* helper_funcs.C (getStringFromVector,getVectorFromString): remove
	whitespace from either side of each item.

2001-07-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlFloat.h: add a != operator for FloatParams.
	Lars, how did you get this to compile!!!

	* ControlMinipage.[Ch]: uncommented someone's commenting out of
	operator != for MinipageParams. Who's changing stuff and not compiling?

2001-07-30  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* Makefile.am (libcontrollers_la_SOURCES): add ControlFloat.h and
	ControlFloat.C

	* GUI.h: add class GUIFloat

	* ControlFloat.[Ch]: new files

2001-07-30  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlPrint.C: #include Lassert.h here.

2001-07-26  Baruch Even  <baruch@lyx.org>

	* ControlGraphics.C: changed file search string to cover eps, jpeg, gif
	and png.

2001-07-26  John Levon  <moz@compsoc.man.ac.uk>

	* ControlThesaurus.h:
	* ControlThesaurus.C:
	* GUI.h:
	* Makefile.am: thesaurus support

2001-07-23  John Levon  <moz@compsoc.man.ac.uk>

	* ControlInclude.h:
	* ControlInclude.C: implement ability to load file

2001-07-18  Juergen Vigna  <jug@sad.it>

	* ControlSearch.C (replace): changes to lyxfind.h function calls.

2001-07-19  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* biblio.C (getInfo): add a .c_str() to handle the usual
	stringstream pain.

2001-07-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.[Ch]: changes associated with adding natbib support.
	New public methods, usingNatbib, getCiteStrings and getCiteStyles.
	New static variable citeStyles_.

	* biblio.[Ch]: large internal rearrangement.
	New public enum CiteStyle.
	New public struct CitationStyle.
	New public functions getCitationStyle, getCiteCommand, getCiteStyles,
	getNumericalStrings, getAuthorYearStrings
	(simpleSearch, regexSearch): no longer publicly accessible.

	* helper_funcs.C (getStringFromVector): bug fix.

2001-07-16  Baruch Even  <baruch@lyx.org>

	* ControlVCLog.h: Added Lsstream.h to includes.

2001-07-17  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlSpellchecker.[Ch]: remove d-tor.

2001-07-17  Edwin Leuven  <leuven@fee.uva.nl>

	* ControlSpellchecker.[Ch]: remove member quit() and some cleaning

2001-07-16  Juergen Vigna  <jug@sad.it>

	* ControlSpellchecker.C (show): use the lyxrc.use_pspell flag (if
	compiled with USE_PSPELL) to be able to switch between ISpell and
	PSpell classes.

2001-07-13  Angus Leeming  <a.leeming@ic.ac.uk>

	Consistent use of Lsstream.h:
	* ControlAboutlyx.[Ch] (getCredits):
	* ControlVCLog.[Ch] (getVCLogFile): std::stringstream -> stringstream.

2001-07-13  Edwin Leuven  <leuven@fee.uva.nl>

	* ControlCredits.[Ch]: removed
	* ControlCopyright.[Ch]: removed
	* ControlAboutlyx.[Ch]: added (replaces previous)
	* GUI.h: removed credits and copyright added about lyx stuff

2001-07-13  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlSpellchecker.C (getSuggestion):
	(getWord): add std:: qualifier

2001-07-13  Edwin Leuven  <leuven@fee.uva.nl>

	* ControlSpellchecker.[Ch]: added
	* ViewBase.h: added partialUpdate(int) member
	* GUI.h: added spell stuff

2001-07-12  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ControlExternal.C: (*it). -> it->

2001-06-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.h: move some included header files out of the
	frontends and into here.

2001-06-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCharacter.C (c-tor): cosmetic name change of signal.

2001-06-13  Angus Leeming  <a.leeming@ic.ac.uk>

	* *.[h]: added // -*- C++ -*-
	* *.[C]: removed // -*- C++ -*-

	* ControlCharacter.[Ch]: (setParams): Check contents of font_ to
	activate Apply button.
	(clearParams): removed.
	font_ is now stored as a boost::scoped_ptr.
	font_ is no longer deleted on hide(), so it's contents can now be used
	by the Font button on the toolbar.
	Lots of new methods so that the GUI can easily get the contents of
	font_ when it update()s.

2001-06-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCharacter.C (apply): test that font_ exists, thereby preventing
	crash when the Font button on the Toolbar is pressed.

	* GUI.h: change policy of Character button controller to
	OkApplyCancelReadOnlyPolicy.

2001-06-11  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ControlToc.C (getContents): don't add anything to the list if it
	is supposed to be empty.

2001-06-01  Angus Leeming  <a.leeming@ic.ac.uk>

	* helper_funcs.C (getVectorFromString): bug fix.

2001-05-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.h
	* ButtonControllerBase.[Ch] (refreshReadOnly): new method, called direct
	from ButtonControllerBase::readOnly. Updates the state of the widgets
	in the read-only list only when the read-only status of the document
	changes.
	(refresh): moved this stuff into refreshReadOnly.

2001-05-18  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlPrint.C (c-tor):
	* ControlPreamble.C (c-tor): initialise params_ and thereby cure crash.

2001-05-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* biblio.C:
	* character.h: small clean-ups.

2001-05-04  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ControlToc.C (getType): remove support for old float list.

2001-04-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlButtons.h: no longer include ButtonControllerBase.h, ViewBase.h
	* ControlGraphics.h: no longer include insetgraphicsParams.h
	* ControlInset.h: no longer include LyXView.h

	* ControlBibitem.C:
	* ControlBibtex.C:
	* ControlButtons.C:
	* ControlCharacter.C:
	* ControlCitation.C:
	* ControlCommand.C:
	* ControlConnections.C:
	* ControlCopyright.C:
	* ControlCredits.C:
	* ControlError.C:
	* ControlExternal.C:
	* ControlGraphics.C:
	* ControlInclude.C:
	* ControlLog.C:
	* ControlMinipage.C:
	* ControlPreamble.C:
	* ControlPrint.C:
	* ControlRef.C:
	* ControlSearch.C:
	* ControlTabularCreate.C:
	* ControlToc.C:
	* ControlVCLog.C: they're now in here!

2001-04-17  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* ButtonControllerBase.h: C++ mode, inherit privately from
	noncopyable
	* ButtonPolicies.h: ditto

	* ButtonController.h: C++ mode, swap init order of restore_ and
	cancel_

2001-04-06  John Levon  <moz@compsoc.man.ac.uk>

	* ControlTabularCreate.h:
	* ControlTabularCreate.C: make dialogs use a pair of uints
	  instead of a string

	* ControlVCLog.h:
	* ControlVCLog.C: fill a stringstream with the log contents
	and then delete it

	* ControlExternal.C: from Angus, clone the new InsetExternal
	  before acting on it

2001-04-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* helper_funcs.C (getStringFromVector, getVectorFromString): fixed bugs
	and made more robust.

2001-04-05  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlToc.C:
	* ControlSearch.C:
	* ControlPrint.C:
	* ControlPreamble.C:
	* ControlInclude.C:
	* ControlGraphics.C:
	* ControlExternal.C:
	* ControlCopyright.C: include gettext.h

	* ControlCharacter.C:
	* character.C: include gettext.h and language.h

2001-04-03  John Levon  <moz@compsoc.man.ac.uk>

	* ButtonController.h:
	* ButtonControllerBase.h:
	* ButtonControllerBase.C:
	* ButtonPolicies.h:
	* ButtonPolicies.C:
	* ControlButton.h:
	* ControlButton.C:
	* ControlButtons.h:
	* ControlButtons.C:
	* ControlConnections.h:
	* ControlDialogs.h:
	* ControlInset.h:
	* ControlExternal.C:
	* Makefile.am:
	* README:
	* ViewBase.h: s/ControlButton/ControlButtons/
	s/popup/dialog/
	s/UndoAll/Restore/ + associated

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlToc.[Ch]: new files; a controller for the TOC popup.

	* GUI.h:
	* Makefile.am: associated changes with all of the above.

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlExternal.C: bug fixes. Can now apply changes to the inset
	and edit, view, update the External Material correctly. I hope!

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.[Ch]: renamed as ButtonControllerBase.[Ch]

	* BCTemplates.h: renamed as ButtonController.h

	* ControlBase.[Ch]: renamed as ControlButton.[Ch]. Class named to match.

	* ViewBase.h:
	* ControlConnections.h: associated change in #include and class names.

	* ControlExternal.[Ch]: new files; a controller for the External
	Material popup.

	* GUI.h:
	* Makefile.am: associated changes with all of the above.

	* ControlGraphics.[Ch]:
	* ControlInclude.[Ch]:
	* ControlPrint.[Ch]:
	(lv): removed.
	(Browse): new method. Returns the results of a FileDialog browse.

	* helper_funcs.[Ch] (browseFile): moved from xforms_helpers.[Ch].
	(getVectorFromString): fixed bug.

	* biblio.C (simpleSearch): cleaned up.

2001-03-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* A slight reworking of Baruch Even's ButtonController patch.

	* BCTemplates.h: new file; all the templates for the ButtonController.
	Including Baruch's new GuiBC class, with setCancelCloseButton() changed
	to the more generic setButtonLabel().

	* ButtonController.[Ch]: renamed cancel_label and close_label as
	cancel_label_ and close_label_.

	* Makefile.am: added BCTemplates.h

2001-03-29  Juergen Vigna  <jug@sad.it>

	* ControlMinipage.C: removed widthp_ and all it's functions and changed
	to use new %-lengths of LyXLength.

2001-03-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.C (bibkeysInfo): removed Assert.

	* ControlCopyright.h: moved GUICopyright into GUI.h

	* GUI.h: see above.

2001-03-28  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlInset.h (clearDaughterParams): is empty by default, not pure.
	(setDaughterParams): a (by default empty) new method called in show().

	* ControlBibitem.h:
	* ControlBibtex.h:
	* ControlError.h:
	* ControlInclude.h:
	* ControlMinipage.h:
	* ControlRef.h:
	* ControlSearch.h:
	* ControlUrl.h (clearDaughterParams): removed

	* ControlMinipage.C (applyParamsToInset): update the view.
	Added namespace minipage containing a helper function getUnits.

	* GUI.h: changed Minipage policy to NoRepeatedApplyReadOnlyPolicy.

	* ControlCharacter.[Ch]: moved out all the helper functions and the
	enum into their own file.
	* character.[Ch]: new files; contain the character helper functions,
	now inside namespace character.

	* ControlCitation.[Ch]: moved out all the helper functions and the
	enums into their own file. Simplified interface.
	* biblio.[Ch]: new files; contain the citation helper functions,
	now inside namespace biblio. Will be of use also to an improved
	BibTeX popup.

	* ControlGraphics.[Ch]:
	* ControlIndex.[Ch]: new files; controllers for the Graphics and Index
	popups, respectively.

	* GUI.h:
	* Makefile.am: associated changes.

2001-03-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlMinipage.[Ch]:
	* ControlPreamble.[Ch]:
	* ControlPrint.[Ch]:
	* ControlSplash.[Ch]: new files; controllers for the Minipage, Preamble
	and Print popups and Splash screen, respectively.

	* ViewBase.h (ViewSplash): new base class for GUI-specific Splash
	screens.

	* GUI.h:
	* Makefile.am: associated changes.

2001-03-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlConnections.[Ch]: (docType): new method; returns the type
	of the buffer, LaTeX, Literate, LinuxDoc or DocBook.

	* ControlRef.[Ch]:
	* ControlSearch.[Ch]:
	* ControlTabularCreate.[Ch]: new files; controller for the Ref,
	Search and TabularCreate popups, respectively.

	* GUI.h:
	* Makefile.am: associated changes.

2001-03-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.C (getBibkeyInfo): get nasty and assert the info map
	contains data.

	* ControlInset.h (apply): fix bug. Can now create new insets again.

	* README: describe program flow.

2001-03-24  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* Makefile.am (libcontrollers_la_SOURCES): add ControlDialogs.h

2001-03-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlDialogs.h: moved class ControlInset into its own file.

	* ControlInset.h: new file. class ControlInset has been expanded to take
	two template parameters, Inset and Params. Believe that all inset
	controllers can be derived from this with the minimum of effort.

	* ControlBibitem.[Ch]:
	* ControlBibtex.[Ch]:
	* ControlCitation.[Ch]:
	* ControlCommand.[Ch]: moved most code into ControlInset.

	* lots of files. Moved protected stuff into private where possible.

	* ControlError.[Ch]:
	* ControlInclude.[Ch]:
	* ControlUrl.[Ch]: new files; controllers for the LaTeX error,
	Include and Url popups, respectively.

	* GUI.h:
	* Makefile.am: associated changes.

2001-03-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCredits.[Ch] (getCredits): returns a stringstream not a
	vector<string>.

2001-03-23  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ControlCredits.C (getCredits): remove std:: qualifier for
	getline().

2001-03-23  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* ControlCredits.C (getCredits): add std:: on vector

2001-03-22  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* ControlCredits.C: remove using that is only used once, use
	std::ios instead of std::iosbase, add some annoying comments.

2001-03-22  Angus Leeming  <a.leeming@ic.ac.uk>

	* lots of header files: improved explanatory notes.

	* ControlBase.[Ch]: removed LyXView & lv_ and methods using it.
	ControlBase is now a class that only controls the interaction of the
	View with the ButtonController.

	* ControlConnections.[Ch]: added LyXView & lv_ and associated methods
	to ControlConnectBase. The class controls the connection/disconnection
	of signals from the LyX kernel and makes available the kernel (through
	lv_) to daughter controller classes.
	Moved out class ControlConnectInset to a new file ControlDialogs.h.

	* ControlDialogs.h: new file. Contains the definition of two template
	controller classes, ControlDialog and ControlInset (was
	ControlConnectInset). ControlInset is a parent class for controllers
	of inset-popups. ControlDialogs is the rather uninspired name for
	the base class of all non-inset popups. (Eg, Document and Paragraph.)
	ControlDialogs is reaching a state of maturity as several popups now use
	it and its functionality becomes clear. ControlInset is still in a state
	of flux. It is likely that functionality will be moved out of
	ControlCommands and into it.

	* GUI.h: new file. Moved all the template GUIXXX classes out of the
	individual Controller header files and into one place. These classes
	serve only as convenient wrappers to simplify code in the respective
	frontends' Dialogs::c-tor. Now all derived from a templatised parent.

	* ControlCharacter.[Ch] (show, update, hide):
	* ControlLog.[Ch] (show, update, hide):
	* ControlVCLog.[Ch] (show, update, hide): moved back into
	the ControlDialogs base class.
	(setParams, clearParams): new methods containing controller-specific
	code to set/reset the parameters manipulated by the view.

	* ControlCommand.[Ch] (clearParams): a new virtual method, by default
	empty.
	(hide): calls clearParams.

	* ControlCitation.[Ch] (hide): renamed as clearParams, a method called
	by ControlCommand::hide().

	* ControlCopyright.[Ch]:
	* ControlCredits.[Ch]: new files; controllers for the copyright and
	credits popups, respectively.

2001-03-21  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* ControlCharacter.C: fix typo

2001-03-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCharacter.[Ch]: new files; controller for the character popup.

	* ControlCitation.[Ch] (getStringFromVector, getVectorFromString):
	moved to new files helper_funcs.[Ch].

	* helper_funcs.[Ch]: new files. Some useful helper functions and
	functors.

	* Makefile.am: added new files.

2001-03-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.C (getBibkeyInfo): parse non-BibTeX entries correctly.

2001-03-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlLog.[Ch]:
	* ControlVCLog.[Ch]: new files; controllers for LaTeX and Version
	Control log files, respectively.

	* Makefile.am: added new files.

2001-03-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlBibtex.[Ch]: new files; controller for an InsetBibtex popup.

	* Makefile.am: added ControlBibtex.[Ch].

2001-03-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlBibitem.C:
	* ControlCitation.C: added "using SigC::slot" declaration.

	* ControlCitation.C (getStringFromVector): re-apply Dekel's recent fix
	to FormCitation.C prior to the merger: "Do not put space between
	multiple keys".

2001-03-15  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* several files: remove CXX_WORKING_NAMESPACES

	* ButtonController.h: noncopyable is in namespace boost
	* ButtonPolicies.h: ditto

2001-03-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* Merging changes from BRANCH_MVC back into HEAD.

2001-03-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* Makefile.am: add ControlBibitem.[Ch].

	* ControlBibitem.[Ch]: new files that together define the Controller
	for a Bibitem popup.

	* ControlCommand.h (c-tor): give  kb_action a default value of
	LFUN_NOACTION.

	* ControlCommand.C (apply): do nothing if kb_action is LFUN_NOACTION.

	* ControlCitation.[Ch]: moved search functions out of class.
	(bibkeysInfo): new method. Returns const reference to private data.
	(searchKeys): added case-sensitive switch. Used only by simpleSearch
	for now.

2001-03-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.[Ch]: added Search functions to the class,
	(shamelessly lifted from Marco's gnome code). I think that these would
	be better as helper functions outside the class, but this is a first
	stab at it.

2001-03-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* ControlCitation.[Ch]: (getBibkeyList): removed from class
	ControlCitation.
	(getBibkeys, getBibkeyInfo): added to class ControlCitation.
	(getStringFromVector, getVectorFromString, parseBibTeX): new helper
	funcs. parseBibTeX() is lifted staraight out of Marco's gnome
	implementation of FormCitation.

2001-03-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonPolicies.h: add SMI_NOOP to enum.

	* ButtonPolicies.C (nextState): add if-statement for SMI_NOOP.

	* ButtonController.C (input): add "optimising" if-statement. Actually,
	things don't work correctly without it...

2001-03-02  John Levon  <moz@compsoc.man.ac.uk>

	* ViewBase.h: remove #pragma directive

	* ControlConnection.[Ch] (ControlConnectBI c-tor): add explicit c-tor
	to make g++ happy.

2001-03-02  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonPolicies.[Ch]: moved from ../ButtonPolicies.[Ch]

	* Makefile.am: added ButtonPolicies.[Ch]

	* ButtonController.[Ch]: ButtonController is split into
	ButtonControllerBase and a template ButtonController class. The base
	class no longer stores a pointer to a ButtonPolicy, but instead
	accesses the actual instantiation of the policy through a pure virtual
	method bp(). This method and the ButtonPolicy itself are instantiated
	in the templatised ButtonController class. This class is derived from
	the GUI-specific GUIBC class, meaning that the frontends know
	nothing about the actual policy decided upon by the controllers.

	* ControlBase.[Ch]: No longer store the View or the ButtonController.
	Instead the actual instantiations are accessed through pure virtual
	methods view() and bc(). The daughter classes are responsible for the
	actual View and ButtonController.

	* ControlCitation.h: the templatised class GUICitation instantiates
	the methods view() and bc(). It also stores the instances of the
	View and ButtonController.

2001-02-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonControllerBase.[Ch]: renamed as ButtonController.[Ch]. Class
	also changed to ButtonController.

	* ControlBase.[Ch]:
	* ControlConnections.[Ch]:
	* ControlCommand.[Ch]:
	* ControlCitation.[Ch]:
	* ViewBase.h: Changes associated with this.

2001-01-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonControllerBase.[Ch]: new files. Split Allan's original
	xforms/ButtonController class into a GUI-I class (here) and an
	xforms-specific derived class, to be found in xforms/xformsBC.[Ch].

	* ControlBase.[Ch]: new files. ControlBase is an abstract base class
	from which all Dialog Controllers should be derived. the Controllers
	are GUI-independent, but are designed to control the behaviour of
	GUI-specific implementaions of each dialog.

	* ControlConnections.[Ch]: new files. Classes controlling the
	connections of buffer-independent, buffer-dependent and Inset dialogs
	with the LyX kernel.

	* ControlCommand.[Ch]: new files. A controller for all dialogs for the
	InsetCommand subset of insets.

	* ControlCitation.[Ch]: new files. The test specialisation! A
	controller for the Citation dialog.

	* ViewBase.h: new file. ViewBase is an abstract base class from which
	GUI-specific dialogs should be derived. The functionality that the GUIs
	must now implement is much reduced.
