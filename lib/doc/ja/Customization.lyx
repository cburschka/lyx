#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 504
\begin_document
\begin_header
\save_transient_properties true
\origin /systemlyxdir/doc/ja/
\textclass scrbook
\begin_preamble
% DO NOT ALTER THIS PREAMBLE!!!
%
% This preamble is designed to ensure that this document prints
% out as advertised. If you mess with this preamble,
% parts of this document may not print out as expected.  If you
% have problems LaTeXing this file, please contact 
% the documentation team
% email: lyx-docs@lists.lyx.org

% the pages of the TOC is numbered roman
% and a pdf-bookmark for the TOC is added
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
  \frontmatter
  \pdfbookmark[1]{\contentsname}{}
  \myTOC
  \mainmatter }

% Added only for Japanese translation
% This is needed to use \textquotedbl (this doesn't exist in OT1 encoding)
\usepackage[T1]{fontenc}
\end_preamble
\options fleqn,bibliography=totoc,index=totoc,BCOR7.5mm,titlepage,captions=tableheading
\use_default_options false
\begin_modules
logicalmkup
\end_modules
\maintain_unincluded_children false
\begin_local_layout
Format 57
InsetLayout Flex:MenuItem
LyxType               charstyle
LabelString           menu
LatexType             command
LatexName             menuitem
Font
Family              Sans
EndFont
Preamble
\newcommand*{\menuitem}[1]{{\sffamily #1}}
EndPreamble
ResetsFont true
End
# In case we need to do with sans...
#InsetLayout CharStyle:Code
#Font
#Family              Sans
#EndFont
#Preamble
#\renewcommand{\code}[1]{{\sffamily #1}}
#EndPreamble
#End
InsetLayout		Flex:Ruby
LyxType		charstyle
LatexType		command
LatexName		ruby
BgColor		none
LabelString		"ルビ"
Decoration		Conglomerate
Argument post:1
LabelString	"ルビ文"
MenuString	"ルビ文(S)|S"
Decoration	Conglomerate
Font
Size		tiny
EndFont
LabelFont
Size		tiny
EndFont
Mandatory	1
EndArgument
Preamble
\IfFileExists{okumacro.sty}
{\usepackage{okumacro}}
{\newcommand{\ruby}[2]{#2}}
EndPreamble
ResetsFont true
End
\end_local_layout
\language japanese
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 12
\spacing single
\use_hyperref true
\pdf_title "LyX Configuration Manual"
\pdf_author "LyX Team"
\pdf_subject "LyX-Documentation Customization"
\pdf_keywords "LyX, documentation, customization"
\pdf_bookmarks false
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle false
\pdf_quoted_options "driverfallback=dvipdfmx, linkcolor=black, citecolor=black, urlcolor=blue, filecolor=blue,pdfpagelayout=OneColumn, pdfnewwindow=true, pdfstartview=XYZ, plainpages=false"
\papersize default
\use_geometry false
\use_package amsmath 0
\use_package amssymb 0
\use_package cancel 0
\use_package esint 0
\use_package mathdots 0
\use_package mathtools 0
\use_package mhchem 0
\use_package stackrel 0
\use_package stmaryrd 0
\use_package undertilde 0
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification false
\use_refstyle 0
\notefontcolor #0000ff
\branch OutDated
\selected 0
\filename_suffix 0
\color #f5fae7
\end_branch
\index 索引
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 2
\paperpagestyle headings
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict true
\end_header

\begin_body

\begin_layout Title
\SpecialChar LyX
の高度設定
\begin_inset Newline newline
\end_inset

熟練ユーザのための各機能
\end_layout

\begin_layout Author
\SpecialChar LyX
開発チーム
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\noindent
もしコメントや誤りの修正をお持ちでしたら、\SpecialChar LyX
文書化メーリングリスト
\begin_inset CommandInset href
LatexCommand href
target "lyx-docs@lists.lyx.org"
type "mailto:"

\end_inset

宛お送りください。件名ヘッダに「[Customization]」という文字を入れ、このファイルの現在のメンテナRichard Heck <rgheck@comc
ast.net>をccにして送ってください。
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

第2.2.x版 
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\begin_inset Note Note
status open

\begin_layout Plain Layout
本文書を修正する際には、変更追跡機能を使用してください。これによって、
\end_layout

\begin_layout Plain Layout
\SpecialChar LyX
翻訳者陣が変更点を認識しやすくなり、メンテナが最新の状態を維持することが容易になります。
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
はじめに
\end_layout

\begin_layout Standard
この取扱説明書は、\SpecialChar LyX
に備わっている高度設定機能を取り扱います。ここでは、
\begin_inset Flex Ruby
status collapsed

\begin_layout Plain Layout
捷径
\begin_inset Argument post:1
status collapsed

\begin_layout Plain Layout
ショートカット
\end_layout

\end_inset


\end_layout

\end_inset

や画面プレビューオプション、プリンタオプション、\SpecialChar LyX
サーバ経由での\SpecialChar LyX
へのコマンド送信、国際化、新しい\SpecialChar LaTeX
クラスや\SpecialChar LyX
レイアウトの導入などの題材について論じます。おそらくは変更
可能なことすべてについて触れることは無理でしょうが—私たちの開発者たちは私たちが文書化できる速さよりも速く新しい機能を付け加えてしまうので—、もっとも一般的な高
度設定については説明を行い、わかりにくいものについては正しい方向を指し示すことができるようにしていくつもりです。
\end_layout

\begin_layout Standard
\begin_inset Branch OutDated
status collapsed

\begin_layout Standard
Information from previous versions of this document that now seems to be
 outdated is contained in the OutDated branch of this document.
 By default, this information will not appear in the \SpecialChar LaTeX
 output.
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
\SpecialChar LyX
設定ファイル
\end_layout

\begin_layout Standard
本章の目的は、\SpecialChar LyX
設定ファイル群を理解するための一助となることです。本章を読み進める前に、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar menuseparator
LyXについて
\end_layout

\end_inset

を使って、\SpecialChar LyX
ライブラリとユーザディレクトリがどこにあるかを確認しておいてください。ライブラリディレクトリは、\SpecialChar LyX
がシステム全体の設定ファイルを置いておくところです。一
方、ユーザディレクトリは、自身がそれを修正した版を置いておくところです。私たちは、本書の以下の部分で、前者を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

と呼び、後者を
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

と呼ぶことにします。
\end_layout

\begin_layout Section
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

にはなにがあるの？
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

とそのサブディレクトリには、多くのファイルがあり、\SpecialChar LyX
の挙動を高度設定するのに使用されます。これらのファイルの多くは、\SpecialChar LyX
内の
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログから変更することができます。\SpecialChar LyX
中で行いたいと思うような高度設定は、ほとんどこのダイアログから行うことができるようになっています。しかしながら、LyXの他
の多くの内部動作は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

のファイルを修正することで高度設定されます。これらのファイルは様々なカテゴリに分類しうるので、以下の各小節で説明します。
\end_layout

\begin_layout Subsection
自動的に生成されるファイル
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

にある各ファイルは、\SpecialChar LyX
が自動設定を行ったときに生成されます。これらのファイルは、内部調査中に推測された様々な既定値が置かれています。これらは、随時上書きされてしま
うので、一般的には修正しないことが望まれます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyxrc.defaults
\end_layout

\end_inset

 このファイルには、様々な既定コマンドが置かれています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
packages.lst
\end_layout

\end_inset

 このファイルには、\SpecialChar LyX
が認識したパッケージの一覧が収められています。現在のところ、これは\SpecialChar LyX
プログラム自体には使用されていませんが、抽出された情報その他は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar menuseparator
LaT
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

eXの設定
\end_layout

\end_inset

で見ることができます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
textclass.lst
\end_layout

\end_inset

 ユーザの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Plain L
\end_layout

\end_inset

ディレクトリで検出されたテキストクラスと、関連した\SpecialChar LaTeX
文書クラスおよびその説明の一覧です。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyxmodules.lst
\end_layout

\end_inset

 ユーザの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layout/
\end_layout

\end_inset

ディレクトリで検出されたレイアウトモジュールの一覧です。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
*files.lst
\end_layout

\end_inset

 ご使用のシステムで検出された様々な種類の\SpecialChar LaTeX
関連ファイルの一覧です。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
doc/LaT
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

eXConfig.lyx
\end_layout

\end_inset

 このファイルは、自動設定中に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LaT
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

eXConfig.lyx.in
\end_layout

\end_inset

から自動的に生成されます。ご使用中の\SpecialChar LaTeX
の設定に関する情報が納められています。
\end_layout

\begin_layout Subsection
ディレクトリ
\end_layout

\begin_layout Standard
以下の各ディレクトリは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

に重複して存在します。特定のファイルが両方の場所にある場合には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

の方にあるものが使用されます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
bind/
\end_layout

\end_inset

 このディレクトリには、\SpecialChar LyX
で使用されるキー割当を定義している、拡張子が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.bind
\end_layout

\end_inset

のファイルが置かれています。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$LANG_xxx.bind
\end_layout

\end_inset

という名称の割当ファイルの各国語版がある場合には、そちらが用いられます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
clipart/
\end_layout

\end_inset

 このディレクトリには、文書に取り込むことのできる画像ファイルが納められています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
doc/
\end_layout

\end_inset

 このディレクトリには、\SpecialChar LyX
の取扱説明書ファイル（今お読みのものも含めて）が納められています。上述のように、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LaTeXConfig.lyx
\end_layout

\end_inset

ファイルは特に注目に値します。各国語版のヘルプ文書は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
doc/xx
\end_layout

\end_inset

（「xx」はISO言語コード）サブディレクトリにあります。詳しくは、
\begin_inset CommandInset ref
LatexCommand ref
reference "cha:LyXの各国語対応"

\end_inset

をご覧ください。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
examples/
\end_layout

\end_inset

 このディレクトリには、何らかの機能の使い方を説明する例示ファイルが納められています。ファイルブラウザ中で
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
用例
\end_layout

\end_inset

ボタンを押すと、このディレクトリが表示されます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
images/
\end_layout

\end_inset

 このディレクトリには、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書
\end_layout

\end_inset

ダイアログで使用される画像ファイルが納められています。さらに、ツールバーの各アイコンや、\SpecialChar LyX
を起動したときに現れるバナーも納められています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kbd/
\end_layout

\end_inset

 このディレクトリには、キーボードのキー割当ファイルが納められています。詳細については、
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:国際キー配列"

\end_inset

をご覧ください。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layouts/
\end_layout

\end_inset

 このディレクトリには、
\begin_inset CommandInset ref
LatexCommand ref
reference "cha:新規文書を導入"

\end_inset

に述べられているテキストクラスおよびモジュールのファイルが納められています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyx2lyx
\end_layout

\end_inset

 このディレクトリには、\SpecialChar LyX
の各バージョン間の変換に使用される
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyx2lyx
\end_layout

\end_inset

 Pythonスクリプトが納められています。たとえば、複数のファイルの変換をバッチ処理したい場合には、これらをコマンドラインから実行することもできます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
scripts/
\end_layout

\end_inset

 このディレクトリには、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
外用ひな型
\end_layout

\end_inset

機能の有用性を示すためのファイルがいくつか納められています。\SpecialChar LyX
自身が使用するスクリプトもいくつか収められています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
templates/
\end_layout

\end_inset

 このディレクトリには、
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:ひな型を作成する"

\end_inset

で述べられている標準の\SpecialChar LyX
ひな型ファイルが納められています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ui/
\end_layout

\end_inset

 このディレクトリには、\SpecialChar LyX
の操作画面を定義する拡張子
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.ui
\end_layout

\end_inset

のファイルが納められています。つまり、これらのファイルは、どのメニュー項目がどのメニューに現れるかを定義し、どの項目がツールバーに現れるかを定義しています。
\end_layout

\begin_layout Subsection
変更を加えない方がよいファイル
\end_layout

\begin_layout Standard
これらのファイルは\SpecialChar LyX
が内部的に使用するもので、あなたが開発者でない限りは、凡そこれらに変更を加える必要はありません。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CREDITS
\end_layout

\end_inset

 このファイルは、\SpecialChar LyX
開発陣の名簿です。この内容は、メニュー項目
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar menuseparator
LyXについて
\end_layout

\end_inset

で表示されます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
chkconfig.ltx
\end_layout

\end_inset

 これは、自動設定プロセスによって使用される\SpecialChar LaTeX
スクリプトです。直接実行しないでください。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
configure.py
\end_layout

\end_inset

 これは、\SpecialChar LyX
の環境構成によって使用されるスクリプトです。これは、このスクリプトを実行したディレクトリに設定ファイルを生成します。
\end_layout

\begin_layout Subsection
ひとこと必要なファイル群
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
encodings
\end_layout

\end_inset

 このファイルには、各文字エンコーディングがどのようにUnicodeにマップされるかを示した表が載っています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
external_templates
\end_layout

\end_inset

 このファイルには、新しく導入された
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
外用ひな型
\end_layout

\end_inset

機能で使用できるひな型が載っています。
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:外部素材を取り込む"

\end_inset

を参照のこと。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
languages
\end_layout

\end_inset

 このファイルには、現在\SpecialChar LyX
がサポートしている言語の全一覧が載っています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
latexfonts
\end_layout

\end_inset

 サポートされているフォントに関する情報が掲載されています。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layouttranslations
\end_layout

\end_inset

 このファイルは、国際化された段落様式の翻訳が収録されています(
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式の国際化"

\end_inset

参照)。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
unicodesymbols
\end_layout

\end_inset

 このファイルは、unicodeエンコーディングされたグリフに関する情報と、\SpecialChar LyX
が\SpecialChar LaTeX
を介してそれらをどのようにサポートしているかについての情報を含んでいます。
\end_layout

\begin_layout Section
ユーザのローカル設定ディレクトリ
\end_layout

\begin_layout Standard
\SpecialChar LyX
を非特権ユーザとして利用している場合でも、自分自身で使うために、\SpecialChar LyX
の設定を変更したいと思うかもしれません。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

ディレクトリには、すべての個人設定ファイルが収められています。これは、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar menuseparator
LyXについて
\end_layout

\end_inset

で「ユーザーディレクトリ」として言及されているディレクトリです。このディレクトリは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

のミラーとして使用されており、これは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

内のすべてのファイルが、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

すし、自分自身で使うために個人のローカルディレクトリに置くこともできます。
\end_layout

\begin_layout Standard
わかりやすくするために、いくつか例を挙げましょう。
\end_layout

\begin_layout Itemize
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで設定されるユーザ設定は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

中の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
preferences
\end_layout

\end_inset

ファイルに保存されます。
\end_layout

\begin_layout Itemize
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
環境構成
\end_layout

\end_inset

を使用して環境構成を行うと、\SpecialChar LyX
は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
configure.py
\end_layout

\end_inset

スクリプトを実行し、その結果のファイルは、ご自身のローカル設定ディレクトリに書き込まれます。これはすなわち、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/layouts
\end_layout

\end_inset

にご自身で追加したテキストファイルは、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログのクラス一覧に表示されるようになることを意味します。
\end_layout

\begin_layout Itemize
たとえば、\SpecialChar LyX
のFTPサイトから最新の取扱説明書をとってきたものの、使用中のシステム上で管理者権限がないために、それをインストールすることができなかったとしても、そ
れらのファイルを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/doc/
\end_layout

\end_inset

ディレクトリにコピーすれば、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ
\end_layout

\end_inset

メニュー項目はこれらを開くようになります！
\end_layout

\begin_layout Section
\SpecialChar LyX
を複数の設定を使って実行するには
\end_layout

\begin_layout Standard
ローカル設定ディレクトリにおいて設定の自由度があるだけでは、２つ以上の設定を自由に使いこなしたい場合には充分ではないかもしれません。たとえば、使用する度に異なる
キー割当を使用したり、異なるプリンタ設定を使用したいことがあるかもしれません。これは、複数の設定ディレクトリを作ることで実現することができます。そして、実行時に
どのディレクトリを使用するか指定するのです。
\end_layout

\begin_layout Standard
\SpecialChar LyX
をコマンドラインスイッチ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
-userdir
\end_layout

\end_inset

P
\emph on
<ディレクトリ名>
\emph default
と共に起動すると、設定を既定のディレクトリではなく、指定したディレクトリから読み込むように、指示することになります（\SpecialChar LyX
を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
-userdir
\end_layout

\end_inset

スイッチなしで実行すれば、既定ディレクトリを指定することになります）。指定したディレクトリが存在しない場合には、\SpecialChar LyX
は、初めて\SpecialChar LyX
を実行したときに既定ディレクトリを訊い
てくるのと同様に、そのディレクトリを作るかどうか訊いてきます。この追加したユーザディレクトリでは、既定ディレクトリで行うのと全く同じように設定オプションを修正す
ることができます。これらのディレクトリは完全に独立しています（が、読み進めてください）。また、環境変数
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LYX_USERDIR_20x
\end_layout

\end_inset

を特定の値に設定しても、全く同じ効果があります。
\end_layout

\begin_layout Standard
複数の設定を持つことはまた、維持の手間も増えるということです。もし新しいレイアウトを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NewUserDir/layouts
\end_layout

\end_inset

に加えて、これをすべての設定で利用できるようにしたいならば、これをすべての設定ディレクトリで個々に付け加えなくてはなりません。これを避けるには、次のようなトリッ
クを使用してください。\SpecialChar LyX
が新しい設定ディレクトリを生成すると、そのサブディレクトリ（上記参照）はほとんど空です。新しい設定が既存のものをミラーするようにするには、
空のサブディレクトリを、既存の設定の対応するサブディレクトリへのシンボリックリンクに置き換えてください。ただし
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
doc/
\end_layout

\end_inset

サブディレクトリには、設定スクリプト（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
環境構成
\end_layout

\end_inset

で使用可能）が書き出した、設定毎に異なるファイルが含まれていますので、注意を払ってください。
\end_layout

\begin_layout Chapter
設定ダイアログ
\end_layout

\begin_layout Standard
設定ダイアログのオプションのすべては、
\emph on
ユーザーの手引き
\emph default
の付録
\emph on
設定ダイアログ
\emph default
に述べられています。オプションのうちいくつかについて、ここでさらに詳細に説明します。
\end_layout

\begin_layout Section
ファイル形式
\begin_inset CommandInset label
LatexCommand label
name "sec:ファイル形式"

\end_inset


\end_layout

\begin_layout Standard
ファイル形式が定義されていない場合、はじめの一歩は、使いたいと思うファイル形式を定義することです。それには、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログを開いてください。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ファイル処理\SpecialChar menuseparator
ファイル形式
\end_layout

\end_inset

の中で
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
新規\SpecialChar ldots

\end_layout

\end_inset

ボタンを押して、登録する新しい形式を定義してください。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
形式
\end_layout

\end_inset

フィールドは、GUI中で形式を認識するために用いられる名称です。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
短縮名
\end_layout

\end_inset

は、形式を内部的に識別するために用いられます。さらにファイル拡張子も入力する必要があります。これらはすべて必須事項です。オプションの
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
捷径
\end_layout

\end_inset

フィールドは、メニュー中で
\begin_inset Flex Ruby
status collapsed

\begin_layout Plain Layout
捷径
\begin_inset Argument post:1
status collapsed

\begin_layout Plain Layout
ショートカット
\end_layout

\end_inset


\end_layout

\end_inset

を提供するのに使用されます（たとえば、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Ctrl+D
\end_layout

\end_inset

を押すと
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar menuseparator
DVI
\end_layout

\end_inset

となります）。
\end_layout

\begin_layout Standard
形式には、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
閲覧プログラム
\end_layout

\end_inset

と
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
編集プログラム
\end_layout

\end_inset

を関連づけることができます。たとえば、PostScriptファイルを閲覧するのに
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Ghostview
\end_layout

\end_inset

を使用したいとしましょう。このプログラムを起動するのに必要なコマンドを対応するフィールドに入力します。ここで、コマンドを定義するのに、次節に掲げる4つの変数を用
いることができます。この閲覧プログラムは、\SpecialChar LyX
中で画像を閲覧したり
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
表示
\end_layout

\end_inset

メニューを使用したときに起動されます。一方、編集プログラムは、たとえば、画像を右クリックして現れるコンテクストメニューで
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
外部で編集
\end_layout

\end_inset

を選択したときに起動します。
\end_layout

\begin_layout Standard
ファイル形式の
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
MIME
\end_layout

\end_inset

型は必須ではありませんが、指定するときには、すべての形式の中で一意的なものでなくてはなりません。これは、この形式のファイルをファイル内容から検出するのに用いられ
ます。重要なファイル形式のうちには、
\begin_inset CommandInset href
LatexCommand href
name "IANA"
target "http://www.iana.org/assignments/media-types/"

\end_inset

に公式に登録されたMIME型がないものがあります。そこで、\SpecialChar LyX
は、
\begin_inset CommandInset href
LatexCommand href
name "freedesktop.org"
target "http://www.freedesktop.org/wiki/Specifications/shared-mime-info-spec"

\end_inset

で指定されているMIME型拡張表を使用しています。
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書形式
\end_layout

\end_inset

オプションは、\SpecialChar LyX
に、この形式が文書として書き出すのに適していることを指示するものです。このオプションが有効となっていて、適切な変換経路が存在する場合には（第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:変換子"

\end_inset

節を参照）、この形式が
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ファイル\SpecialChar menuseparator
書き出し
\end_layout

\end_inset


\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
表示
\end_layout

\end_inset

footlabel Label color for footnotす。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

のような純粋な画像形式は、このオプションを有効にしてはいけません。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

のようにベクター画像であると同時に文書でもあるような形式は、これを有効にします。
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ベクター画像形式
\end_layout

\end_inset

オプションは、\SpecialChar LyX
にこの形式がベクター画像を含みうることを教示するものです。この情報は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

を書き出す際に、内包されている画像をどの形式に変換するかを決定するのに使用されます。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Des
\end_layout

\end_inset

以外の画像形式を取り扱うことができないので、内包されている画像は、これらの形式に変換される必要があるかもしれない為です。内包されている画像が既に
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
jpg
\end_layout

\end_inset

のいずれかになっていない場合には、ベクター画像形式オプションが有効になっている場合には
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

に変換され、そうでない場合には
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

に変換されます。
\end_layout

\begin_layout Section
複写子
\end_layout

\begin_layout Standard
形式の変換はすべて、\SpecialChar LyX
の一時ディレクトリで行われるため、変換用にファイルを一時ディレクトリにコピーする前段階で、ファイルに変更を加える必要のあることがあります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
たとえば、ファイルが他のファイル—たとえば画像—を、相対ファイル名を用いて参照している場合、このファイルが一時ディレクトリにコピーされると参照が無効になる場合が
あります。
\end_layout

\end_inset

。これは複写子によって取り扱われ、複写子は、ファイルを一時ディレクトリに（あるいは一時ディレクトリから）コピーすると同時に、その過程でファイルに変更を加えます。
\end_layout

\begin_layout Standard
複写子の定義においては、以下の8つの変数を用いることができます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

 \SpecialChar LyX
のシステムディレクトリ（例：
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
/usr/share/lyx
\end_layout

\end_inset

）
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$i
\end_layout

\end_inset

 入力ファイル
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$o
\end_layout

\end_inset

 出力ファイル
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

 \SpecialChar LyX
一時ディレクトリ内でのベース名(ファイル拡張子なし)
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$p
\end_layout

\end_inset

 \SpecialChar LyX
一時ディレクトリのフルパス名
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$r
\end_layout

\end_inset

 処理されている元の\SpecialChar LyX
ファイルのフルパス名
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$f
\end_layout

\end_inset

 \SpecialChar LyX
ファイルのファイル名(ディレクトリパスなし)
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$l
\end_layout

\end_inset

 「\SpecialChar LaTeX
名」
\end_layout

\begin_layout Standard
最後の変数は、\SpecialChar LaTeX
の
\series bold

\backslash
include
\series default
コマンドで使用されるのと同形式のファイル名です。これは、書き出すファイルがそのようなインクルードに適している場合のみ、使用さるべきものです。
\end_layout

\begin_layout Standard
複写子は、出力ファイルに関する操作であれば、ほとんどすべてに対応することができます。たとえば、生成したPDFファイルを、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
/home/you/pdf/
\end_layout

\end_inset

という特別なディレクトリにコピーしたいものとしましょう。その場合には、以下のようなシェルスクリプトを書きます。
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

#!/bin/bash
\end_layout

\begin_layout Plain Layout

FROMFILE=$1
\end_layout

\begin_layout Plain Layout

TOFILE=`basename $2`
\end_layout

\begin_layout Plain Layout

DescriptionE /home/you/pdf/$TOFILE
\end_layout

\end_inset

これを、例えば
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
/home/you/.lyx/scripts/pdfcopier.sh
\end_layout

\end_inset

のような、自身のローカル\SpecialChar LyX
ディレクトリに保存し、お使いのプラットフォームが必要とするならば、実行可能属性を付与します。それから、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログの
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ファイル処理\SpecialChar menuseparator
ファイル形式
\end_layout

\end_inset

の中で、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
PDF(pdflatex)
\end_layout

\end_inset

形式—あるいは他のPDF形式のうちどれか—を選択し、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
複写子
\end_layout

\end_inset

フィールドに
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
pdfcopier.sh $$i $$o
\end_layout

\end_inset

と入力します。
\end_layout

\begin_layout Standard
複写子は、\SpecialChar LyX
自身が様々な変換に使用します。たとえば、適切なプログラムが検出された場合、\SpecialChar LyX
は自動的に
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
HTML
\end_layout

\end_inset

形式と
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
HTML
\begin_inset space ~
\end_inset

(MS Word)
\end_layout

\end_inset

形式の複写子を導入します。これらの形式を書き出す際、複写子は、本体のHTMLファイルだけでなく、関連した様々なファイル（スタイルファイルや画像など）もコピーされ
るように手配します。これらのファイルはすべて、元の\SpecialChar LyX
ファイルのあるディレクトリのサブディレクトリに書き込まれます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
この複写子の挙動は調整することができます。非必須の「-e」オプションは、コピーする拡張子をコンマ区切りで羅列したものを引数にとります。これを省略した場合には、す
べてのファイルがコピーされます。「-t」引数は、生成したディレクトリに書き加える拡張子を指定するものです。既定値では、これは「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
L
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

yXconv
\end_layout

\end_inset

」となっているので、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
/path/to/filename.lyx
\end_layout

\end_inset

から生成されたHTMLファイルは、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
/path/to/filename.html.L
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

yXconv
\end_layout

\end_inset

となります。.
 
\end_layout

\end_inset

。
\end_layout

\begin_layout Section
変換子
\begin_inset CommandInset label
LatexCommand label
name "sec:変換子"

\end_inset


\end_layout

\begin_layout Standard
各形式間でファイルを変換するために、ご自身の変換子を定義することができます。これは、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定\SpecialChar menuseparator
ファイル処理\SpecialChar menuseparator
変換子
\end_layout

\end_inset

ダイアログで行います。
\end_layout

\begin_layout Standard
新規に変換子を定義するには、ドロップダウンリストから
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
変換元の形式
\end_layout

\end_inset

と
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
変換先の形式
\end_layout

\end_inset

を選択し、変換に必要なコマンドを入力してから
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
追加
\end_layout

\end_inset

ボタンを押してください。変換子の定義には、以下のような変数を使用することができます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

 \SpecialChar LyX
システムディレクトリ
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$i
\end_layout

\end_inset

 入力ファイル
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$o
\end_layout

\end_inset

 出力ファイル
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

 入力ファイルのベースファイル名（拡張子をとった部分）
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$p
\end_layout

\end_inset

 入力ファイルのパス
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$r
\end_layout

\end_inset

 元の入力ファイルのパス（変換子が連鎖して呼び出されたときの挙動が$$pとは異なります）
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$e
\end_layout

\end_inset

 文書エンコーディングのiconv名
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
追加フラグ
\end_layout

\end_inset

フィールドには、以下のフラグをコンマで区切って入力することができます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
latex
\end_layout

\end_inset

 この変換子が\SpecialChar LaTeX
の一種を実行することを示します。これによって、\SpecialChar LyX
の\SpecialChar LaTeX
エラーログに記録を残せるようになります。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
needaux
\end_layout

\end_inset

 変換に\SpecialChar LaTeX
の
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
.aux
\end_layout

\end_inset

ファイルが必要であることを示します。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
nice
\end_layout

\end_inset

 バックエンドからの
\begin_inset Quotes erd
\end_inset

nice
\begin_inset Quotes erd
\end_inset

なファイル、つまり\SpecialChar LyX
が書き出す\SpecialChar LaTeX
ファイルのように、
\begin_inset Flex Code
status open

\begin_layout Plain Layout
input@path
\end_layout

\end_inset

のない\SpecialChar LaTeX
ファイルを必要とします。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xml
\end_layout

\end_inset

 出力がXMLであることを示します。
\end_layout

\begin_layout Standard
以下の3つのフラグは 
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
key
\begin_inset space ~
\end_inset

=
\begin_inset space ~
\end_inset

value
\end_layout

\end_inset

形式の引数をとります（したがって厳密にはフラグとは呼べません）。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
parselog
\end_layout

\end_inset

 これを指定すると、変換子の標準エラーが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
infile.out
\end_layout

\end_inset

ファイルにリダイレクトされ、引数に指定されたスクリプトが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
script < infile.out > infile.log
\end_layout

\end_inset

の形で実行されるようになります。引数には
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

を指定することができます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
resultdir
\end_layout

\end_inset

 これには、変換子が生成したファイルをダンプするディレクトリ名を指定します。\SpecialChar LyX
はこのディレクトリを作成せず、ここに何もコピーしませんが、このディレクトリを宛先にコ
ピーします。引数には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

を使用することができ、これはディレクトリがコピーされる際に、入力ファイルおよび出力ファイルのベース名で置換されます。
\begin_inset Newline newline
\end_inset

resultdirとusetempdirは、同時に用いることはできませんのでご注意ください。前者が指定されているときには、後者は無視されます。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
resultfile
\end_layout

\end_inset

 これは出力ファイル名を指定するもので、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

を使用することができます。resultdirが指定されているときのみ有効で、必ず用いる必要はありません。指定されていなければ、既定値は「index」です。
\end_layout

\begin_layout Standard
最後の3つは、\SpecialChar LyX
とともに導入される変換子には、現在いずれも使用されておりません。
\end_layout

\begin_layout Standard
変換しようとするすべての形式のあいだに変換子を定義する必要はありません。たとえば、「\SpecialChar LyX
からPostScript」変換子が定義されていないのに、\SpecialChar LyX
はPostScrip
tを書き出していることに気づかれることでしょう。これは、まず\SpecialChar LaTeX
ファイルを生成した後に（これには変換子を定義する必要はありません）、「LaTeXからDVI」変換子を
使用してDVIに変換し、最後に、得られたDVIをPostScriptに変換することによって実現しています。\SpecialChar LyX
はこのような変換子の「連鎖」を自動的に見つけ、つねに最
も短い連鎖を選択します。しかしながら、なお形式間に複数の変換方法を定義することも可能です。たとえば、標準的な\SpecialChar LyX
設定は、\SpecialChar LaTeX
からPDFへ変換するのに、以下の3つの方法を
用意しています。
\end_layout

\begin_layout Enumerate
直接
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

を使用するもの
\end_layout

\begin_layout Enumerate
（DVIと）PostScriptを経由して
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ps2pdf
\end_layout

\end_inset

を使用するもの
\end_layout

\begin_layout Enumerate
DVI経由で
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
dvipdfm
\end_layout

\end_inset

を使用するもの
\end_layout

\begin_layout Enumerate
直接
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Xe\SpecialChar TeX

\end_layout

\end_inset

を使用するもの
\end_layout

\begin_layout Enumerate
直接
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Lua\SpecialChar TeX

\end_layout

\end_inset

を使用するもの
\end_layout

\begin_layout Standard
このように代替連鎖を定義するには、第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:ファイル形式"

\end_inset

節に述べられているように、ターゲットとなる「ファイル形式」を複数定義しなくてはなりません。たとえば、標準設定では、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

(
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ps2pdf
\end_layout

\end_inset

用)・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf2
\end_layout

\end_inset

(
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

用)・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf3
\end_layout

\end_inset

(
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
dvipdfm
\end_layout

\end_inset

用)・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf4
\end_layout

\end_inset

(
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Xe\SpecialChar TeX

\end_layout

\end_inset

用)・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
pdf5
\end_layout

\end_inset

(
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Lua\SpecialChar TeX

\end_layout

\end_inset

用\SpecialChar softhyphen
) と命名された形式が定義されていて、すべて共通の拡張子
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
.pdf
\end_layout

\end_inset

を持ち、上記で言及した各変換方法に対応しています。
\end_layout

\begin_layout Chapter
\SpecialChar LyX
の各国語対応
\begin_inset CommandInset label
LatexCommand label
name "cha:LyXの各国語対応"

\end_inset


\end_layout

\begin_layout Standard
\SpecialChar LyX
は、翻訳された操作画面の利用をサポートしています。私たちが最後に確かめたところでは、\SpecialChar LyX
は30言語の翻訳を提供しています。選択した言語は、使用する
\emph on
ロケール
\emph default
と呼ばれます（ロケール設定についての詳しい資料は、お使いの基本ソフトに添付のロケール関連説明書をご覧ください。Linuxの場合は、マニュアルページの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
locale(5)
\end_layout

\end_inset

から見ると良いかもしれません）。
\end_layout

\begin_layout Standard
これらの翻訳は適切に機能しますが、欠点もいくつかあることに注意してください。たとえば、ダイアログはすべて英文を念頭にデザインされているため、翻訳文の一部は、割り
当てられたスペースに収めるには大きすぎるかもしれません。これは表示上の問題に過ぎず、他の障害は引き起こしません。また、翻訳によっては、すべての
\begin_inset Flex Ruby
status collapsed

\begin_layout Plain Layout
捷径
\begin_inset Argument post:1
status collapsed

\begin_layout Plain Layout
ショートカット
\end_layout

\end_inset


\end_layout

\end_inset

が定義されていないことに気づかれるでしょう。捷径のために空いている文字が十分ないことが時々あるのです。単に翻訳者がまだ捷径を定義していないこともあるでしょう。も
ちろん、私たちの各国語対応チーム—あなたも参加したいと思われるかもしれません
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
もしあなたが英語以外の言語を流暢に操れるならば、これらのチームに参加することは、\SpecialChar LyX
コミュニティに報いるたいへん素晴らしい方法です！
\end_layout

\end_inset

—は、\SpecialChar LyX
の将来のバージョンでこれらの欠点を修正しようとするでしょう。
\end_layout

\begin_layout Section
\SpecialChar LyX
を翻訳する
\end_layout

\begin_layout Subsection
グラフィカル・ユーザ・インタフェース（テキスト・メッセージ）を翻訳する
\begin_inset Argument 1
status collapsed

\begin_layout Plain Layout
GUI（テキストメッセージ）を翻訳する
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\SpecialChar LyX
は、操作画面の国際化対応にGNU 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

ライブラリを使用します。\SpecialChar LyX
のすべてのメニューやダイアログでお好みの言語を話させたいときには、その言語の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

ファイルが必要です。このファイルが利用可能であれば、そこから
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
mo
\end_layout

\end_inset

ファイルを生成して、この
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
mo
\end_layout

\end_inset

ファイルをインストールしなくてはなりません。この全過程は、GNU 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

の取扱説明書に説明があります。この作業をあなたのためだけに行うこともできますが、もしせっかくするのであれば、あなたの骨折りの結果を\SpecialChar LyX
コミュニティの他の人々と分かち
合いませんか。どのように段取りを進めればよいか、詳しくは\SpecialChar LyX
開発者メーリングリストにメールを送ってください。
\end_layout

\begin_layout Standard
要約すれば、以下のように行います（xxは言語コードを表します）。
\end_layout

\begin_layout Itemize
\SpecialChar LyX
ソースコードをチェックアウトしてください（
\begin_inset CommandInset href
LatexCommand href
name "ウェブ上の情報"
target "http://www.lyx.org/HowToUseGIT"

\end_inset

参照）。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyx.pot
\end_layout

\end_inset

ファイルを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
**.po
\end_layout

\end_inset

ファイルのあるフォルダにコピーして、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xx.po
\end_layout

\end_inset

に名前を付け替えてください（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyx.pot
\end_layout

\end_inset

がどこにもない場合には、コンソールからそのディレクトリで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
make lyx.pot
\end_layout

\end_inset

コマンドを実行し、作成し直すか、他言語の既存のpoファイルをひな型として使用することができます）。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xx.po
\end_layout

\end_inset

を編集します。
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これは単なるテキストファイルなので、どのテキストエディタでも編集できます。しかし、
\family typewriter
Poedit
\family default
（全プラットフォーム用）や
\family typewriter
KBabel
\family default
（KDE用）のように、この目的の編集をサポートする特別なプログラムがあります。
\family typewriter
Emacs
\family default
にも
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

ファイルを編集するための「モード」があります、第
\begin_inset Flex URL
status open

\begin_layout Plain Layout

https://www.gnu.org/software/gettext/manual/html_node/PO-Mode.html
\backslash
#PO-Mode
\end_layout

\end_inset

。
\end_layout

\end_inset

メニューラベルやウィジェットラベルのうちには、翻訳しなくてはならない
\begin_inset Flex Ruby
status collapsed

\begin_layout Plain Layout
捷径
\begin_inset Argument post:1
status collapsed

\begin_layout Plain Layout
ショートカット
\end_layout

\end_inset


\end_layout

\end_inset

がある場合があります。これらのキーは「|」の後に記されており、当該言語の単語やフレーズに対応して翻訳しなくてはなりません。さらに、新しい
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

ファイルの冒頭に、あなたの電子メールアドレスなどの情報も書き加えて、人々があなたに提案や、滑稽な怒りのメッセージを届けることができるようにしてください。
\end_layout

\begin_layout Standard
もし、あなたがこれを自身のためだけに行っているのであれば、
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xx.mo
\end_layout

\end_inset

を生成してください。これは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
msgfmt -o xx.mo < xx.po
\end_layout

\end_inset

でできます。
\end_layout

\begin_layout Itemize
この
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
mo
\end_layout

\end_inset

ファイルを、お使いのロケールツリー中、言語xxのアプリケーションメッセージ用の正式なディレクトリにコピーして、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyx.mo
\end_layout

\end_inset

という名称にしてください（例：
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
/usr/local/share/locale/xx/LC_MESSAGES/lyx.mo
\end_layout

\end_inset

）。
\end_layout

\begin_layout Standard
しかしながら前述のように、この新しい
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

ファイルを他の人たちが使用できるよう、\SpecialChar LyX
頒布版に追加できることが最善です。これを追加するには、\SpecialChar LyX
に変更を加える必要がありますので、もしその気があれば、開発者メーリン
グリストに電子メールを送ってください。
\end_layout

\begin_layout Subsubsection
多義訳語メッセージ
\end_layout

\begin_layout Standard
時には、一つの英語のメッセージが、翻訳先の言語では複数のメッセージに翻訳されなくてはならないことが判明することがあります。一つの例は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

というメッセージで、これは英語で「to」がどういう意味を持っているかによって、独語ではNachと訳されたりBisと訳されたりします。GNU 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

は、このような多義訳語を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

の代わりに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
To[[as in 'From format x to format y']]
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
To[[as in 'From page x to page y']]
\end_layout

\end_inset

としなくてはなりません。これによって、これら2つの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

には別物と解釈され、それぞれ正しくNachとBisに訳すことができるようになります。
\end_layout

\begin_layout Standard
もちろん、この文脈情報は、翻訳が存在しないときには取り去られる必要がありますので、メッセージの終わりに二重大括弧で囲わなくてはなりません（上例参照）。\SpecialChar LyX
の翻訳機構
では、メッセージの終わりに二重大括弧で囲われているものはすべて、メッセージを表示する前に取り去るようにされています。
\end_layout

\begin_layout Subsection
説明書を翻訳する
\end_layout

\begin_layout Standard
（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Help
\end_layout

\end_inset

メニュー中の）オンライン説明書は翻訳することができます（そして翻訳されるべきです！）。説明書の翻訳版が利用可能であり
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
2008年3月現在、説明書の少なくとも一部が翻訳されている言語は14言語に上り、入門編が訳されているものはさらにいくつかあります。
\end_layout

\end_inset

、ロケールがその言語に設定されている場合、\SpecialChar LyX
はこれを自動的に使用します。\SpecialChar LyX
は、翻訳版を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir/doc/xx/DocName.lyx
\end_layout

\end_inset

（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xx
\end_layout

\end_inset

は現在使用している言語コード）で探します。翻訳文書がない場合には、既定の英語版が表示されます。翻訳版は、原典と同じファイル名（上述の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DocName
\end_layout

\end_inset

）を持っていなくてはならないことに注意してください。説明書を翻訳する気がおありであれば（これは原典の校正としてもたいへん役立ちます！）、以下のような点をすぐに行
うべきです。
\end_layout

\begin_layout Itemize
説明書翻訳ウェブページ
\begin_inset CommandInset href
LatexCommand href
name "http://www.lyx.org/Translation"
target "http://www.lyx.org/Translation"

\end_inset

を確認してください。ここで、どの文書が（もしあれば）お使いの言語に既に翻訳されているかを見つけることができます。また、説明書をお使いの言語に翻訳する作業の面倒を
見ている人を（もしいれば）見つけることができます。この作業の面倒を見ている人がいない場合には、私たちにあなたが興味をお持ちであることを知らせてください。
\end_layout

\begin_layout Standard
いったん実際の翻訳の仕事に取りかかったならば、トラブルを回避するいくつかのヒントがあります。
\end_layout

\begin_layout Itemize
文書化チームに所属してください！そのための情報が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Intro.lyx
\end_layout

\end_inset

（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar menuseparator
はじめの一歩
\end_layout

\end_inset

）にあります。また、この
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Intro.lyx
\end_layout

\end_inset

が最初に訳すべき文書です。
\end_layout

\begin_layout Itemize
翻訳しようとする言語での印刷慣行を学んでください。活版印刷は古来の技術であり、何世紀にもわたって世界の至る所で、様々な慣行を発達させてきました。また、あなたの国
で活版工が用いる専門用語も学んでください。自分で勝手な専門用語を捻出するとユーザを混乱させるだけです。（
\emph on
警告！活版技術は病みつきになる可能性があるので注意してくさい！
\emph default
）
\end_layout

\begin_layout Itemize
文書のコピーをとってください。これを作業用コピーとします。これをお使いの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/doc/xx/
\end_layout

\end_inset

ディレクトリにコピーすれば、個人用の翻訳ヘルプファイルとして使用することができます。
\begin_inset Newline newline
\end_inset


\lang english

\begin_inset Note Greyedout
status open

\begin_layout Plain Layout

\series bold
\lang english
Note:
\series default
 For a complex document with external material (images, etc.), if you make
 a copy e.
\begin_inset space \thinspace{}
\end_inset

g.
\begin_inset space \space{}
\end_inset

in a temp dir, beware that the links to external material may be broken
 when the document is moved to a different place.
 The best way is to retrieve the \SpecialChar LyX
 tree from git (see 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.lyx.org/HowToUseGIT
\end_layout

\end_inset

) and to edit the doc file in place.
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
（\SpecialChar LyX
チームが維持している）原典の説明書は、時折更新されます。変更点については、
\begin_inset CommandInset href
LatexCommand href
name "http://www.lyx.org/trac/timeline"
target "http://www.lyx.org/trac/timeline"

\end_inset

のソースビューアでご覧ください。この方法で、翻訳文書のどの部分を更新しなくてはならないか、たやすく見つけることができます。
\end_layout

\begin_layout Standard
もし原典に誤りを見つけたならば、修正して文書化チームの他のメンバーに変更したことを知らせてください（文書化チームに参加することをお忘れになっていませんよね）。
\end_layout

\begin_layout Standard
\begin_inset Branch OutDated
status collapsed

\begin_layout Section
International Keyboard Support
\end_layout

\begin_layout Standard

\emph on
[Editor's Note: The following section is by
\emph default
 
\shape smallcaps
\emph on
Ivan Schreter
\shape default
.
 It needs to be fixed to conform to the new Documentation Style sheet and
 to make use of the new v1.0 features.
 The whole thing also needs to be merged with the section following it.-jw
 It may also be badly out of date.-rh (2008)]
\end_layout

\begin_layout Subsection
Defining Own Keymaps: Keymap File Format
\end_layout

\begin_layout Standard
Let's look at a keyboard definition file a little closer.
 It is a plain text file defining
\end_layout

\begin_layout Itemize
key-to-key or key-to-string translations
\end_layout

\begin_layout Itemize
dead keys
\end_layout

\begin_layout Itemize
dead keys exceptions
\end_layout

\begin_layout Standard
To define key-to-key or key-to-string translation, use this command:
\end_layout

\begin_layout Quotation
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kmap
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 outstring 
\end_layout

\begin_layout Standard
where 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 is the key to be translated and 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
outstring
\end_layout

\end_inset

 is the string to be inserted into the document.
 To define dead keys, use:
\end_layout

\begin_layout Quotation
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kmod
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 deadkey
\end_layout

\begin_layout Standard
where 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 is a keyboard key and 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
deadkey
\end_layout

\end_inset

 is dead key name.
 The following dead keys are supported (shortcut name is in parentheses):
\end_layout

\begin_layout Quotation

\emph on
Name
\begin_inset space \hfill{}
\end_inset

Example
\end_layout

\begin_layout Quotation
acute (acu)
\begin_inset space \hfill{}
\end_inset


\lang english
áéíóú
\end_layout

\begin_layout Quotation
grave (gra)
\begin_inset space \hfill{}
\end_inset


\lang english
àèìòù
\end_layout

\begin_layout Quotation
macron (mac)
\begin_inset space \hfill{}
\end_inset


\lang english
 ō
\end_layout

\begin_layout Quotation
tilde (til)
\begin_inset space \hfill{}
\end_inset


\lang english
ñÑ
\end_layout

\begin_layout Quotation
underbar (underb)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
b o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
cedilla (ced)
\begin_inset space \hfill{}
\end_inset


\lang english
çÇ
\end_layout

\begin_layout Quotation
underdot (underd)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
d o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
circumflex (circu)
\begin_inset space \hfill{}
\end_inset


\lang english
âêîôû
\end_layout

\begin_layout Quotation
circle (circl)
\begin_inset space \hfill{}
\end_inset


\lang english
ÅůŮ
\end_layout

\begin_layout Quotation
tie (tie)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
t o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
breve (bre)
\begin_inset space \hfill{}
\end_inset


\lang english
ă
\lang japanese

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
u o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
caron (car)
\begin_inset space \hfill{}
\end_inset


\lang english
čšž
\end_layout

\begin_layout Quotation
hungarian umlaut (hug)
\begin_inset space \hfill{}
\end_inset


\lang english
őű
\end_layout

\begin_layout Quotation
umlaut (uml)
\begin_inset space \hfill{}
\end_inset


\lang english
äöü
\end_layout

\begin_layout Quotation
dot (dot)
\begin_inset space \hfill{}
\end_inset


\lang english
ż
\lang japanese

\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
.s
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Since in many international keyboards there are exceptions to what some
 dead keys should do, you can define them using
\end_layout

\begin_layout Quotation
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kxmod
\end_layout

\end_inset

 deadkey key outstring
\end_layout

\begin_layout Standard
For example, on Slovak keyboard, if you enter caron-o, it generates circumflex-o
, so you put in
\end_layout

\begin_layout Quotation
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kxmod
\end_layout

\end_inset

 caron o "
\backslash
^o"
\end_layout

\begin_layout Standard
to make it work correctly.
 Also, you have to define as exceptions dead keys over i and j, to remove
 the dot from them before inserting an accent mark.
 I will change this when the time comes, but so far I haven't had time.
\end_layout

\begin_layout Standard
Oh, and about characters: backslash is escaped, so to enter it, you'll need
 double backslash.
 Also, quotes and 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 have different meaning.
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 marks comments, quotes start and end \SpecialChar LaTeX
-style commands.
 To enter quote, you'll need to use 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
"
\end_layout

\end_inset

, to enter 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

, use 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
#
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
If you make a keyboard description file that works for your language, please
 mail it to me, so I can include it in the next keymap distribution.
\end_layout

\begin_layout Standard
More keywords will be supported in keymap configuration file in future,
 like
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kinclude filename
\end_layout

\end_inset


\emph on

\begin_inset space \hfill{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
include
\end_layout

\end_inset

 another file
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kprog program
\end_layout

\end_inset


\emph on

\begin_inset space \hfill{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
define
\end_layout

\end_inset

 an external keymap translation program 
\end_layout

\begin_layout Standard
Also, it should look into 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyxrc
\end_layout

\end_inset

 file for defaults, too (for example, a 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kinclude
\end_layout

\end_inset

 option to include default keyboard).
\end_layout

\end_inset


\end_layout

\begin_layout Section
国際キー配列
\begin_inset CommandInset label
LatexCommand label
name "sec:国際キー配列"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
2008年3月にこの文書を改訂するに当たって、改訂者が本節の内容に詳しくなかったために、本節は改訂されていません。他に改訂してくださる方がおられれば幸いです。
\end_layout

\begin_layout Plain Layout
(RH)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
以下の2節では、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

および
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.cdef
\end_layout

\end_inset

ファイルの文法を詳細に解説します。これらの節は、提供されているキー配列があなたのニーズに合わない場合に、自身用のキー配列をデザインする手助けとなるでしょう。
\end_layout

\begin_layout Subsection
.kmapファイル
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

ファイルは、打鍵したものを文字や文字列に割り当てます。名前が示唆するように、これはキーボード配列表を定義します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

ファイルは、以下の各項で説明するように、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kmap
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kmod
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ksmod
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kcomb
\end_layout

\end_inset

のキーワードを定義します。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kmap
\end_layout

\end_inset

 文字を文字列に割り当てる
\end_layout

\begin_layout LyX-Code

\backslash
kmap 
\family roman
\emph on
文字
\family default
\emph default
 
\family roman
\emph on
文字列
\end_layout

\begin_layout Standard
これは、
\emph on
文字
\emph default
を
\emph on
文字列
\emph default
に割り当てます。
\emph on
文字列
\emph default
中では、二重引用符（"）とバックスラッシュ（
\backslash
）は、前にバックスラッシュ（
\backslash
）を付けてエスケープしなくてはならないことに注意してください。
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
&
\end_layout

\end_inset

を打鍵すると
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
/
\end_layout

\end_inset

記号が出力される
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
kmap
\end_layout

\end_inset

ステートメントを、一例としてあげると、
\end_layout

\begin_layout LyX-Code

\backslash
kmap & /
\end_layout

\begin_layout Standard
のようになります。
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kmod
\end_layout

\end_inset

 アクセント文字を指定する
\end_layout

\begin_layout LyX-Code

\backslash
kmod 
\family roman
\emph on
文字 アクセント 許可文字
\end_layout

\begin_layout Standard
これは
\emph on
文字
\emph default
を
\emph on
許可文字
\emph default
のアクセントとするものです。これはデッドキー
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
デッドキー
\emph default
という用語は、それ自身で文字を出力しないけれども、別のキーを続けて打つと、望んだアクセント文字を出力するキーのことを指し示します。たとえば、独語で
\emph on
ä
\emph default
のようなウムラウトのついた文字は、このようにして出すことができます。
\end_layout

\end_inset

機構です。
\end_layout

\begin_layout Standard

\emph on
文字
\emph default
を打鍵してから
\emph on
許可文字
\emph default
にないキーを打鍵すると、
\emph on
文字
\emph default
の後に許可文字ではないその文字が出力として表示されます。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Backspace
\end_layout

\end_inset

はデッドキーを取り消しますので、
\emph on
文字
\emph default
→
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Backspace
\end_layout

\end_inset

と打鍵すると、カーソルは一文字戻ることなく、文字が次の打鍵したものに及ぼしたはずの効力を取り消します。
\end_layout

\begin_layout Standard
以下の例は、'文字をacuteアクセントとして、a・e・i・o・u・A・E・I・O・Uの文字に許可するものです。
\end_layout

\begin_layout LyX-Code

\backslash
kmod ' acute aeiouAEIOU
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ksmod
\end_layout

\end_inset

 アクセント文字に例外を指定する
\end_layout

\begin_layout LyX-Code

\backslash
kxmod  
\family roman
\emph on
アクセント 文字 結果
\end_layout

\begin_layout Standard
これは
\emph on
文字
\emph default
上の
\emph on
アクセント
\emph default
について例外を指定するものです。ここで
\emph on
アクセント
\emph default
には、前出の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kmod
\end_layout

\end_inset

宣言で打鍵キーを既に割り当てられてなくてはならず、
\emph on
文字
\emph default
は
\emph on
アクセント
\emph default
の
\emph on
許可文字
\emph default
の集合に属していてはなりません。こうして
\emph on
アクセント
\emph default
→
\emph on
文字
\emph default
の順に入力すると、
\emph on
結果
\emph default
が出力されるようになります。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

ファイルにこの宣言がない場合には、
\emph on
アクセント
\emph default
→
\emph on
文字
\emph default
と入力すると、
\emph on
アクセントキー
\emph default
→
\emph on
文字
\emph default
（
\emph on
アクセントキー
\emph default
は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kmod
\end_layout

\end_inset

宣言の最初の変数）と出力されます。
\end_layout

\begin_layout Standard
以下のコマンドを用いると、acute-i（'i）と入力した場合、äiと出力されるようになります。
\end_layout

\begin_layout LyX-Code

\backslash
kxmod acute i "
\backslash

\backslash
'{
\backslash

\backslash
i}"
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kcomb
\end_layout

\end_inset

 2つのアクセント文字を結合する
\end_layout

\begin_layout LyX-Code

\backslash
kcomb 
\family roman
\emph on
アクセント1 アクセント2 許可文字
\end_layout

\begin_layout Standard
これはなかなか難解になってきます。これは
\emph on
アクセント1
\emph default
と
\emph on
アクセント2
\emph default
を（この順番で）結びつけて、
\emph on
許可文字
\emph default
に効果を及ぼすようにします。
\emph on
アクセント1
\emph default
と
\emph on
アクセント2
\emph default
の打鍵キーは、ファイル内のこのコマンド
\emph on
よりも前に
\emph default
、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
kmod
\end_layout

\end_inset

コマンドで設定されていなくてはなりません。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
greek.kmap
\end_layout

\end_inset

ファイル上にある例をとってみましょう。
\end_layout

\begin_layout LyX-Code

\backslash
kmod ; acute aeioyvhAEIOYVH 
\backslash
kmod : umlaut iyIY 
\backslash
kcomb acute umlaut iyIY
\end_layout

\begin_layout Standard
これは
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
;:i
\end_layout

\end_inset

を押すと
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
'{
\backslash
"{i}}
\end_layout

\end_inset

という効果を得るようにするものです。この場合のバックスペースは、最後のデッドキーを取り消すので、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
;: Backspace i
\end_layout

\end_inset

と押した場合には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
'{i}
\end_layout

\end_inset

となります。
\end_layout

\begin_layout Subsection
.cdefファイル
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

による割り当てが行われた後、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.cdef
\end_layout

\end_inset

ファイルは、記号の作り出す文字列を現在のフォントの文字に割り当てます。\SpecialChar LyX
頒布版には、現在のところ、少なくとも
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
iso8859-1.cdef
\end_layout

\end_inset

ファイルと
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
iso8859-2.cdef
\end_layout

\end_inset

ファイルが含まれています。
\end_layout

\begin_layout Standard
一般的に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.cdef
\end_layout

\end_inset

ファイルは、
\end_layout

\begin_layout LyX-Code

\family roman
\emph on
セット中の文字番号
\family default
\emph default
 
\family roman
\emph on
 文字列
\end_layout

\begin_layout Standard
という形の宣言の羅列です。たとえば、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout

\backslash
'{e}
\end_layout

\end_inset

をiso-8859-1セットの対応する文字(233)に割り当てるには、以下の宣言を用います。
\end_layout

\begin_layout LyX-Code
233 "
\backslash

\backslash
'{e}"
\end_layout

\begin_layout Standard
ここで、
\emph on
文字列
\emph default
中の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash

\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
"
\end_layout

\end_inset

はエスケープされています。同一の文字を二つ以上の文字列に充てることができることに注意してください。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
iso-8859-7.cdef
\end_layout

\end_inset

ファイルには、
\end_layout

\begin_layout LyX-Code
192 "
\backslash

\backslash
'{
\backslash

\backslash

\backslash
"{i}}"
\begin_inset Newline newline
\end_inset

192 "
\backslash

\backslash

\backslash
"{
\backslash

\backslash
'{i}}"
\end_layout

\begin_layout Standard
という例があります。\SpecialChar LyX
は、キー打鍵やデッドキーの組み合わせで生成される文字列の割り当てを見つけることができないとき、それがアクセント付き文字のように解釈ができない
かどうかチェックして、画面上の文字にアクセントを引くことを試みます。
\end_layout

\begin_layout Subsection
デッドキー
\end_layout

\begin_layout Standard
国際文字のサポートを追加する第2の方法として、いわゆるデッドキーによる方法があります。デッドキーは文字と一緒に用いて、アクセント付き文字を生成します。ここではそ
の機能を説明するために、きわめて単純なデッドキーの作り方を説明します。
\end_layout

\begin_layout Standard
仮に、曲折アクセント記号「 ̂」が必要になったものとしましょう。この場合、自身の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lyxrc
\end_layout

\end_inset

ファイル中で、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset

キー（すなわち
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Shift-6
\end_layout

\end_inset

キー）を、\SpecialChar LyX
コマンドの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
accent-circumflex
\end_layout

\end_inset

に結びつけることができます。すると
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset

キーの後に文字を打ったときはいつでも、この文字上に曲折アクセントが付けられるようになります。たとえば「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
^e
\end_layout

\end_inset

」という打鍵順は「ê」という文字を生成します。しかしながら、もし「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
^t
\end_layout

\end_inset

」と打鍵したならば、「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
t
\end_layout

\end_inset

」は曲折アクセントをとることは決してないために、\SpecialChar LyX
はビープを鳴らして文句を付けます。デッドキーの後に
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
スペース
\end_layout

\end_inset

を打つと、アクセントだけが生成されます。この最後の点に注意してください。あるキーをデッドキーに割り当てる場合には、このキー上の文字を別のキーに割り当て直す必要が
あります。たとえば、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
,キー
\end_layout

\end_inset

をセディーユに割り当てるのはよくありません。コンマを入力しようとすると必ずセディーユが出てくるようになるためです。
\end_layout

\begin_layout Standard
デッドキーを割り当てるのによく用いられる方法は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Meta-
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Ctrl-
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Shift-
\end_layout

\end_inset

キーを、「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
~
\end_layout

\end_inset

」・「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
,
\end_layout

\end_inset

」・「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset

」のようなアクセントと一緒に用いる方法です。また、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xmodmap
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
xkeycaps
\end_layout

\end_inset

を使って、特別な
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Mode_Switch
\end_layout

\end_inset

キーを設定する方法もあります。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Mode_Switch
\end_layout

\end_inset

キーは、ちょうど
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Shift
\end_layout

\end_inset

キーのように機能するので、アクセント文字を割り当てるのに使用できます。また、特定のキーを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
usldead_cedilla
\end_layout

\end_inset

などに割り当てることで、これらのキーをデッドキーに仕立て、このシンボリックキーを対応する\SpecialChar LyX
コマンドに割り当てることもできます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\noun on
John Weiss
\noun default
からの註：これはまさに私が、自分の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~/.lyx/lyxrc
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~/.xmodmap
\end_layout

\end_inset

で行っていることです。私は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Scroll
\begin_inset space ~
\end_inset

Lock
\end_layout

\end_inset

キーを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Mode_Shift
\end_layout

\end_inset

に仕立てて、多数の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
usldead_*
\end_layout

\end_inset

シンボリックキーを
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Scroll
\begin_inset space ~
\end_inset

Lock-^
\end_layout

\end_inset

や
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Scroll
\begin_inset space ~
\end_inset

Lock-~
\end_layout

\end_inset

などに割り当てています。私はこの方法でアクセント文字を入力しています。
\end_layout

\end_inset

。この
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Mode_Switch
\end_layout

\end_inset

キーには、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Ctrl-
\end_layout

\end_inset

キーの片方や使われていないファンクションキーなど、ほぼ何でも指定することができます。アクセントを生み出す\SpecialChar LyX
コマンドについては、
\emph on
\SpecialChar LyX
関数説明書
\emph default
の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LFUN_ACCENT_*
\end_layout

\end_inset

の項をご覧ください。ここには完備した一覧があります。
\end_layout

\begin_layout Subsection
自分の言語設定を保存する
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログを使えば、\SpecialChar LyX
を起動したときに、ご希望の言語環境に自動的に設定されるように、設定を編集することができます。
\end_layout

\begin_layout Chapter
文書クラス・レイアウト・ひな型の新規導入
\begin_inset CommandInset label
LatexCommand label
name "cha:新規文書を導入"

\end_inset


\begin_inset Argument 1
status collapsed

\begin_layout Plain Layout
文書クラスを新規に導入する
\end_layout

\end_inset


\end_layout

\begin_layout Standard
この章では、新しく\SpecialChar LyX
のレイアウトファイルやひな型ファイルを作成して、導入する手順を説明すると共に、新規に\SpecialChar LaTeX
文書クラス（ドキュメントクラス）を正しく導入する方法を復習
します。
\end_layout

\begin_layout Standard
まず、\SpecialChar LyX
と\SpecialChar LaTeX
の間の関係をどのように考えるべきか、若干の註釈を加えておくことにしましょう。理解していただきたいことは、ある意味において、\SpecialChar LyX
は、La\SpecialChar TeX
について何も知らないと
云うことです。実際のところ、\SpecialChar LyX
の観点からは、\SpecialChar LaTeX
は、\SpecialChar LyX
が出力を生成することができる、複数の「バックエンド形式」のうちの一つに過ぎないということです。同種のバックエンド形
式には、DocBook・平文・XHTMLがあります。もちろん\SpecialChar LaTeX
は、とくに重要な形式ですが、\SpecialChar LyX
がLa\SpecialChar TeX
について持っている情報のほとんどは、実はプログラム本体には含まれて
いないのです
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
過度に複雑なため、\SpecialChar LyX
に「ハードコード化」されているコマンドもありますが、一般的に開発者は、これを「わるいこと」とみなしています。
\end_layout

\end_inset

。このような情報は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

のような標準クラスでも、「レイアウトファイル」に保管されています。同様に、\SpecialChar LyX
は、DocBookやXHTMLについてもほとんど知りません。\SpecialChar LyX
が知っていることは、レイア
ウトファイルの中にあります。
\end_layout

\begin_layout Standard
文書クラス用のレイアウトファイルは、\SpecialChar LyX
構成体—対応する様式や何らかの差込枠などを有する段落群—と、それに対応する\SpecialChar LaTeX
構成体・DocBook構成体・XHTML構成体との
間の翻訳指南書のようなものです。たとえば、\SpecialChar LyX
が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

について知っていることのほとんど総ては、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.layout
\end_layout

\end_inset

と、それが呼び出す他の様々なファイルに書き込まれています。このことから、レイアウトファイルを書こうとする人は、既存のファイルを研究することを勧めます。とっかかり
としては、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.layout
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
book.layout
\end_layout

\end_inset

や、文書クラス用の他のレイアウトファイルに取り込まれている
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

から見始めるのがよいでしょう。このファイルは、節などの定義が為されている場所です。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

は、節様式や小節様式などとしてマークされている段落を、対応する\SpecialChar LaTeX
・DocBook・XHTMLのコマンドやタグにどのように翻訳すべきかを\SpecialChar LyX
に知らせるものです。基本的に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.layout
\end_layout

\end_inset

ファイルは、これらの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
std*.inc
\end_layout

\end_inset

ファイルを取り込んでいるだけのものです。
\end_layout

\begin_layout Standard
しかしながら、\SpecialChar LyX
–\SpecialChar LaTeX
間の対応を定義するだけが、レイアウトファイルが行うことではありません。レイアウトファイルが行うもう一つの仕事は、\SpecialChar LyX
構成体自身が画面上にどのように表
示されるべきかを定義することです。この2つの仕事は全く独立したものであるので、レイアウトファイルが2つの仕事を行うという事実は、しばしば混乱を引き起こす元となり
ます。ある段落様式を\SpecialChar LaTeX
に翻訳する仕方を\SpecialChar LyX
に指示することは、その表示の仕方を\SpecialChar LyX
に指示するものではありません。逆に、ある段落様式の表示の仕方を\SpecialChar LyX
に指示することは、その段落様
式をどのように\SpecialChar LaTeX
に翻訳するかを\SpecialChar LyX
に指示するものではありません（ましてや\SpecialChar LaTeX
に表示の仕方を指示するものではありません）。つまり、一般的に、新しい\SpecialChar LyX
構成体を定義する際には、(
i)
\begin_inset space ~
\end_inset

\SpecialChar LaTeX
にどのように翻訳するかを\SpecialChar LyX
に指示する、(ii)
\begin_inset space ~
\end_inset

それをどのように表示するかを\SpecialChar LyX
に指示する、という、二つのかなり異なることを行わなくてはならないのです。
\end_layout

\begin_layout Standard
もちろん、\SpecialChar LyX
の他のバックエンド形式に関しても、ほぼ同じことが言えますが、XHTMLの場合には若干事情が異なり、\SpecialChar LyX
が、ブラウザ中での段落の表示方法を（CSSの形で）出
力するにあたって、当該段落を\SpecialChar LyX
が画面上に出力する仕方の情報を、ある程度利用することができます。しかし、この場合でも、\SpecialChar LyX
が内部的に行うことと、外部的に行う物事の間の区
別は、依然として有効であり、この2つは独立して制御することができます。詳細に関しては、第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:XHTML出力のタグ"

\end_inset

節をご覧ください。
\end_layout

\begin_layout Section
新しい\SpecialChar LaTeX
ファイルの導入
\end_layout

\begin_layout Standard
頒布版によっては、\SpecialChar LyX
で使いたい\SpecialChar LaTeX
パッケージやクラスファイルが含まれていないことがあるかもしれません。たとえば、オーバーヘッドプロジェクタ用のスライドを準備するための
パッケージである、Foil\SpecialChar TeX
がないかもしれません。\SpecialChar TeX
Live（2008年以降）やMiK\SpecialChar TeX
のような最近の\SpecialChar LaTeX
頒布版には、これらのパッケージを導入するためのユーザーインタフェ
ースが用意されています。たとえば、MiK\SpecialChar TeX
では、付属の「Package
\begin_inset space ~
\end_inset

Manager」プログラムを起動すると、利用できるパッケージの一覧を得ることができます。どれかを導入するには、その上で右クリックするかツールバーボタンを押してく
ださい。
\end_layout

\begin_layout Standard
お使いの\SpecialChar LaTeX
頒布版がこのような「パッケージマネジャー」を提供していなかったり、使用中の頒布版にそのパッケージが入っていない場合には、以下のステップに従って手動で導入
してください。
\end_layout

\begin_layout Enumerate
\begin_inset CommandInset href
LatexCommand href
name "CTAN"
target "http://www.ctan.org/"

\end_inset

などから欲しいパッケージを入手してください。
\end_layout

\begin_layout Enumerate
パッケージに「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.ins
\end_layout

\end_inset

」で終わるファイル名が入っている場合（Foil\SpecialChar TeX
がその一例です）は、コンソールを開いて、このファイルのフォルダに移動し、コマンド
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
latex foiltex.ins
\end_layout

\end_inset

を実行してください。すると、パッケージが解凍されて、導入すべきすべてのファイルが展開されます。たいていの\SpecialChar LaTeX
パッケージは圧縮されていないので、このステップは飛ばすこ
とができます。
\end_layout

\begin_layout Enumerate
ここで、パッケージを全ユーザーに使用可能にするか自分自身だけで使うかを決定する必要があります。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
（Linux・OSXなどの）*nix系システムでは、システム上の全ユーザーに新パッケージを利用可能にしたければ、「ローカル」\SpecialChar TeX
ツリーに導入し、そうでなければ「ユー
ザー」\SpecialChar TeX
ツリーに導入してください。これらのツリーが存在しない場合にどこに作成すればよいかは、お使いのシステムに依存します。これを見いだすには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
texmf.cnf
\end_layout

\end_inset

ファイルを参照してください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
このファイルは、通常
\family sans
$TEXMF/web2c
\family default
ディレクトリにありますが、コマンド
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
kpsewhich texmf.cnf
\end_layout

\end_inset

を実行してその場所を見つけることもできます。
\end_layout

\end_inset

。「ローカル」\SpecialChar TeX
ツリーの場所は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TEXMFLOCAL
\end_layout

\end_inset

変数で定義されており、通常は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
/usr/local/share/texmf/
\end_layout

\end_inset


\lang english
or /usr/local/texlive/XXXX where XXXX is the year of the installed \SpecialChar TeX
Live
 distribution.
\lang japanese
のような場所になっています。「ユーザー」\SpecialChar TeX
ツリーの場所は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TEXMFHOME
\end_layout

\end_inset

で定義されており、通常は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$HOME/texmf/
\end_layout

\end_inset


\lang english
 or 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\family sans
\lang french
$HOME/.texliveXXXX
\end_layout

\end_inset

.
\lang japanese
です（もしこれらの変数が事前定義されていなければ、定義しなくてはなりません）。「ローカル」ツリーを作成したり変更したりするには、おそらくroot権限が必要ですが
、「ユーザー」ツリーにはこのような制限はありません。
\begin_inset Newline newline
\end_inset

一般的に、システムをアップグレードした際に、ユーザーが修正されたり上書きされたりということが起こらないので、ユーザーツリーに導入することが推奨されます。こうする
と、自分のホームディレクトリをバックアップする際に、パッケージも他のものと一緒にバックアップされます（もちろん通常行われるようにすればの話です）。
\end_layout

\begin_layout Enumerate
Windowで、システム上の全ユーザーに新パッケージを利用可能にしたい場合には、\SpecialChar LaTeX
の導入されているフォルダのサブフォルダ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~
\backslash
tex
\backslash
latex
\end_layout

\end_inset

に移動します（MiK\SpecialChar TeX
の既定値では、これは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~:Programs
\backslash
MiKTeX
\backslash
tex
\backslash
latex
\end_layout

\end_inset

です）
\begin_inset Foot
status open

\begin_layout Plain Layout
これは、英語版でのみ正しいパスになっています。独語版では
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~:Programme
\backslash
MiKTeX
\backslash
tex
\backslash
latex
\end_layout

\end_inset

となり、他の言語でも同様です。
\end_layout

\end_inset

。ここに新規フォルダ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
foiltex
\end_layout

\end_inset

を作成し、パッケージの全ファイルをそこにコピーしてください。パッケージを自分だけで使用したい場合や、admin権限を持っていない場合には、ローカル\SpecialChar LaTeX
フォルダで同じ
ことを行います。たとえばMiK\SpecialChar TeX

\begin_inset space ~
\end_inset

2.8では、これはWinXP上では
\begin_inset Newline newline
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~:
\backslash
Documents and Settings
\backslash
<ユーザー名>
\backslash
Application Data
\backslash

\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\begin_inset Phantom HPhantom
status open

\begin_layout Plain Layout

\family typewriter
~:
\backslash

\end_layout

\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MiKTeX
\backslash
2.8
\backslash
tex
\backslash
latex
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

フォルダ、WinVista上では
\begin_inset Newline newline
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
~:
\backslash
Users
\backslash
<ユーザー名>
\backslash
AppData
\backslash
Roaming
\backslash
2.8
\backslash
MiKTeX
\backslash
tex
\backslash
latex
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

フォルダになります。
\end_layout

\end_deeper
\begin_layout Enumerate
ここまで来れば、あとは\SpecialChar LaTeX
に新しいファイルがあることを告げるだけです。これは使用している\SpecialChar LaTeX
頒布版に依存します。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Enumerate
\SpecialChar TeX
Liveの場合には、コンソールから
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
texhash
\end_layout

\end_inset

コマンドを実行してください。パッケージを全ユーザー用に導入した場合には、おそらくroot権限で行う必要があります。
\end_layout

\begin_layout Enumerate
MiK\SpecialChar TeX
では、パッケージを全ユーザー用に導入した場合には、「Settings
\begin_inset space ~
\end_inset

(Admin)」を起動し、「Refresh FNDB」と記してあるボタンを押してください。そうでない場合には、「Settings」を起動して同様に行ってください
。
\end_layout

\end_deeper
\begin_layout Enumerate
最後に、\SpecialChar LyX
に新しいパッケージがあることを告げなくてはなりません。そこで、\SpecialChar LyX
からツール\SpecialChar menuseparator
環境構成メニューを実行して、\SpecialChar LyX
を再起動します。
\end_layout

\begin_layout Standard
これでパッケージが導入されました。この例では、文書クラス
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Slides
\begin_inset space ~
\end_inset

(FoilTeX)
\end_layout

\end_inset

が
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定\SpecialChar menuseparator
文書クラス
\end_layout

\end_inset

で利用可能になっているはずです。
\end_layout

\begin_layout Standard
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定\SpecialChar menuseparator
文書クラス
\end_layout

\end_inset

メニューに列挙されてもいない\SpecialChar LaTeX
文書クラスを使用したい場合には、その「レイアウト」ファイルを作り出さなくてはなりません。これが次節のトピックです。
\end_layout

\begin_layout Section
レイアウトファイルの型
\end_layout

\begin_layout Standard
この節は、レイアウト情報を含む各種\SpecialChar LyX
ファイルについて述べます。これらのファイルは、各種段落様式や文字様式についての記述がされているものであり、\SpecialChar LyX
がそれらをどのように
表示すべきなのか、また、それらをどのように\SpecialChar LaTeX
やDocBook、XHTMLその他の出力形式に翻訳すればよいのかが記されています。
\end_layout

\begin_layout Standard
ここでは、レイアウトファイル作成過程の包括的な解説を試みたいと思いますが、\SpecialChar LaTeX
クラスだけでもサポートする文書の種類があまりにたくさんあるので、読者が出会いうるケース
や問題をすべてカバーすることはとても望めません。\SpecialChar LyX
ユーザーメーリングリストには、自身の経験を人々と分かち合いたいと望む、レイアウトデザインの経験豊かな人々がよく顔
を出していますので、気軽に質問を投げかけてみてください。
\end_layout

\begin_layout Standard
新しいレイアウトを準備するに当たっては、\SpecialChar LyX
と共に頒布されているレイアウトの例を見るのがたいへん役立ちます。他の人々も使用できる\SpecialChar LaTeX
文書クラス用の\SpecialChar LyX
レイアウトを作ったり、
他の人々にも有用なモジュールをお書きになった場合には、
\begin_inset CommandInset href
LatexCommand href
name "LyX Wikiのレイアウトに関する節"
target "http://wiki.lyx.org/Layouts/Layouts"

\end_inset

か、\SpecialChar LyX
開発者メーリングリストに投稿して、\SpecialChar LyX
頒布版に同梱することができるようにしてください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\SpecialChar LyX
はGeneral Public Licenseの下でライセンスされていますので、\SpecialChar LyX
に寄贈されたものは総て同じライセンス下に置かれることに注意してください。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
レイアウトモジュール
\begin_inset CommandInset label
LatexCommand label
name "subsec:レイアウトモジュール"

\end_inset


\end_layout

\begin_layout Standard
ここまで、「レイアウトファイル」についてお話してきました。しかし、レイアウト情報を含むものには、他の種類のファイルもあります。厳密にレイアウトファイルと呼ぶとき
、それは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.layout
\end_layout

\end_inset

拡張子を持ち、文書クラスに関する情報を\SpecialChar LyX
に提供するものを指します。しかしながら、\SpecialChar LyX
 1.6以降、レイアウト情報は、拡張子が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

のレイアウト
\emph on
モジュール
\emph default
にも含めることができます。レイアウトが\SpecialChar LaTeX
クラスに対応しているように、モジュールは\SpecialChar LaTeX
パッケージに対応するものであり、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
endnotes
\end_layout

\end_inset

モジュールのように、特定のパッケージにサポートを提供するためのモジュールもあります。レイアウトモジュールは、特定の文書レイアウトに特化したものではなく、多くのレ
イアウトで使用できるという意味において、一面、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

等のインクルードファイル
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これらは任意の拡張子をつけることができますが、慣習的に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.inc
\end_layout

\end_inset

拡張子が用いられます。
\end_layout

\end_inset

のようなものです。相異なる点といえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

でインクルードファイルを使用するには、そのファイルを編集しなくてはなりませんが、モジュールの場合は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで選択するだけですみます。
\end_layout

\begin_layout Standard
モジュール作成は、新しく段落様式を一つ加えたり、自由差込枠を加えたりするだけで済むことも多いので、レイアウト編集を学ぶ上でもっとも易しい方法です。しかし原理的に
は、レイアウトファイルに入れることのできるものはすべて入れることができます。
\end_layout

\begin_layout Standard
新しいモジュールを作成し、それを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layout/
\end_layout

\end_inset

フォルダにコピーした後、モジュールがメニューに現れるようにするためには、\SpecialChar LyX
の環境構成を行って再起動しなくてはなりません。しかしながら、モジュールの修正の場合には、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

を開いてどれかを選択し「OK」を押せば、直ちに反映されます。
\emph on
これを実行する前に、作業中の文書を保存しておくことを強く勧めます
\emph default
。もっと言えば、
\emph on
実際の文書で作業しているときに、同時にモジュールの編集をしようとしないことを強く勧めます
\emph default
。もちろん開発陣は、そのような場合でも\SpecialChar LyX
が安定性を維持するように努力していますが、あなたが作成したモジュール中の文法エラー等によって、奇妙な挙動が引き起こされるこ
とがあるからです。
\end_layout

\begin_layout Subsubsection
ローカルレイアウト
\end_layout

\begin_layout Standard
\SpecialChar LyX
に於けるモジュールは、\SpecialChar LaTeX
に於けるパッケージに当たります。しかしながら、特定の差込枠や文字様式を、ひとつの文書のためだけに作りたいこともあるでしょうから、そのような
場合に、他の文書でも利用できるようなモジュールをわざわざ書くことには、あまり意味がありません。このような場合に必要となるのが、「ローカルレイアウト」なのです。
\end_layout

\begin_layout Standard
これは、
\family sans
文書\SpecialChar menuseparator
設定\SpecialChar menuseparator
ローカルのレイアウト
\family default
にあります。そこにある大きなテキストボックスは、本来ならレイアウトファイルやモジュールに入力すべきものを、入力するためのものです。特定の文書のローカルレイアウト
は、その文書専属のモジュールだと考えることができます。したがって、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

タグは挿入しなくてはなりません。どの書式を使用しても構いませんが、通常は、執筆時点の最新書式を用いることになるでしょう(\SpecialChar LyX
 2.1では、最新書式は48です)。また、
ローカルレイアウトは、\SpecialChar LyX
 1.6より前の版ではサポートされていないことを認識しておく必要があります。したがって、文書を\SpecialChar LyX
 1.5またはそれ以前の版に(ローカルレイアウト
情報を失うことなく)書き出せることを望むならば、使用するべきではありません。第1.6版へ—第1.6版はUIはありませんがローカルレイアウトをサポートしています—書き
出せることを望むならば、書式11を用いて、さらに\SpecialChar LyX
 1.6で使用できるレイアウト要素のみを使用してください。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ローカルのレイアウト
\end_layout

\end_inset

面に何かを入力すると、下部にある「検証」ボタンが有効になります。このボタンを押すと、ユーザーの入力したものが、指定された書式に沿って、有効なレイアウト情報になっ
ているかどうかが検証されます。すると、\SpecialChar LyX
がその結果を返しますが、残念ながら、エラーがあった場合にそれが何のエラーであるかは返しません。しかしながら、\SpecialChar LyX
をターミナル(
擬似端末)から起動した場合には、そのエラーがターミナルに返されます。ローカルレイアウトは、正しい書式で入力されないうちは、保存することができません。
\end_layout

\begin_layout Standard
ここで、前節と同じ警告があります。ローカルレイアウトは、作業中の文書上で、特に保存していない文書上ではいじらないでください。それに注意すれば、テスト用文書上でロ
ーカルレイアウトを用いるのは、レイアウトのアイディアを試すのに便利ですし、モジュール開発の第一歩としても便利です。
\end_layout

\begin_layout Subsection
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
.sty
\end_layout

\end_inset

ファイル用のレイアウト
\end_layout

\begin_layout Standard
新しく\SpecialChar LaTeX
文書クラスをサポートしようとするとき、\SpecialChar LaTeX2e
クラス（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.cls
\end_layout

\end_inset

）ファイルが絡む場合と、スタイル（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.sty
\end_layout

\end_inset

）ファイルが絡む場合の2つの状況があり得ます。スタイルファイルのサポートは、通常は、かなり容易ですが、新しくクラスファイルをサポートすることは、もう少し難しくな
ります。この節では、前者について述べることとし、後者については次節に譲ります。当然のことながら、新しくDocBook DTDをサポートしたい場合にも、同様の所見
が当てはまります。
\end_layout

\begin_layout Standard
この易しい方の場合では、新しい文書クラスは、既にサポートされている文書クラスと共に使うスタイルファイルとして提供されています。例示のために、スタイルファイルは
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
myclass.sty
\end_layout

\end_inset

という名称で、標準的なクラスである
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
report.cls
\end_layout

\end_inset

と共に用いられるものと仮定しましょう。
\end_layout

\begin_layout Standard
既存の文書クラスのレイアウトファイルを、以下のように、お使いのローカルディレクトリにコピーすることから始めてください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
もちろん、どのディレクトリがローカルディレクトリとなるかは、プラットフォームに依存します。\SpecialChar LyX
では、起動時に
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
-userdir
\end_layout

\end_inset

オプションを指定することによって、ローカルディレクトリを指定することも可能です。
\end_layout

\end_inset

。
\end_layout

\begin_layout LyX-Code
cp report.layout ~/.lyx/layouts/myclass.layout
\end_layout

\begin_layout Standard
それから、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myclass.layout
\end_layout

\end_inset

を編集して、
\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaTeXClass{report}
\end_layout

\begin_layout Standard
という行を
\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaTeXClass[report, myclass.sty]{report (myclass)}
\end_layout

\begin_layout Standard
のように変更してください。それから、ファイル冒頭辺りに
\end_layout

\begin_layout LyX-Code
Preamble 
\begin_inset Newline newline
\end_inset

    
\backslash
usepackage{myclass}
\begin_inset Newline newline
\end_inset

EndPreamble
\end_layout

\begin_layout Standard
と書き加えてください。
\end_layout

\begin_layout Standard
\SpecialChar LyX
を起動して
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
環境構成
\end_layout

\end_inset

を選択してください。それから\SpecialChar LyX
を再起動し、新規文書を作成してみてください。すると、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログの文書クラスオプションに「
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
report (myclass)
\end_layout

\end_inset

」が現れるはずです。新しいクラスにおいて、節区切り用コマンドなどの一部が、基礎となったクラス—この例では
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
report
\end_layout

\end_inset

—とは違う挙動をすることはよくありますので、希望に応じて、各節の設定をいじると良いでしょう。各節のレイアウト情報は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

に含まれていますが、このファイルをコピーしたり変更したりする必要はありません。代わりに、自身のレイアウトファイル中、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

も取り込む
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Input stdclass.inc
\end_layout

\end_inset

の後に変更を加えるだけです。たとえば、章見だしのフォントをサンセリフ体に変更するには、以下のような行を加えます。
\end_layout

\begin_layout LyX-Code
Style Chapter
\end_layout

\begin_layout LyX-Code
    Font
\end_layout

\begin_layout LyX-Code
        Family Sans
\end_layout

\begin_layout LyX-Code
    EndFont
\end_layout

\begin_layout LyX-Code
End
\end_layout

\begin_layout Standard
これは、既存の章様式宣言を上書き（あるいはこの場合には追加）します。
\end_layout

\begin_layout Standard
新しいパッケージでは、基礎となったクラスには存在しないコマンドや環境を提供することもできます。この場合には、これらをレイアウトファイルに加えます。そのやり方につ
いては、第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:テキストクラス"

\end_inset

節の情報を参照してください。
\end_layout

\begin_layout Standard
もし
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myclass.sty
\end_layout

\end_inset

が他の文書クラスで使用することができたり、あるいはできない場合でも、基礎となるクラスから読み込むことのできるモジュールを書くのが最も簡単であることがわかるでしょ
う。最も簡単なモジュールの例としては、以下のようなものになります。
\end_layout

\begin_layout LyX-Code
#
\backslash
DeclareLyXModule{My Package}
\end_layout

\begin_layout LyX-Code
#DescriptionBegin
\end_layout

\begin_layout LyX-Code
#Support for mypkg.sty.
\end_layout

\begin_layout LyX-Code
#DescriptionEnd
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout LyX-Code
Format 35
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout LyX-Code
Preamble
\begin_inset Newline newline
\end_inset

    
\backslash
usepackage{mypkg}
\begin_inset Newline newline
\end_inset

EndPreamble
\end_layout

\begin_layout Standard
もう少し複雑なモジュールでは、既存の構成物の挙動を修正したり、新しい構成物を定義したりすることになるでしょう。この辺りの議論については、第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:テキストクラス"

\end_inset

節を参照してください。
\end_layout

\begin_layout Subsection
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
.cls
\end_layout

\end_inset

ファイル用のレイアウト
\end_layout

\begin_layout Standard
これには2つのケースがありえます。ひとつは、クラスファイル自体が既存の文書クラスに立脚している場合です。たとえば、多くの学位論文用クラスは
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
book.cls
\end_layout

\end_inset

に基づいています。お使いのものがどうであるかを見るには、クラスファイル中に
\end_layout

\begin_layout LyX-Code

\backslash
LoadClass{book}
\end_layout

\begin_layout Standard
という行がないかどうか探してください。もしこれがあれば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Declare\SpecialChar LaTeX
Class
\end_layout

\end_inset

行は異なりますが、おおよそ前節のように進めることができます。あなたが新しく作るクラスが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
thesis
\end_layout

\end_inset

であり、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
book
\end_layout

\end_inset

クラスに基づいていれば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Declare\SpecialChar LaTeX
Class
\end_layout

\end_inset

行は以下のようにします
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
さらに\SpecialChar LyX
は、文書クラス名がレイアウトファイル名と同じだと仮定するので、クラスファイルを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
thesis.layout
\end_layout

\end_inset

という名前で保存するのが最も簡単です。 
\end_layout

\end_inset

。
\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaT
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

eXClass[thesis,book]{thesis}
\end_layout

\begin_layout Standard
他方、新しいクラスが既存のクラスに基づいていない場合には、おそらくあなた自身のレイアウトをしたためる必要があります。もし可能であれば、類似した\SpecialChar LaTeX
クラスを使用してい
る既存のレイアウトファイルをコピーして、それに修正を加えるようにすることを強くお勧めします。少なくとも、どの項目を考慮すべきかがわかるように、既存のファイルを作
業の開始点としてください。
\end_layout

\begin_layout Subsection
ひな型を作成する
\begin_inset CommandInset label
LatexCommand label
name "sec:ひな型を作成する"

\end_inset


\end_layout

\begin_layout Standard
新しい文書クラス用のレイアウトファイルを書いたならば、そのレイアウト用のひな型も書くことを検討されるかもしれません。ひな型は、内容はダミーですが、レイアウトの使
い方を示す一種のチュートリアルとして動作します。もちろん、イメージを得るために、\SpecialChar LyX
添付のひな型をあれこれ見てみるのもよいでしょう。
\end_layout

\begin_layout Standard
ひな型は、通常の文書と同様、\SpecialChar LyX
を使って作成することができます。唯一違う点は、通常の文書では、フォント構成や用紙寸法を含め、すべてのあり得る設定が為されている点です
。これらの場合、通常ユーザーはひな型が彼の設定値を上書きすることを望みません。この理由から、ひな型の設計者は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
fontscheme
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
papersize
\end_layout

\end_inset

などの対応するコマンドをひな型\SpecialChar LyX
ファイルから取り除く必要があります。これは、たとえば
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
vi
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
notepad
\end_layout

\end_inset

のような、どの軽いテキストエディタでも行うことができます。
\end_layout

\begin_layout Standard
編集したひな型を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/templates/
\end_layout

\end_inset

に置き、グローバルなひな型ディレクトリ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir/templates/
\end_layout

\end_inset

から使用したいものを同じ場所にコピーし、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定\SpecialChar menuseparator
パス
\end_layout

\end_inset

ダイアログのひな型パスを再定義してください。
\end_layout

\begin_layout Standard
ところで、特別な意味を持つひな型
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
defaults.lyx
\end_layout

\end_inset

があることに注意してください。このひな型は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ファイル\SpecialChar menuseparator
新規
\end_layout

\end_inset

を使って新規文書を作成する際、便利な既定値を提供する目的で必ず読み込まれます。このひな型を\SpecialChar LyX
内部から作成するのにしなくてはならないことは、対応する設定を持つ文書を
開き、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書既定値として保存
\end_layout

\end_inset

ボタンを押すことです。
\end_layout

\begin_layout Subsection
旧レイアウトファイルの更新
\end_layout

\begin_layout Standard
レイアウトファイルの書式は、\SpecialChar LyX
のリリース毎に変更されますので、古いレイアウトファイルは変換されなくてはなりません。\SpecialChar LyX
が古い書式のレイアウトファイルを読み込むと、\SpecialChar LyX
は、
自動的に変換ツール
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
\SpecialChar LyX
Dir/scripts/layout2layout.py
\end_layout

\end_inset

を呼び出し、それを現在の書式の一時ファイルに変換します。元のファイルは変更を加えられずに措かれます。もしこのレイアウトファイルをよく使うならば、\SpecialChar LyX
がこれを毎回行な
わくて済むように、レイアウトファイルを恒久的に変換しておきたいと思うかもしれません。これを行うには、以下のように変換子を手動で呼び出してください。
\end_layout

\begin_layout Enumerate
ファイル
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myclass.layout
\end_layout

\end_inset

を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myclass.old
\end_layout

\end_inset

に改称
\end_layout

\begin_layout Enumerate
以下のコマンドをコール
\begin_inset Newline newline
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
python LyXDir/scripts/layout2layout.py myclass.old myclass.layout
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

は\SpecialChar LyX
システムディレクトリの名前です。
\end_layout

\begin_layout Standard
手動変換は、インクルードされているファイル内部の変更までは取り扱いませんので、それらのファイルは別に変換されなくてはなりません。
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:テキストクラス"

\end_inset

レイアウトファイルの書式
\end_layout

\begin_layout Standard
以下の各節では、いよいよ自分の手を汚してレイアウトファイルを作成したり編集したりする段階になった際、直面することの説明を行います。私たちからのアドバイスとしては
、ゆっくりと進めるようにして、ちょっと進むごとに保存やテストを行い、心休まる音楽を聴き、好きな大人の飲み物を一二杯口にしながら行うのがいいでしょう。特に行き詰ま
ってしまったときにはそうです。実際にはそんなに難しいことではないのですが、特に一度に多くのことをやろうとすると、選択肢が多くありすぎて圧倒されてしまうのです。さ
て、もう一杯大人向け飲料をどうぞ。適量ね。\SpecialChar LyX
の既存のレイアウトを例や参考に使ったり、既存のレイアウトを自身の目的に合わせて修正したりすると、作業が容易になります。
\end_layout

\begin_layout Standard
この章で述べられているタグは、すべて大文字小文字を区別しません。つまり、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
style
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
StYlE
\end_layout

\end_inset

は同じコマンドとなります。機能名の後にある角括弧は、その機能が取り得る値を示します。テキストクラス設定内で機能が特定されていない場合には、既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
強調
\end_layout

\end_inset

で表記されます。引数が「文字列」や「浮動小数点型」などのデータ型をとる場合には、既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=
\emph on
既定値
\end_layout

\end_inset

のように表示されます。
\end_layout

\begin_layout Subsection
文書クラス宣言と分類
\end_layout

\begin_layout Standard
レイアウトファイル中の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

で始まる行はコメントです。この規則には一つだけ例外があります。すべての
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
*.layout
\end_layout

\end_inset

ファイルは、以下のような行で始めなくてはならないのです。
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass{Article (Standard Class)}
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareCategory{Articles}
\end_layout

\begin_layout Standard
2行目と3行目は、\SpecialChar LyX
が環境構成を行う際に用いられます。このレイアウトファイルは、\SpecialChar LaTeX
スクリプト
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
chkconfig.ltx
\end_layout

\end_inset

が、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

を無視する特別なモードで読み込みます。1行目は単なる\SpecialChar LaTeX
コメントですが、2行目にはテキストクラスの宣言が、3行目にはクラスの分類(非必須)が書かれています。これらの
行が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.layout
\end_layout

\end_inset

と名付けられたファイルにあると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article
\end_layout

\end_inset

（レイアウトファイル名）という名称のテキストクラスを定義し、\SpecialChar LaTeX
文書クラス
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

を使用するようになります（既定ではレイアウトと同じ名称のものを使用します）。上記に現れる「Article (Standard Class)」という文字列は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログのテキストクラスの説明に使用されます。分類(例中の「Articles」)は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで使用され、文書クラスはこの分類によってグループ化されます(分類は通常ジャンルを表し、典型的なものには、「Articles」「Books」「Repor
ts」「Letters」「Presentations」「Curricula Vitae」等があります)。分類を宣言しない場合には、このクラスは「Uncatego
rized」グループに属することになります。
\end_layout

\begin_layout Standard
節見出し表示に変更を加えた、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

文書クラスを使用するテキストクラスを自分で書いたものとしましょう。これを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myarticle.layout
\end_layout

\end_inset

というファイルに置いたとすると、このファイルのヘッダは以下のようになります。
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this 
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass[article]{article (with My Own Headings)}
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareCategory{Articles}
\end_layout

\begin_layout Standard
これは、\SpecialChar LaTeX
文書クラス
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

に関連づけられ、「Article (with My Own Headings)」と表示される、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myarticle
\end_layout

\end_inset

テキストクラスを宣言するものです。もしこのテキストクラスが複数のパッケージに依存するならば、以下のように宣言すると良いでしょう。
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this 
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaT
\size default

\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset


\size small
eXClass[article,foo.sty]{Article (with My Own Headings)}
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareCategory{Articles}
\end_layout

\begin_layout Standard
これは、このテキストクラスが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
foo.sty
\end_layout

\end_inset

パッケージを使用することを示しています。最後に、DocBookコード向けのクラスを宣言することもできることを見ます。典型的な宣言は以下のようになります。
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this 
\end_layout

\begin_layout LyX-Code

\size small
# 
\backslash
DeclareDocBookClass[article]{SGML (DocBook article)}
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareCategory{Articles}
\end_layout

\begin_layout Standard
これらの宣言には、文書クラス名を宣言する非必須パラメータ（ただしリストではない）を与えることができることに注意してください。
\end_layout

\begin_layout Standard
できる限り明示的に要約すると、レイアウト宣言は以下の形をとります。
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass[クラス,パッケージ名.sty]{レイアウトの説明}
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareCategory{分類}
\end_layout

\begin_layout Standard
ここで「クラス」は、\SpecialChar LaTeX
クラスファイル名とレイアウトファイル名が異なるときのみ、指定する必要があります。クラスファイル名が指定されなければ、\SpecialChar LyX
は単純に、クラスファイル
名がレイアウトファイル名と同じであると仮定します。
\end_layout

\begin_layout Standard
テキストクラスがあなたの嗜好に合うように修正できたならば、他にしなくてはならないことは、それを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir/layouts/
\end_layout

\end_inset

か
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/layouts
\end_layout

\end_inset

にコピーし、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
環境構成
\end_layout

\end_inset

を実行し、\SpecialChar LyX
を終了して再起動するだけです。そうすれば、この新しいテキストクラスが、他のテキストクラスと同様に使用できるようになります。
\end_layout

\begin_layout Standard
レイアウトファイルが導入されたならば、これを編集して、環境構成したり\SpecialChar LyX
を再起動したりすることなく、その変更を確認することができます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
第1.6版よりも前の\SpecialChar LyX
では、これを行うことはできませんでした。その結果、レイアウトファイルに加えた変更を反映させるには、その度に\SpecialChar LyX
を再起動しなくてはならなかったので、
レイアウトファイルを編集する作業は、たいへん時間を浪費する作業だったのです。
\end_layout

\end_inset

。\SpecialChar LyX
関数
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
layout-reload
\end_layout

\end_inset

を使用すれば、現在使っているレイアウトの再読み込みを強制することができるのです。この関数への既定のキー割り当てはありません—もちろん自分でどれかのキーに割り当て
ることもできますが—。しかし、通常は、この関数を使用する場合は、これをミニバッファに入力します。
\end_layout

\begin_layout Standard

\emph on
注意
\emph default
：
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
layout-reload
\end_layout

\end_inset

はかなり「高度な機能」です。この機能を利用する前に、作業中の文書を保存しておくことを
\emph on
強く
\emph default
勧めます。もっと言えば、大事な文書の作業をしているときに、同時にレイアウト情報の編集をしようとしないことを
\emph on
強く
\emph default
勧めます。テスト用文書を使用してください。レイアウトファイル中の文法エラー等が奇妙な挙動を引き起こす可能性があります。特に、そのようなエラーが起こると、\SpecialChar LyX
は現在の
レイアウトが無効であるものと判断して、別のレイアウトに切り替えようとする可能性があります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
非常に悪質な文法エラーの場合には、\SpecialChar LyX
が終了してしまうことさえあります。これは、ある種のエラーでは、\SpecialChar LyX
がレイアウト情報を全く読めなくなる可能性があるからです。ご注意く
ださい。
\end_layout

\end_inset

。\SpecialChar LyX
開発陣は、このような状況下でも安定性を保つよう努力していますが、後悔よりも安心の方が良いでしょう
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
重ねての助言ですが、つねにバックアップを取ってください。それから、お母さんのお片づけに注意。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
モジュール宣言
\end_layout

\begin_layout Standard
モジュールは、以下のような行で始まらなくてはなりません。
\end_layout

\begin_layout LyX-Code
#
\backslash
DeclareL
\begin_inset ERT
status collapsed

\begin_layout Plain Layout

{}
\end_layout

\end_inset

yXModule[endnotes.sty]{Endnotes} 
\end_layout

\begin_layout Standard
波括弧内に入っている必須引数はモジュール名で、これは
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

内に表示されます。角括弧内の引数は非必須です。これは、モジュールが依存する\SpecialChar LaTeX
パッケージをすべて宣言します。また、非必須引数として、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
変換元->変換先
\end_layout

\end_inset

の形を使用することができます。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
変換元
\end_layout

\end_inset

形式から
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
変換先
\end_layout

\end_inset

形式への変換鎖が存在するときのみ、このモジュールを使用できることを宣言するものです。
\end_layout

\begin_layout Standard
それから、以下のようなモジュール宣言を行います
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
モジュールを\SpecialChar LyX
に公開する場合には英語が望ましいです。この説明は翻訳メッセージ一覧に現れるようになるので、次回のインタフェースの更新時に翻訳されることになります。
\end_layout

\end_inset

。
\end_layout

\begin_layout LyX-Code
#DescriptionBegin 
\end_layout

\begin_layout LyX-Code
#Adds an endnote command, in addition to footnotes.
 
\end_layout

\begin_layout LyX-Code
#You will need to add  
\backslash
theendnotes in TeX code where you 
\end_layout

\begin_layout LyX-Code
#want the endnotes to appear.
 
\end_layout

\begin_layout LyX-Code
#DescriptionEnd 
\end_layout

\begin_layout LyX-Code
#Requires: somemodule | othermodule
\end_layout

\begin_layout LyX-Code
#Excludes: badmodule
\end_layout

\begin_layout Standard
ここで説明（Description）は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

でこのモジュールが何をするものか、ユーザに情報を与えるために使用されます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

行は、このモジュールが共に使用する必要がある、他のモジュールを特定するのに用いられます。一方、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Excludes
\end_layout

\end_inset

行は、このモジュールが共に使用してはならない、他のモジュールを特定するのに用いられます。この2つの行は必須ではなく、上記のようにモジュールが複数ある場合には、パ
イプ記号「|」で区切らなくてはなりません。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

に指定されたモジュールは、選言的に取り扱われることに注意してください。つまり、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

に指定されたモジュールのうち、
\emph on
少なくとも一つ
\emph default
が使用されていればよいということです。同様に、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Excludes
\end_layout

\end_inset

に指定されたモジュールは、一つも使用されてはなりません。ここでモジュールは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

拡張子を除いたファイル名で認識されることに注意してください。つまり
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
somemodule
\end_layout

\end_inset

とは、実のところ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
somemodule.module
\end_layout

\end_inset

のことです。
\end_layout

\begin_layout Subsection
書式番号
\end_layout

\begin_layout Standard
レイアウトファイルやインクルードされたファイル、またはモジュールの最初の非コメント行には、以下のように、かならずファイル形式番号が記されていなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
整数型
\end_layout

\end_inset

] このレイアウトファイルの書式
\end_layout

\begin_layout Standard
このタグは\SpecialChar LyX

\begin_inset space ~
\end_inset

1.4.0で導入されました。\SpecialChar LyX

\begin_inset space ~
\end_inset

1.3.x以前のレイアウトファイルには、明示されたファイル形式がないため、書式1と解されます。\SpecialChar LyX
現行版のファイル形式は、書式59です。しかし、\SpecialChar LyX
の各版は、旧版の\SpecialChar LyX
で作成さ
れたファイルを読むことができるように、旧版のレイアウトファイルも読むことができます。しかしながら、以前の書式に変換する方法はありません。
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:汎用テキストクラスパラメータ"

\end_inset

汎用テキストクラスパラメータ
\end_layout

\begin_layout Standard
以下は、文書クラス全体の挙動を決定する汎用パラメータです（これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.layout
\end_layout

\end_inset

ファイルのみに使用されるべきで、モジュールでは使ってはならない、ということを意味するものでは
\emph on
ありません
\emph default
。モジュールには、すべてのレイアウトタグを使用することができます）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToHTMLPreamble
\end_layout

\end_inset

 この文書クラスがXHTMLに出力されるときに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<head>
\end_layout

\end_inset

ブロックに追加出力される情報です。典型的には、これはCSSスタイル情報を出力するのに用いられますが、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<head>
\end_layout

\end_inset

に出力するものであれば、何でも使用することができます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToPreamble
\end_layout

\end_inset

 文書プリアンブルに書き加えられる情報です。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CiteFormat
\end_layout

\end_inset

 書誌情報の表示に使う書式を定義します。詳細については、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:引用書式指定"

\end_inset

をご覧ください。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

 文書クラスがサポートする様々な大域オプションを記します。説明は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:ClassOptions"

\end_inset

を参照してください。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Columns
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
2
\end_layout

\end_inset

] 文書クラスが既定で1段組か2段組かを指定します。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで変更することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Counter
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この部分はカウンタの特性を定義します。カウンタがまだ存在していなければ、生成されます。もし存在しなければ修正されます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\begin_inset Newline newline
\end_inset

カウンタについての詳細は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:カウンタ"

\end_inset

を参照してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultFont
\end_layout

\end_inset

 文書を表示するのに用いられる既定フォントを設定します。フォントの宣言の仕方については、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

を参照してください。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndFont
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultModule
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<モジュール>
\end_layout

\end_inset

] この文書クラスに、既定で取り込むモジュールを指定します。モジュールは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

拡張子を除いたファイル名で指定します。ユーザはこのモジュールを除外することができますが、当初は有効の状態になっています（これは新しいファイルが作成されたときや、
既存の文書にこの文書クラスが選択したときのみ該当します）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultStyle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<様式>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
これは新規段落に割り当てられる様式であり、通常は
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
標準
\end_layout

\end_inset

です。もしこれを指定しなければ、最初に定義される様式がこれに割り当てられるようにはなっていますが、このディレクティブを使用することが推奨されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ExcludesModule
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<モジュール>
\end_layout

\end_inset

] このタグは、指定されたモジュール—
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

拡張子を除いたファイル名で指定します—が、この文書クラスでは使用できないように設定します。これはたとえば、特定の学術誌用レイアウトファイルの中で、定理番号を節毎
に振る
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
theorems-sec
\end_layout

\end_inset

モジュールが使用されるのを防ぐために用いたりすることができます。このタグは、モジュール内で
\emph on
使用してはいけません
\emph default
。モジュールは、他のモジュールを排除する独自の枠組みがあります（
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:レイアウトモジュール"

\end_inset

参照）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Float
\end_layout

\end_inset

 フロートを新規に定義します。詳細は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フロート"

\end_inset

を参照してください。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLPreamble
\end_layout

\end_inset

 この文書クラスがXHTMLに出力されるときに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<head>
\end_layout

\end_inset

ブロックに出力される情報です。これより前に出現した
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLPreamble
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToHTMLPreamble
\end_layout

\end_inset

宣言は、すべて完全に上書きされることに注意してください(プリアンブルに何かを追加したい時には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToHTMLPreamble
\end_layout

\end_inset

を使用してください)。これは「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLTOCSection
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<様式>
\end_layout

\end_inset

] 文書がHTMLに出力されるときに、目次や書誌情報などに使用されるレイアウトです。articleの場合には、これは通常「節」であり、bookの場合は「章」です
。これを指定しない場合には、\SpecialChar LyX
はどのレイアウトを使用するべきか、解析しようと試みます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
IfCounter 
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<カウンタ>
\end_layout

\end_inset

] 与えられたカウンタの特性を修正します。カウンタが存在しない場合には、この節は無視されます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\begin_inset Newline newline
\end_inset

カウンタについての詳細は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:カウンタ"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
IfStyle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<様式>
\end_layout

\end_inset

] 与えられた段落様式の特性を修正します。様式が存在しない場合には、この節は無視されます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Input
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<ファイル名>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
名称の指し示すように、このコマンドは、同じコマンドを何度も指定せずに済むように、別のレイアウト定義ファイルを取り込ませます。よく使われる例は、基本的なレイアウト
のほとんどを収録している
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdclass.inc
\end_layout

\end_inset

のような標準レイアウトファイルです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
このセクションは、差込枠のレイアウトを定義（再定義）します。これは、既存の差込枠にも、新しい文字様式のような新規のユーザ定義差込枠にも使用することができます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\begin_inset Newline newline
\end_inset

詳しい情報は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:任意設定差込枠"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 画面上の左余白の幅を指示する文字列。例：「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MMMMM
\end_layout

\end_inset

」。（これは、「2ex」のような「長さ」ではないことに注意してください。）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NoCounter
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<カウンタ>
\end_layout

\end_inset

] このコマンドは、既存のカウンタ(通常インクルードファイル内で定義されたもの)を削除します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NoFloat
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<フロート>
\end_layout

\end_inset

] このコマンドは既存のフロートを削除します。これは特に、Inputで取り込んだファイルに定義されていたフロートを抑制するのに便利です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NoStyle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<様式>
\end_layout

\end_inset

] このコマンドは既存の様式を削除します。これは特に、Inputで取り込んだファイルに定義されていた様式を抑制するのに便利です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
OutputFormat
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<形式>
\end_layout

\end_inset

] このクラスによって生成されるファイル形式を示す文字列（
\family sans
設定
\family default
ダイアログで定義される形のもの）。おもに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
OutputType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
literate
\end_layout

\end_inset

になっていて、新しい型のliterate文書を定義したい時に便利です。対応する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
OutputType
\end_layout

\end_inset

パラメーターに遭遇したときには、この文字列は、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
docbook
\end_layout

\end_inset

」・「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lat
\emph on
ex
\end_layout

\end_inset

」のいずれかにリセットされます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
OutputType
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
lat
\emph default
ex
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
docbook
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
literate
\end_layout

\end_inset

] このクラスを使用する文書がどのような種類の出力をするかを示す文字列。現在のところ、取り得る値は「docbook」・「latex」・「literate」です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PackageOptions
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 第1文字列で指定したパッケージ用のオプションを第2文字列で指定します。例えば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PackageOptions natbib square
\end_layout

\end_inset

」とすると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
square
\end_layout

\end_inset

オプションとともに読み込みます(\SpecialChar TeX
perts向けに述べると、これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

を読み込む前に、\SpecialChar LyX
に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
PassOptionsToPackage{natbib}{square}
\end_layout

\end_inset

を出力させます)。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PageStyle
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
plain
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
empty
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
headings
\end_layout

\end_inset

] 既定ページ様式。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで変更することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 \SpecialChar LaTeX
文書のプリアンブルを設定します。前に行った
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

宣言や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToPreamble
\end_layout

\end_inset

宣言は、すべて上書きされてしまうので注意してください。（プリアンブルに何かを追加したい時には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToPreamble
\end_layout

\end_inset

を使用してください。）「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Provides
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] このクラスが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

で示される機能を既に提供しているかどうかを示します。機能は、一般的にパッケージ名（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
amsmath
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
makeidx
\end_layout

\end_inset

・\SpecialChar ldots
）やマクロ名（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
url
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
boldsymbol
\end_layout

\end_inset

・\SpecialChar ldots
）です。機能一覧については、
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:関数一覧"

\end_inset

を参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ProvidesModule
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] このレイアウトが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

で表されているモジュールの機能を提供することを示し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

拡張子を除いたファイル名で指定します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultModule
\end_layout

\end_inset

タグを使用すると、モジュールを使用しなくてはならないことを示しますが、このタグは主に、このレイアウトがモジュールを直接取り込んでしまっていることを示すのに用いら
れます。同じ機能を別に実装しているモジュール中で使用するなどすることもできます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] このクラスが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

で表されている機能を要求することを示します。機能が複数ある場合には、コンマで区切らなくてはなりません。サポートされている機能以外は要求できないことに注意してくだ
さい（機能一覧については
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:関数一覧"

\end_inset

を参照）。特定のオプションをとるパッケージを要求する場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PackageOptions
\end_layout

\end_inset

を追加して使うことができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RightMargin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 画面上の右余白の幅を指示する文字列。例：「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MMMMM
\end_layout

\end_inset

」。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
SecNumDepth
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
int=3
\end_layout

\end_inset

] どの節区切りまで連番を振るかを指定します。\SpecialChar LaTeX
における
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
secnumdepth
\end_layout

\end_inset

カウンタに対応します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Sides
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
2
\end_layout

\end_inset

] クラスの既定値として、用紙の片面に印字するか両面に印字するかを指定します。
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar menuseparator
設定
\end_layout

\end_inset

ダイアログで変更することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
この部分は段落様式を定義します。様式がまだ存在していなければ、生成されます。既に存在していれば、そのパラメータが修正されます。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\begin_inset Newline newline
\end_inset

段落様式に関する詳細は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式-XHTML"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列="maketitle"
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

で使用すべきコマンド名あるいは環境名。The name of the command or environment to be used with
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
CommandAfter
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

] 文書のタイトルを定義するのに、どのようなマークアップを使用するのかを示します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CommandAfter
\end_layout

\end_inset

は、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InTitle
\begin_inset space ~
\end_inset

1
\end_layout

\end_inset

」が指定されている最後のレイアウトの後に、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

で指定したマクロ名を挿入することを意味します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

は、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InTitle
\begin_inset space ~
\end_inset

1
\end_layout

\end_inset

」を持つ段落群を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

で指定した環境でくるむ場合に対応します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TocDepth
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
int=3
\end_layout

\end_inset

] どの節区切りまで目次に取り込むかを指定します。\SpecialChar LaTeX
の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tocdepth
\end_layout

\end_inset

カウンタに対応します。
\end_layout

\begin_layout Subsection
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

部
\begin_inset CommandInset label
LatexCommand label
name "subsec:ClassOptions"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

部は、以下の項目を取り得ます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FontSize
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列="10|11|12"
\end_layout

\end_inset

] 文書のメインフォントが使用できるフォント寸法の一覧です。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
|
\end_layout

\end_inset

」で区切ります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Header
\end_layout

\end_inset

 XMLベースの出力クラスで、DTD行を設定するのに使用されます。例：PUBLIC 
\begin_inset Quotes eld
\end_inset

-//OASIS//DTD DocBook V4.2//EN
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PageStyle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列="empty|plain|headings|fancy"
\end_layout

\end_inset

] 使用できるページ様式の一覧です。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
|
\end_layout

\end_inset

」で区切ります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Other
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
documentclass
\end_layout

\end_inset

コマンドの非必須パラメータとして付け加える文書クラスオプションです。コンマで区切ります。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

部は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Subsection
段落様式
\begin_inset CommandInset label
LatexCommand label
name "subsec:段落様式"

\end_inset


\end_layout

\begin_layout Standard
段落様式の記述は、以下のようになります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これは新しいレイアウトを定義するか、既存のレイアウトを修正することになることに注意してください。
\end_layout

\end_inset

。
\end_layout

\begin_layout LyX-Code
Style 
\family roman
\emph on
名称
\end_layout

\begin_layout LyX-Code
 ...
\end_layout

\begin_layout LyX-Code
End
\end_layout

\begin_layout Standard
ここでは、以下のコマンドを使用することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Align
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
block
\emph default
, left, right, center
\end_layout

\end_inset

] 段落の揃え。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AlignPossible
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
block
\emph default
, left, right, center
\end_layout

\end_inset

] 使用できる揃えのコンマ区切りリスト（\SpecialChar LaTeX
スタイルには、意味を成さない一部の揃えが禁じられているものがあります。たとえば、連番箇条書きを右揃えや中央揃えにすること
はできません）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
整数
\end_layout

\end_inset

] 現在の様式に関連付けられたコマンドまたは環境の引数番号<整数>を定義します。これは、節見出しのようなものに便利で、また\SpecialChar LaTeX
でのみ意味を持ちます。コマンドまたは環
境の引数は全て–段落の内容自身に関連付けられた必須引数を除き、必須・非必須を問わず–、別の場所で定義され、引数番号はその順序を表します。定義は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndArgument
\end_layout

\end_inset

で閉じなくてはなりません。非必須引数が2つあるコマンドの場合は、以下のようになります。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Quote

\family typewriter
Argument 1
\end_layout

\begin_layout Quote

\family typewriter
...
\end_layout

\begin_layout Quote

\family typewriter
EndArgument
\end_layout

\begin_layout Quote

\family typewriter
Argument 2
\end_layout

\begin_layout Quote

\family typewriter
...
\end_layout

\begin_layout Quote

\family typewriter
EndArgument
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

定義内部では、以下の指定をすることができます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 この引数を挿入するメニューと引数差込枠ボタンに表示される文字列です(別に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MenuString
\end_layout

\end_inset

を指定した場合を除く)。メニューには、後ろに「|」で区切った文字を置くことでアクセラレーターを定義することができます(例:
\begin_inset space \space{}
\end_inset


\begin_inset Quotes eld
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Short Title|S
\end_layout

\end_inset


\begin_inset Quotes erd
\end_inset

)。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MenuString
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 メニュー単独用の文字列。後ろに「|」で区切った文字を置くことでアクセラレーターを定義することができます(例:
\begin_inset space \space{}
\end_inset


\begin_inset Quotes eld
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Short Title|S
\end_layout

\end_inset


\begin_inset Quotes erd
\end_inset

)。この指定は必須ではありません。指定しない場合には、代わりに
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

がメニューに用いられます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Tooltip
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 引数差込枠にマウスをかざしたときに現れるツールチップに表示される長めの説明文。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Mandatory
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] これが必須の引数なのか(1)非必須の引数なのか(0)を宣言します。必須引数は、与えられなければ空の出力を行いますが、非必須引数の場合はそもそも出力されません
。既定では、必須引数は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{...}
\end_layout

\end_inset

で区切られ、非必須引数は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[...]
\end_layout

\end_inset

で区切られます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[整数=0]
\end_layout

\end_inset

 この引数が出力されるとき、必要となる別の引数を(番号によって)指定します。例えば、\SpecialChar LaTeX
コマンドでは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
command[][引数]{文字列}
\end_layout

\end_inset

のように、前に(少なくとも空の)別の非必須引数を要求する非必須引数があります。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument 2
\end_layout

\end_inset

中に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires 1
\end_layout

\end_inset

ステートメントを置くことで実現できます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftDelim
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 (
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[
\end_layout

\end_inset

ではない)ユーザー定義の左区切りを定義します。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RightDelim
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 (
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
}
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
]
\end_layout

\end_inset

ではない)ユーザー定義の右区切りを定義します。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultArg
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 ユーザー指定引数が与えられなかったとき、すなわち引数差込枠が挿入されなかったときに限り、挿入される引数を定義します(空の引数差込枠が挿入されてもDefault
Argは無効になることに注意してください)。引数が複数のときはコンマで区切る必要があります。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PresetArg
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[文字列]
\end_layout

\end_inset

 どのような場合にも(単独もしくはユーザー定義引数とともに)挿入される引数を定義します。引数が複数のときはコンマで区切る必要があります。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

 引数の内容に用いられるフォント。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

参照。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 ラベルに用いられるフォント。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

参照。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Decoration
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
Classic
\emph default
, Minimalistic, Conglomerate
\end_layout

\end_inset

] 差込枠の枠とボタンに用いられる装飾様式。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AutoInsert
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[整数=0]
\end_layout

\end_inset

 これが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

に設定されると、各様式が選択されたときに、この引数が自動的に挿入されます。現在のところ、様式・レイアウト毎に1変数のみ自動挿入することができます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsertCotext
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[整数=0]
\end_layout

\end_inset

 これが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

に設定されると、この引数は、副文(選択した文ないしは段落全体)のコピーを内容にとって挿入されます。
\end_layout

\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PassThruChars
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]
\family typewriter
 
\family default
\SpecialChar LaTeX
が要求する特別な翻訳は抜きにして、生の形で出力されるべき各文字を定義します。PassThruとは違って、引数用に、これは明示的に定義されなくてはなりません。つま
り、引数は、親差込枠や親レイアウトからPassThruCharsを継承しません。
\end_layout

\begin_layout Standard
既定では、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

のとき、各レイアウトで\SpecialChar LyX
作業領域に入力した文字列は、コマンドの最後の(必須)引数になります。しかしながら、前置句
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
post:
\end_layout

\end_inset

を付けた文字列は、この作業領域引数の後に出力されます。後置引数の番号は1から振られ直されますので、作業領域引数の後の最初の引数は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
post:1
\end_layout

\end_inset

となります。後置引数は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

以外の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

では無視されます。
\end_layout

\begin_layout Standard
(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
item[foo]
\end_layout

\end_inset

のような)箇条書き
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
item
\end_layout

\end_inset

の引数は、前置句
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
item:
\end_layout

\end_inset

の後に番号を付けます(例:
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument item:1
\end_layout

\end_inset

)。
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

 これは、前に現れたこの様式の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

宣言をすべて、完全に上書きしますので注意してください。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndBabelPreamble
\end_layout

\end_inset

」で閉じる必要があります。これの利用法についての詳細は、第
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式の国際化"

\end_inset

節をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BottomSep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

]
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
ここで「浮動小数点型」とは1.5のような実数を指します。
\end_layout

\end_inset

 このレイアウト型の段落塊の最後の段落と、次の段落とを分離する垂直空白。次の段落が別のレイアウト型である場合、分離幅は足し上げられるのではなく、最大値がとられま
す。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Category
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この様式のカテゴリです。これは、ツールバーのレイアウト・コンボボックスで関連した様式をグループ化するのに用いられます。任意の文字列を使用することができますが
、作成した様式に既存のカテゴリを使用したいと思うことが多いでしょう。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CommandDepth
\end_layout

\end_inset

 XMLコマンドの深度。XML型の書式でのみ使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 既存の様式から、すべての機能を現在の様式にコピーします。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DependsOn
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
この
\emph on
前に
\emph default
プリアンブルを出力させる様式名。マクロ定義がお互いに依存関係にある場合に、プリアンブルの断片の順序を確実にするためのものです
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
この機能以外には、プリアンブルの順序を確定する方法はないことに注意してください。\SpecialChar LyX
の特定のバージョンで観察された順序は、将来のバージョンで警告なしに変わる可能性が
あります。
\end_layout

\end_inset

。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndLabeltype
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
No_Label
\emph default
, Box, Filled_Box, Static
\end_layout

\end_inset

] 段落の最後（あるいは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

が、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
List_Environment
\end_layout

\end_inset

のいずれかの場合は、段落群の最後）に置くラベル。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
No_Label
\end_layout

\end_inset

の場合は「何もない」ことを指し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Box
\end_layout

\end_inset

（あるいは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Filled_Box
\end_layout

\end_inset

）の場合は、証明終了マーカ用の白い箱型（あるいは黒い箱型）を指し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

は明示したテキスト文字列を指します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndLabelString
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

型
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndLabelType
\end_layout

\end_inset

のラベルで用いる文字列。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

 本文テキストとラベルの
\emph on
両方で
\emph default
用いられるフォント。第
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

節を参照。このフォントを定義すると、自動的に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

も同じ値で定義されることに注意してください。したがって、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

も同時に定義したい場合には、これを先に定義してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceLocal
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
int=0
\end_layout

\end_inset

] 新しい様式を\SpecialChar LyX
安定版にバックポートするのに用いられます。このタグを最初にサポートした安定版は\SpecialChar LyX
 2.1.0です。引数は数字で、0・-1・1以上の任意の数をとることが
できます。様式の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceLocal
\end_layout

\end_inset

フラグが1以上ならば、これは常に文書ヘッダに書き込まれます。.lyxファイルが読み込まれると、文書ヘッダからの様式定義が文書クラスに追加されます。したがって、古い
版の\SpecialChar LyX
もこの様式を取り扱えるようになります。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceLocal
\end_layout

\end_inset

の引数は版数です。様式が読み込まれたときに、文書クラス中の既存の様式の版数よりも小さいと、新しい様式は無視されます。版数が大きいと、既存の様式に代わって新しい様
式が用いられます。値-1は無限大の版数を意味し、この様式が常に用いられることになります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] \SpecialChar LyX
は、空白をそれ自体文字や記号ではなく、2つの単語の間の分割子として捉えているため、単語間に2つ以上の空白を入れることは、通常許可していません。これ自体はとて
も素晴らしいことですが、たとえばプログラムコードや生の\SpecialChar LaTeX
コードを入力しようとするときなどに、煩わしくなることがあります。このことから、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

を有効にすることが認められています。\SpecialChar LyX
は、\SpecialChar LaTeX
モード以外では2つめ以降の空白には、保護された空白を使用することに注意してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTML*
\end_layout

\end_inset

 これらのタグは、XHTML出力で使用されます。第
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式-XHTML"

\end_inset

節をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InnerTag
\end_layout

\end_inset

 [[FIXME]] （XML型書式でのみ使用されます。）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InPreamble
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

の場合、様式が文書本体ではなく、文書プリアンブルにインクルードされるようにします。これは、タイトルや著者の情報をプリアンブルで設定する必要のある文書クラスに便利
です。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

または
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Paragraph
\end_layout

\end_inset

の様式に対してのみ動作します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InTitle
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

の場合、このレイアウトをタイトルブロックの一部としてマークします（大域項目の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

も参照）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ItemCommand
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列="item"
\end_layout

\end_inset

] 箇条書きの項目を宣言する\SpecialChar LaTeX
コマンド。コマンドは、前置されるバックスラッシュを除いた部分で定義されます(既定値は「item」です。これは、\SpecialChar LaTeX
出力中では
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
item
\end_layout

\end_inset

となります)。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ItemSep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

] これは、同じレイアウトを持つ段落群の間に追加する空白を与えるものです。複数のレイアウトを一つの環境に入れると、それぞれのレイアウトは、その環境の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParSep
\end_layout

\end_inset

だけ分離されます。しかし、その環境の項目全体は、さらにこの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ItemSep
\end_layout

\end_inset

分だけ離されます。これは
\emph on
乗数
\emph default
であることに注意してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ItemTag
\end_layout

\end_inset

 [[FIXME]] （XML型書式でのみ使用されます。）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
KeepEmpty
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落を空のままにすると、\SpecialChar LaTeX
出力が空になってしまうので、通常、\SpecialChar LyX
は段落を空にすることを許可しません。しかしながら、これを無効にすることが望ましい場合が存在します。
たとえば、書簡のひな型では、必須フィールドを人々が忘れないように、空のフィールドのまま提供する手もあります。特別なクラスにおいては、レイアウトを実際には文章を含
まないある種の改行として使用することもあります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelBottomsep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

] ラベルと本文テキストとの間の垂直余白。本文テキストの上に来るラベルにのみ使用されます（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Top_Environment
\end_layout

\end_inset

および
\begin_inset Newline linebreak
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Centered_Top_Environment
\end_layout

\end_inset

）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelCounter
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 自動連番に使われるカウンタ名（詳しくは第
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:カウンタ"

\end_inset

節参照）。カウンタがラベル中に表示されるようにするためには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

中で参照する必要があります。これは、少なくとも
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Above
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Centered
\end_layout

\end_inset

の各
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelType
\end_layout

\end_inset

で動作します。
\begin_inset Newline newline
\end_inset

また、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Enumerate
\end_layout

\end_inset

型のときにも、若干複雑にはなりますが、本項目を使うことができます。たとえば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelCounter myenum
\end_layout

\end_inset

」と宣言したものとしましょう。すると、\SpecialChar LaTeX
におけるのと同様、実際に使われるカウンタは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myenumi
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myenumii
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myenumii
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
myenumiv
\end_layout

\end_inset

のようになります。これらのカウンタは、全て別々に宣言されなくてはなりません。
\begin_inset Newline newline
\end_inset

カウンタの詳細については、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:カウンタ"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 ラベルに使用されるフォント。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

を参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelIndent
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] ラベルをどれくらい行頭下げすべきかを示す文字列。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelSep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] ラベルと本文テキストの間の水平余白の大きさを表す文字列。本文テキストの上に来ないラベルにのみ使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

ラベル型でラベルに使用する文字列。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelCounter
\end_layout

\end_inset

を設定している場合、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:カウンタ"

\end_inset

に述べられている特別な整形コマンドを含めることができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] これは付録の中で
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

の代わりに用いられます。各
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

ステートメントは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

をもリセットすることに注意してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelTag
\end_layout

\end_inset

 [FIXME] （XML型書式でのみ使用されます。）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelType
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
No_Label
\emph default
, Manual, Static, Above,
\begin_inset Newline newline
\end_inset

Centered, Sensitive, Enumerate,
\begin_inset Newline newline
\end_inset

Itemize, Bibliography
\end_layout

\end_inset

]
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 は、ラベルが最初の単語（最初の本当の空白まで）であることを示します。ラベルに2単語以上使用したいときは、保護された空白を使用してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 は、ラベルが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

で宣言したものであることを示します。これは段落冒頭の「行中」に表示されます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

のときは、連続する同じ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

の段落中、最初の段落にのみ表示されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Above
\end_layout

\end_inset

および
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Centered
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

の特別な場合です。ラベルは段落の上部に行頭か中央揃えで印字されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Sensitive
\end_layout

\end_inset

 はキャプションラベルの「図」や「表」の特別な場合です。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Sensitive
\end_layout

\end_inset

は、（ハードコードされた）ラベル文字列がフロートの種類に依存することを示します。これは、フロートに関連付けられたカウンタの値がNであるものとすると、「Float
Type N」にハードコードされています。キャプションがフロートの外に挿入されると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

は「意味を成しません!」と表示されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Enumerate
\end_layout

\end_inset

 は、通常の連番ラベルを生成します。現在のところ、これは、第4階層まで順に、アラビア数字・小文字・小文字ローマ数字・大文字を使用するようにハードコードされていま
す。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Itemize
\end_layout

\end_inset

 は、各階層でさまざまなブリットを生成します。これもハードコードされています。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Bibliography
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType BibEnvironment
\end_layout

\end_inset

とともにのみ使用されます。
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

 これは、この様式で既に出現した
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

宣言をすべて、完全に上書きしますので、注意してください。使用法についての詳細は、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式の国際化"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

] 対応する\SpecialChar LaTeX
の名称です。環境名かコマンド名を指します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexParam
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<パラメータ>
\end_layout

\end_inset

] 対応する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

の非必須パラメータです。このパラメータは、\SpecialChar LyX
内部から変更することはできません(変更可能なパラメータには
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

を使用してください)。これは、全ての\SpecialChar LaTeX
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

の後にそのままの形で出力されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
Paragraph
\emph default
, Command, Environment, Item_Environment,
\begin_inset Newline newline
\end_inset

List_Environment, Bib_Environment
\end_layout

\end_inset

] レイアウトがどのように\SpecialChar LaTeX
に変換されるべきかを示します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これらのルールはSGMLクラスにも適用されるので、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

の名称は、少しミスリーディングかもしれません。特定の例については、SGMLクラスファイル(ファイル名
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
db_*.inc
\end_layout

\end_inset

)を見てください。
\end_layout

\end_inset

。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Paragraph
\end_layout

\end_inset

 は、何も特別なことは意味しません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash

\emph on
LatexName
\emph default
{\SpecialChar ldots
}
\end_layout

\end_inset

を意味します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{
\emph on
LatexName
\emph default
}\SpecialChar ldots

\backslash
end{
\emph on
LatexName
\emph default
}
\end_layout

\end_inset

を意味します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

 は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

と同じですが、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
item
\end_layout

\end_inset

がこの環境のすべての段落に付けられるところだけが異なっています。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
List_Environment
\end_layout

\end_inset

 は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

と同じですが、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelWidthString
\end_layout

\end_inset

が環境の引数として渡されるところだけが異なっています。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelWidthString
\end_layout

\end_inset

は、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
編集\SpecialChar menuseparator
段落設定
\end_layout

\end_inset

ダイアログで定義することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Bib_Environment
\end_layout

\end_inset

 は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

に似ていますが、以下のように、書誌情報環境のbeginステートメントに必須引数(最長ラベル)を追記します。
\begin_inset Newline newline
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{thebibliography}{99}
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

したがって、これは書誌情報環境にのみ有用です。既定の最長ラベル「99」は、書誌情報項目の段落設定で、ユーザーが変更することができます。
\end_layout

\begin_layout Standard
上記最後のいくつかをまとめると、\SpecialChar LaTeX
出力は、\SpecialChar LaTeX
型に依存して
\end_layout

\begin_layout LyX-Code

\backslash
LatexName[LatexParam]{\SpecialChar ldots
}
\end_layout

\begin_layout Standard
のようになるか、
\end_layout

\begin_layout LyX-Code

\backslash
begin{LatexName}[LatexParam] \SpecialChar ldots
 
\backslash
end{LatexName}.
\end_layout

\begin_layout Standard
となります。
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftDelim
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 様式の内容の最初に置かれる文字列。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] レイアウトを環境の中に入れた場合、左余白は単純に加えられるのではなく、因子
\begin_inset Formula $\frac{4}{\mathrm{depth}+4}$
\end_inset

をかけて加えられます。このパラメータは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Margin
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

あるいは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Dynamic
\end_layout

\end_inset

に設定されているときにも用いられることに注意してください。その場合には、これは手動設定余白または動的設定余白に加えられることに注意してください。
\begin_inset Newline newline
\end_inset

たとえば「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MM
\end_layout

\end_inset

」と指定すると、段落を通常フォントの「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MM
\end_layout

\end_inset

」の幅だけ行頭下げを行います。文字列の前に「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
-
\end_layout

\end_inset

」を付けると、負の幅を与えることができます。この方法が採用されたのは、どの画面フォントでも見かけが同じになるようにするためです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Margin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
Static
\emph default
, Manual, Dynamic, First_Dynamic, Right_Address_Box
\end_layout

\end_inset

] 
\begin_inset Newline newline
\end_inset

このレイアウトの左余白の種類です。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 は固定余白を示します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 は、左余白が
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
編集\SpecialChar menuseparator
段落設定
\end_layout

\end_inset

ダイアログで入力した文字列によって決められることを示します。これは、タブを用いずに整った一覧表を組むのに使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Dynamic
\end_layout

\end_inset

 は、余白がラベルの大きさに依存することを示します。これは、自動連番の見出しに使用されます。「5.4.3.2.1 非常に長い見出し」という見出し行が、「3.2
 非常に長い見出し」よりも広い左余白（5.4.3.2.1足す空白と同じ幅）を必要とすることは明らかでしょう（標準的「ワープロ」はこんなことはやってくれませんが）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
First_Dynamic
\end_layout

\end_inset

 は似ていますが、段落の最初の行だけがDynamicでその他の行はStaticです。これは、たとえば、箇条書き（記述）に使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Right_Address_Box
\end_layout

\end_inset

 は、段落中、最も長い行が右余白に合うように余白を選択します。これは、ページの右端に住所を組版するのに用いられます。
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NeedProtect
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] このレイアウト中の脆弱なコマンドが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
protect
\end_layout

\end_inset

されるべきか否か（註：これはこのコマンド自体が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
protect
\end_layout

\end_inset

されるべきかでは
\emph on
ありません
\emph default
）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Newline
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] 新規行を\SpecialChar LaTeX
の新規行（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash

\backslash

\end_layout

\end_inset

）に変換するか否か。\SpecialChar LyX
中で\SpecialChar LaTeX
編集をやりやすくするために、変換は無効にすることができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NextNoIndent
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 真に設定すると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultStyle
\end_layout

\end_inset

 (通常
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Standard
\end_layout

\end_inset

)段落が行頭下げになっている場合でも、この型の段落に続くそれらの段落は、字下げされません(逆に言えば，既定でない段落には影響を与えません)。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ObsoletedBy
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

] このレイアウトが置き換えられたレイアウト名。これは、後方互換性を維持しながら、レイアウトの名称を変更するのに使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParagraphGroup
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 同じ型の段落が引き続く場合、同じ段落として取り扱うか否かを決定します。これは、そのような連続グループに対して、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
GuiLabel
\end_layout

\end_inset

が一度だけ出力される効果があります。既定では、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LaTeXType
\end_layout

\end_inset

、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

および
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Bib_Environment
\end_layout

\end_inset

 については有効であり、他の型すべてについて無効になっています。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParbreakIsNewline
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] \SpecialChar LaTeX
出力中で、段落を空行ではなく、改行で区切るよう指定します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PassThru 1
\end_layout

\end_inset

と併用すれば、（\SpecialChar TeX
コードを使用したときのように）テキストエディタをエミュレートすることができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParIndent
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 段落の最初の行の行頭下げ。レイアウトによっては
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parindent
\end_layout

\end_inset

は固定されています。例外には標準レイアウトがあり、標準レイアウトの段落の行頭下げは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NextNoIndent
\end_layout

\end_inset

で禁止することができるようになっています。また、環境中の標準レイアウト段落は、当該段落の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parindent
\end_layout

\end_inset

ではなく、この環境の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parindent
\end_layout

\end_inset

を使用します。たとえば、箇条書き（連番）内の標準段落は、行頭下げされません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParSep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

] このレイアウトの2段落間の垂直余白。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parskip
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

] \SpecialChar LyX
では、文書を組版するのに、ユーザが「行頭下げ」か「スキップ」を選ぶことができます。「行頭下げ」を選択した際には、この値は完全に無視されます。「スキップ」を選
択した際には、\SpecialChar LaTeX
型「段落」レイアウトの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParIndent
\end_layout

\end_inset

は無視され、すべての段落はこの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parskip
\end_layout

\end_inset

引数分だけ引き離されます。垂直余白は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultHeight
\end_layout

\end_inset

を標準フォントでの1行の高さとすると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Parskipの値
\end_layout

\end_inset


\begin_inset Formula $\times$
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
DefaultHeight
\end_layout

\end_inset

によって計算されます。このようにして、画面フォントを変更しても同じように表示されるのです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PassThru
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] この段落の内容が、\SpecialChar LaTeX
が必要とするような特別な変換を行わずに、生の形で出力されるべきかどうか。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PassThruChars
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]
\family typewriter
 
\family default
\SpecialChar LaTeX
が要請する特別な翻訳なしで。生の形で出力されるべき、それぞれの文字を定義します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 この様式が使用されたときに、\SpecialChar LaTeX
プリアンブルに付け加えるべき情報。この特定の様式が要求するマクロを定義したり、パッケージを読み込んだりと言ったことに使用します。「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset

」で閉じる必要があります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RefPrefix
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この型の段落を参照する際、生成されるラベルに使用する前置句。これによって、整形参照を使用することができるようになります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この様式が機能
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

を必要とするかどうか(機能詳細については、第
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:関数一覧"

\end_inset

節参照)。特定のオプションをとるパッケージを要求する場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PackageOptions
\end_layout

\end_inset

を汎用テキストクラスパラメータとして追加して使うことができます(
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:汎用テキストクラスパラメータ"

\end_inset

を参照)。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ResetArgs
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] (
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

タグで定義された)この様式の\SpecialChar LaTeX
引数をリセットします。これは、様式を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

でコピーし、その(必須及び非必須)引数は継承したくない場合に便利です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RightDelim
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 様式の内容の最後に置かれる文字列。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RightMargin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列=""
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

に同様。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Spacing
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
single
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
onehalf
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
double
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
other
\begin_inset space ~
\end_inset

<
\emph on
値
\emph default
>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
これはレイアウト中の既定の行間をどうすべきか定義するものです。引数の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
single
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
onehalf
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
double
\end_layout

\end_inset

は、それぞれ乗数1・1.25・1.667に対応します。引数
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
other
\end_layout

\end_inset

を指定した場合には、実際の乗数値も引数として指定しなくてはなりません。他のパラメータと違って
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Spacing
\end_layout

\end_inset

は、\SpecialChar LaTeX
パッケージ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
setspace
\end_layout

\end_inset

パッケージを使用した、限定的な\SpecialChar LaTeX
コードを生成することを意味することにご注意ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Spellcheck
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] この様式の段落をスペルチェックするか否か。既定値は真です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TextFont
\end_layout

\end_inset

 本文に使うフォント。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TocLevel
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
整数型=3
\end_layout

\end_inset

] 目次中でのこの様式の階層。これは、節見出しの自動連番に使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ToggleIndent
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
default
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
always
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
never
\end_layout

\end_inset

] このタグは、この段落の1行目の行頭下げが、段落設定ダイアログで切り替えられるかどうかを決めます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
default
\end_layout

\end_inset

が指定されると、文書設定が「行頭下げ」段落様式を使用しているときに、行頭下げを変更することができます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
always
\end_layout

\end_inset

は、文書設定にかかわらず変更することができ、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
never
\end_layout

\end_inset

は、どのような場合でも変更することができません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TopSep
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
浮動小数点型=0
\end_layout

\end_inset

] このレイアウトを持つ一連の段落群の最初の段落と、その前の段落の間の垂直余白。前の段落が別のレイアウトを持っていれば、余白は単純に追加されるのではなく、それら
の最大値がとられます。
\end_layout

\begin_layout Subsection
段落様式の国際化
\begin_inset CommandInset label
LatexCommand label
name "subsec:段落様式の国際化"

\end_inset


\end_layout

\begin_layout Standard
\SpecialChar LyX
は、長きにわたってレイアウト情報の国際化をサポートしてきましたが、第2.0版までは、これは操作画面にのみ適用されるものであって、たとえばPDF出力には適用されませ
んでした。たとえば、フランスの著者が、「Theorem 1」の代わりに「
\lang french
Théorème
\lang japanese
 1」としたければ、醜いハックに頼るしかありませんでした。Georg Baumのおかげで、これは解消されました。
\end_layout

\begin_layout Standard
もし
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

が、組版文書に出力される文字列を定義するのであれば、非英語文書や複数言語文書をサポートするために、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

や
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

を使用することができます。以下の抜粋（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
theorems-ams.inc
\end_layout

\end_inset

より）は、これがどう動作するかを示すものです。
\end_layout

\begin_layout LyX-Code
Preamble
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout LyX-Code
  
\backslash
theoremstyle{remark}
\end_layout

\begin_layout LyX-Code
  
\backslash
newtheorem{claim}[thm]{
\backslash
protect
\backslash
claimname}
\end_layout

\begin_layout LyX-Code
EndPreamble
\end_layout

\begin_layout LyX-Code
LangPreamble
\end_layout

\begin_layout LyX-Code
  
\backslash
providecommand{
\backslash
claimname}{_(Claim)}
\end_layout

\begin_layout LyX-Code
EndLangPreamble
\end_layout

\begin_layout LyX-Code
BabelPreamble
\end_layout

\begin_layout LyX-Code
    
\backslash
addto
\backslash
captions$$lang{
\backslash
renewcommand{
\backslash
claimname}{_(Claim)}}
\end_layout

\begin_layout LyX-Code
EndBabelPreamble
\end_layout

\end_deeper
\begin_layout Standard
原則として、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

と
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

タグ内には、有効な\SpecialChar LaTeX
コードはすべて用いることができますが、実際においては、ここで典型的に示したような形になるでしょう。組版文字列が正しく翻訳されるための鍵となるの
は、\SpecialChar LaTeX
コマンド
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
claimname
\end_layout

\end_inset

とその
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
newtheorem
\end_layout

\end_inset

中での用い方です。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

タグは、文書全体の言語に基づいた国際化を提供します。タグの内容は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

タグと同様、プリアンブルに置かれるのですが、これを特別なものにしているのは、「関数」
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
_()
\end_layout

\end_inset

が使用されていることです。これは、\SpecialChar LyX
が\SpecialChar LaTeX
出力を生成する際、その引数を文書言語に翻訳したもので置き換えられます。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

タグは、複数言語文書をサポートし、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
babel
\end_layout

\end_inset

パッケージへのインタフェースを提供することを意図しているので、もう少し複雑です。その内容は、文書に現れる言語それぞれについて一度、プリアンブルに追加されます。こ
の場合には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
_()
\end_layout

\end_inset

の引数は、その当該言語への翻訳で置き換えられ、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$lang
\end_layout

\end_inset

は言語名（babelパッケージで使用されるもの）で置き換えられます。
\end_layout

\begin_layout Standard
したがって、フランス語のセクションを持つドイツ語文書では、以下のような内容がプリアンブルに追加されます
\end_layout

\begin_layout LyX-Code

\backslash
addto
\backslash
captionsfrench{
\backslash
renewcommand{
\backslash
claimname}{Affirmation}}
\begin_inset Newline newline
\end_inset


\backslash
addto
\backslash
captionsngerman{
\backslash
renewcommand{
\backslash
claimname}{Behauptung}}
\begin_inset Newline newline
\end_inset


\backslash
providecommand{
\backslash
claimname}{Behauptung}
\end_layout

\begin_layout Standard
それから、\SpecialChar LaTeX
と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
babel
\end_layout

\end_inset

は協力して、出力に正しい文字列を生成します。
\end_layout

\begin_layout Standard
ここで注意しておくべき一つの重要な点は、翻訳は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layouttranslations
\end_layout

\end_inset

ファイルを通じて、\SpecialChar LyX
自身によって提供されるということです。つまり、ユーザー作成のレイアウトファイルに入力された文字列は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
layouttranslations
\end_layout

\end_inset

ファイルをそれに応じて変更しない限り、\SpecialChar LyX
の国際化ルーチンでは取り扱われないので、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

と
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

は、事実上、\SpecialChar LyX
とともに提供されるレイアウトファイルでのみ、使うことができるということを意味します。とはいえ、こういうことでありますので、将来的に\SpecialChar LyX
に同梱させようとい
う意図を以て作成されたレイアウトは、適切なところではすべて、これらのタグを使用するべきです。\SpecialChar LyX
が提供する段落様式の翻訳は、マイナー更新(例えば2.1.x版から2.1.y版
)では変更されないことに注意してください。しかしながら、メジャー更新(例えば2.0.x版から2.1.y版)では、新しい翻訳や修正が導入される可能性は大いにあります。
\end_layout

\begin_layout Subsection
フロート
\begin_inset CommandInset label
LatexCommand label
name "subsec:フロート"

\end_inset


\end_layout

\begin_layout Standard
\SpecialChar LyX
第1.3.0版以来、テキストクラス自体の中でフロート（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
figure
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
table
\end_layout

\end_inset

・\SpecialChar ldots
）を定義することが可能となり、かつ必要となりました。標準的なフロートは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdfloats.inc
\end_layout

\end_inset

ファイルに含まれているので、作業中のレイアウトファイルに
\end_layout

\begin_layout LyX-Code
Input stdfloats.inc
\end_layout

\begin_layout Standard
と加えるだけで済むことも多いでしょう。\SpecialChar LyX
に同梱されているAGUクラスのように、それ以外のフロート型を提供するテキストクラスを実装するには、以下の情報が役立つであり
ましょう。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AllowedPlacement
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=!htbpH] このフロート型に許可された配置用の選択肢。値は、配置文字からなる文字列です。使用できる文字には、
\emph on
h
\emph default
 (
\begin_inset Quotes eld
\end_inset

here if possible：可能ならば現在位置に
\begin_inset Quotes erd
\end_inset

), 
\emph on
t
\emph default
 (
\begin_inset Quotes eld
\end_inset

top of page：ページ上部
\begin_inset Quotes erd
\end_inset

)・
\emph on
b
\emph default
 (
\begin_inset Quotes eld
\end_inset

bottom of page：ページ下部
\begin_inset Quotes erd
\end_inset

)・
\emph on
p
\emph default
 (
\begin_inset Quotes eld
\end_inset

page of floats：フロートを独立したページに
\begin_inset Quotes erd
\end_inset

)・
\emph on
H
\emph default
 (
\begin_inset Quotes eld
\end_inset

here definitely：何としても現在位置に置く
\begin_inset Quotes erd
\end_inset

)・
\emph on
!
\emph default
 (
\begin_inset Quotes eld
\end_inset

ignore LaTeX rules：LaTeXの規則を無視する
\begin_inset Quotes erd
\end_inset

)があります。文字列中の文字の順序は関係ありません。配置の選択肢を与えない場合には、文字列として
\emph on
none
\emph default
を与えてください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AllowsSideways
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset


\emph default
] フロートを、\SpecialChar LaTeX
パッケージの
\family typewriter
rotfloat
\family default
 (横向きフロート)を使って回転させることを許可するか否かを指定。フロートにこの機能をサポートさせないときには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

を指定してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AllowsWide
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset


\emph default
] このフロートに、二段組段落において段落をまたぐ、星付き版があるか否かを定義。フロートにこの機能をサポートさせないときには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

を指定してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Extension
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] 図などのリストを含む外部ファイルのファイル拡張子名。\SpecialChar LaTeX
がキャプションを書き込むファイルです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
GuiName
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] メニューとキャプションに使用される文字列。babelが使用される場合には、これは現在の言語に翻訳されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTML*
\end_layout

\end_inset

 これらは、XHTML出力で使用されます。
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:XHTML出力のタグ"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
IsPredefined
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] フロートがドキュメントクラス中に既に定義されているのか、あるいは\SpecialChar LaTeX
パッケージ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
float
\end_layout

\end_inset

を読み込む必要があり、そのファイル内のものを使用して、オン・ザ・フライで定義するかを示します。既定は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

で、この場合
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
float
\end_layout

\end_inset

を使用します。\SpecialChar LaTeX
ドキュメントクラス中に既に定義されているときには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

に設定しなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ListCommand
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] この型のフロートの一覧を生成するのに使用するコマンド。頭部の「
\backslash
」は書きません。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NeedsFloatPkg
\end_layout

\end_inset

が偽の時には、このコマンドを生成する標準的な方法はないので、これは
\emph on
必ず
\emph default
指定しなくてはなりません。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NeedsFloatPkg
\end_layout

\end_inset

が真の時は、標準的な方法が存在するので、これは無視されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ListName
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] この種類のフロート一覧（図一覧・表一覧など）に使用される見出し。\SpecialChar LyX
中では、これは画面上のラベルとして使用されます。また、見出しとして使用するために、La\SpecialChar TeX
に渡さ
れ、XHTML出力でも見出しとして使用されます。これは、文書言語に翻訳されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NumberWithin
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] この（非必須の）引数は、このクラスのフロートが文書中のある節単位ごとに番号を振り直されるべきかどうかを規定します。例えば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NumberWithin
\end_layout

\end_inset

が「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
chapter
\end_layout

\end_inset

」に指定されていれば、フロートは章ごとに番号が振り直されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Placement
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] このクラスのフロートの既定の配置法。文字列は、標準的な\SpecialChar LaTeX
表記に従い、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
t
\end_layout

\end_inset

ならば上部（top）、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
b
\end_layout

\end_inset

ならば下部（bottom）、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
p
\end_layout

\end_inset

ならばページ（page）、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
h
\end_layout

\end_inset

ならばここ（here）を表します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\SpecialChar LaTeX
同様、文字列中でのこれらの文字の順序は関係ありません。
\end_layout

\end_inset

。これらの他に新しい型
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
H
\end_layout

\end_inset

があり、これはフロートを「ここ」に置いていいけれども他の場所はだめ、というものなので、本当はフロートにあるものではありません。しかし、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
H
\end_layout

\end_inset

指定子は特別なものであり、その細かい実装上の理由で、組み込み以外のフロート型では使用することができません。これが何を意味するかおわかりにならない場合には、代わり
に「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tbp
\end_layout

\end_inset

」を指定してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RefPrefix
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この型のフロートを参照する際、生成されるラベルに使用する前置句。これによって、整形参照を使用することができるようになります。コピーした様式が設定した
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RefPrefix
\end_layout

\end_inset

は、特別な文字列「OFF」（すべて大文字）を使えば、いつでも削除することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
newfloat
\end_layout

\end_inset

を使用してフロートを定義する際に使用される様式。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Type
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] プログラムやアルゴリズムのような、フロートの新しいクラス「型」。適切な
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
newfloat
\end_layout

\end_inset

の後で、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{program}
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
end{algorithm*}
\end_layout

\end_inset

といったコマンドが利用できます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UsesFloatPkg
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] このフロートが、クラスファイルやパッケージ中で、\SpecialChar LaTeX
パッケージ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
float
\end_layout

\end_inset

が提供しているものを使用して定義されているのか、\SpecialChar LyX
自身がオン・ザ・フライで定義しているのかを示します。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
type
\end_layout

\end_inset

型のフロートを定義すると、自動的に
\emph on
対応する
\emph default

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
type
\end_layout

\end_inset

名カウンタが定義されます。
\end_layout

\begin_layout Subsection
自由差込枠と差込枠レイアウト
\begin_inset CommandInset label
LatexCommand label
name "subsec:任意設定差込枠"

\end_inset


\end_layout

\begin_layout Standard
自由差込枠には次の3種類があります。
\end_layout

\begin_layout Itemize
文字様式（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CharStyle
\end_layout

\end_inset

）。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
noun
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
code
\end_layout

\end_inset

などの\SpecialChar LaTeX
コマンドに対応した意味論的マークアップを定義するものです。
\end_layout

\begin_layout Itemize
ユーザ設定（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Custom
\end_layout

\end_inset

）。これは、\SpecialChar TeX
コードや脚註などに似たユーザ設定の折りたたみ式差込枠を定義するのに使用することができます。わかりやすい例はendnote差込枠で、これは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
endnote
\end_layout

\end_inset

モジュール中で定義されています。
\end_layout

\begin_layout Itemize
XML要素（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Element
\end_layout

\end_inset

）。DocBookクラスで使用するものです。
\end_layout

\begin_layout Standard
自由差込枠は、以下で説明する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

タグを使用して定義されます。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

タグは、もう一つ別の機能も提供します。これを使えば、いろいろな種類の差込枠全体のレイアウトを設定するのに使用することができるのです。現在のところ、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

は自由差込枠を定義することの他に、脚註・傍註・註釈差込枠・\SpecialChar TeX
コード（ERT）差込枠・派生枝・リスト・索引・ボックス・表・アルゴリズム・URL・キャプションをユーザ
ー定義するのに使用されます。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

定義は以下の形の行では始まらなくてはなりません。
\end_layout

\begin_layout LyX-Code
InsetLayout <型>
\end_layout

\begin_layout Standard
ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

は、レイアウトを定義しようとしている差込枠を指し、4つの場合があります。
\end_layout

\begin_layout Enumerate
既存の差込枠のレイアウトを変更する場合。この場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

は以下のいずれかになります：
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Algorithm
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Branch
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Box
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Box:shaded
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:Standard
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ERT
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Figure
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Foot
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Index
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Info
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Info:menu
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Info:shortcut
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Info:shortcuts
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Listings
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Marginal
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Note:Comment
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Note:Note
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Note:GreyedOut
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Table
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
URL
\end_layout

\end_inset

。
\end_layout

\begin_layout Enumerate
自由差込枠のレイアウトを定義する場合。この場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Flex:<名称>
\end_layout

\end_inset

の形でなくてはなりません。ここで、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
名称
\end_layout

\end_inset

は、既存の自由差込枠で使用されていない有効な識別子であれば、何でも構いません。識別子には空白を入れることもできますが、この場合には全体を引用符で囲まなくてはなり
ません。自由差込枠の定義には、この定義がどの差込枠型なのか宣言するために、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXType
\end_layout

\end_inset

項目が含まれていなくてはならないことに注意してください。
\end_layout

\begin_layout Enumerate
ユーザー定義派生枝を定義する場合。この場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Branch:<名称>
\end_layout

\end_inset

」の形でなくてはなりません。ここで、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
名称
\end_layout

\end_inset

は、ユーザーの文書で定義されている有効な派生枝名です。派生枝名には空白を入れても構いませんが、その場合は派生枝全体を引用符で囲まなくてはなりません。この機能の主
な目的は、ユーザーの必要に応じて、特定の派生枝を\SpecialChar LaTeX
がくるむことができるようにすることです。
\end_layout

\begin_layout Enumerate
ユーザー(またはクラス)定義のキャプションを定義する場合。この場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<型>
\end_layout

\end_inset

は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:<名称>
\end_layout

\end_inset

」の形でなくてはなりません。ここで、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
名称
\end_layout

\end_inset

は、メニューに表示されるキャプション名です。応用例については、標準キャプション(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:Standard
\end_layout

\end_inset

)、若しくはKOMA-Scriptクラスのクラス定義キャプション(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:Above
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:Below
\end_layout

\end_inset

)、
\family sans
多言語キャプション
\family default
モジュール(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Caption:Bicaption
\end_layout

\end_inset

)をご覧ください。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

定義には以下の項目を入れることができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
整数
\end_layout

\end_inset

] 現在のレイアウトに関連付けられたコマンドまたは環境の引数番号を定義します。定義は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndArgument
\end_layout

\end_inset

で閉じなくてはなりません。詳細は
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

 言語コマンドを変更するプリアンブル。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式の国際化"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BgColor
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

] 差込枠の背景色。使用できる色名一覧は
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:色名"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ContentAsLabel
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 差込枠を閉じた際、差込枠の内容をラベルとして使用するか否か。既定値は偽です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

 [<型>] 段落様式と同様です。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照のこと。完全な型を指定する必要があることに注意してください。例:
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CopyStyle Flex:<名称>
\end_layout

\end_inset

。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CustomPars
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落を設定するのに、段落設定ダイアログをユーザが使えるかどうかを指定します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Decoration
\end_layout

\end_inset

 差込枠の枠とボタンをレンダリングするのに使用する様式を指定するもので、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Classic
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Minimalistic
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Conglomerate
\end_layout

\end_inset

のいずれかを指定することができます。脚註は通常
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Classic
\end_layout

\end_inset

を使用し、\SpecialChar TeX
コード差込枠は通常
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Minimalistic
\end_layout

\end_inset

、文字様式は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Conglomerate
\end_layout

\end_inset

を使用します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Display
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

の時のみ意味をもちます。環境を、出力中で独立して出力させるか、周囲のテキストとインラインで出力させるかを示します。偽にすると、\SpecialChar LaTeX
環境は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{LatexName}
\end_layout

\end_inset

タグと
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
end{LatexName}
\end_layout

\end_inset

タグの後の空白(改行文字を含む)を無視するものと仮定します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

宣言を閉じるのに必要です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

 本文本体とラベル
\emph on
両方に
\emph default
使用されるフォントです。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

を参照。このフォントを定義すると自動的に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

も同じ値に定義されるので、これらを別々の値にしたいときは、これを先に定義してから後に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

を定義しなくてはならないことに注意してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FixedWidthPreambleEncoding
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] このレイアウトによって生成される
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
BabelPreamble
\end_layout

\end_inset

および
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

コードの訳出後の内容が固定幅エンコーディングを持つように強制するか否か。これは、
\family typewriter
listings
\family default
のように、
\family sans
utf8
\family default
などの可変幅エンコーディングでは機能しない特殊な\SpecialChar LaTeX
パッケージのために必要です。この設定は、Xe\SpecialChar TeX
やLua\SpecialChar TeX
のようなUnicodeを完全に解する\SpecialChar LaTeX
バックエンドを使用してい
る場合には、無視されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceLocalFontSwitch
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] babel使用時に、常にローカルフォント切替(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
foreignlanguage
\end_layout

\end_inset

)を使い、グローバル切替(
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
selectlanguage
\end_layout

\end_inset

など)は使わない。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceLTR
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] たとえば\SpecialChar TeX
コードやURLで「latex」言語が「左から右」（ラテン式）出力になるように強制します。うまく機能しません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForceOwnlines
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] \SpecialChar LaTeX
出力において、この差込枠が開始する前と終了する後に、改行を強制します。これは、解析上の目的のために、差込枠が単独行に出力されるように保証します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForcePlain
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] PlainLayoutを使用するべきなのか、それともユーザが差込枠で使用されている段落様式を変更できるのかを指定します。既定値は偽です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTML*
\end_layout

\end_inset

 これらは、XHTML出力で使用されます。
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:XHTML出力のタグ"

\end_inset

をご覧ください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InToc
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 「文書構造」ペイン用に出力される文字列に、この差込枠の内容を含めるかどうか。たとえば、節見出しの脚註の内容が、文書構造の目次に表示されることは望まないでしょ
うが、通常、文字様式の内容は表示されることを望むでしょう。既定値は偽、すなわち含めません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
KeepEmpty
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 ラベルに使用されるフォント。第
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

節を参照。非効率を回避するため、この定義は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

の前には決して現れてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

]
\lang english
 
\lang japanese
ボタンなどに差込枠のラベルとして表示されるもの。差込枠型によっては（\SpecialChar TeX
コードや派生枝）、ラベルが動的に変更されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LangPreamble
\end_layout

\end_inset

 言語依存のプリアンブル。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式の国際化"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<名称>
\end_layout

\end_inset

] 対応する\SpecialChar LaTeX
関連物の名称。環境名ないしはコマンド名。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexParam
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<パラメータ>
\end_layout

\end_inset

]
\lang english
 
\lang japanese
対応する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

関連物の非必須パラメータ。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[]
\end_layout

\end_inset

のような括弧対を含む。このパラメータは\SpecialChar LyX
内部から変更することはできません(変更可能なパラメータには
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

を使用してください)。これは、全ての\SpecialChar LaTeX
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

の後にそのままの形で出力されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command, Environment, None
\end_layout

\end_inset

] 様式がどのように\SpecialChar LaTeX
に変換されるべきかを示します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これらのルールはSGMLクラスにも適用されるので、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

の名称は、少しミスリーディングかもしれません。特定の例については、SGMLクラスファイルを見てください。
\end_layout

\end_inset

。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
None
\end_layout

\end_inset

 は、何も特別なことは意味しません
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash

\emph on
LatexName
\emph default
{\SpecialChar ldots
}
\end_layout

\end_inset

を意味します
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

 は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{
\emph on
LatexName
\emph default
}\SpecialChar ldots

\backslash
end{
\emph on
LatexName
\emph default
}
\end_layout

\end_inset

を意味します
\end_layout

\begin_layout Standard
上記最後のいくつかをまとめると、\SpecialChar LaTeX
出力は、\SpecialChar LaTeX
型に依存して
\end_layout

\begin_layout LyX-Code

\backslash
LatexName[LatexParam]{\SpecialChar ldots
}
\end_layout

\begin_layout Standard
のようになるか、
\end_layout

\begin_layout LyX-Code

\backslash
begin{LatexName}[LatexParam] \SpecialChar ldots
 
\backslash
end{LatexName}.
\end_layout

\begin_layout Standard
となります。
\end_layout

\end_deeper
\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LeftDelim
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 様式の内容の最初に置かれる文字列。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyxType
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
charstyle
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
custom
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
element
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
end
\end_layout

\end_inset

（charstyleの定義の終わりなどを示すダミー定義）の各値を取ることができます。この項目は、自由差込枠に必須であり、かつ自由差込枠でしか意味を持ちません。こ
の項目は、就中、差込枠がどのメニューに表示されるかを決定します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXType
\end_layout

\end_inset

を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
charstyle
\end_layout

\end_inset

に設定すると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

が偽に設定されます。文字様式差込枠で
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

を真にしたい時には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXType
\end_layout

\end_inset

を設定した
\emph on
後に
\emph default
設定すれば、真に設定することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] この差込枠中に複数の段落を入れることができるかどうか。これは同時に、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CustomPars
\end_layout

\end_inset

を同じ値に設定し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ForcePlain
\end_layout

\end_inset

を逆の値に設定します。これらは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

の
\emph on
後に
\emph default
指定されれば、他の値に指定し直すことができます。既定値は真です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NeedProtect
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 本レイアウト中で脆弱なコマンドを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
protect
\end_layout

\end_inset

するか否か（註：当該コマンド自身をprotectするかどうかでは
\emph on
ありません
\emph default
）。既定値は偽です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
NoInsetLayout
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<レイアウト>
\end_layout

\end_inset

] 既存の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

を削除します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ObsoletedBy
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<レイアウト>
\end_layout

\end_inset

] この古い
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

を引き継いだ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

の名称。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

の改名を、後方互換性を維持しながら行うために用いられます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ParbreakIsNewline
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PassThru
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset


\emph default
,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RefPrefix
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] この型の差込枠を参照する際、生成されるラベルに使用する前置句。これによって、整形参照を使用することができるようになります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 段落様式と同様。
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:段落様式"

\end_inset

参照。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ResetArgs
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] (
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Argument
\end_layout

\end_inset

タグで定義された)この様式の\SpecialChar LaTeX
引数をリセットします。これは、様式を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

でコピーし、その(必須及び非必須)引数は継承したくない場合に便利です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ResetsFont
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] この差込枠が周囲の環境と同じフォントを用いるか、独自のフォントを用いるか。既定値は真、すなわち独自のフォントを用います。
\begin_inset Note Note
status open

\begin_layout Plain Layout
This is outdated: The default changed from 1 to 0
\end_layout

\end_inset


\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
RightDelim
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 様式の内容の最後に置かれる文字列。出力中の改行は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<br/>
\end_layout

\end_inset

で指示できます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Spellcheck
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

,
\begin_inset space \thinspace{}
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] この差込枠の内容をスペルチェックするか否か。既定値は真です。
\end_layout

\begin_layout Subsection
カウンタ
\begin_inset CommandInset label
LatexCommand label
name "subsec:カウンタ"

\end_inset


\end_layout

\begin_layout Standard
テキストクラスには、カウンタ（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
chapter
\end_layout

\end_inset

・
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
figure
\end_layout

\end_inset

・\SpecialChar ldots
）を定義することが必要です。標準的なカウンタは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdcounters.inc
\end_layout

\end_inset

ファイルに含まれているので、作業中のレイアウトファイルに
\end_layout

\begin_layout LyX-Code
Input stdcounters.inc
\end_layout

\begin_layout Standard
と加えるだけで済むことも多いでしょう。しかし自製カウンタを定義したければ、そうすることもできます。カウンタ宣言は、
\end_layout

\begin_layout LyX-Code
Counter カウンタ名
\end_layout

\begin_layout Standard
で始まらなくてはなりません。ここで「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
カウンタ名
\end_layout

\end_inset

」は、実際のカウンタ名で置き換えます。また、宣言は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

」で終わらなくてはなりません。
\end_layout

\begin_layout Standard
以下のパラメータを使用することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InitialValue
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
整数=1
\end_layout

\end_inset

] カウンタの初期値を設定します。リセットの度にカウンタはこの値に戻ります。通常、既定値1のままで充分でしょう。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString [文字列=""]
\end_layout

\end_inset

 定義されていると、ここで指定した文字列がカウンタの表示の仕方を定義します。この値を指定すると、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

も同じ値に設定されます。文字列中では、以下の構成要素を使用することができます。
\begin_inset Separator parbreak
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
thecounter
\end_layout

\end_inset

は、カウンタ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
counter
\end_layout

\end_inset

の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

（または
\begin_inset Newline linebreak
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

）を展開したもので置き換えられます。 
\end_layout

\begin_layout Itemize
カウンタ値は、\SpecialChar LaTeX
型マクロ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash

\emph on
numbertype
\emph default
{
\emph on
カウンタ
\emph default
}
\end_layout

\end_inset

を用いて表現することができます。ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
numbertype
\end_layout

\end_inset

は以下のいずれかです。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
arabic
\end_layout

\end_inset

：1, 2, 3,\SpecialChar ldots
；
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
alph
\end_layout

\end_inset

：a, b, c, \SpecialChar ldots
（小文字）；
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Alph
\end_layout

\end_inset

：A, B, C, \SpecialChar ldots
（大文字）；
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
roman
\end_layout

\end_inset

：i, ii, iii, \SpecialChar ldots
（小文字ローマ数字）；
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Roman
\end_layout

\end_inset

：I, II, III\SpecialChar ldots
（大文字ローマ数字）。
\end_layout

\end_deeper
\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

が定義されていないときは、既定値は以下のように組み立てられます。このカウンタに親カウンタ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
master
\end_layout

\end_inset

（
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Within
\end_layout

\end_inset

で定義）があるときには、文字列
\begin_inset Newline linebreak
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
themaster.
\backslash
arabic{カウンタ}
\end_layout

\end_inset

が使用されます。それ以外の場合は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
arabic{カウンタ}
\end_layout

\end_inset

が使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=""] 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

と同様ですが、付録で使用するためのものです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PrettyFormat
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] このカウンタの整形参照で使用する書式。たとえば、節番号への参照を「Section
\begin_inset space ~
\end_inset

2.4」のように表示させたい場合には、文字列に「##」を含めます。これは、カウンタ番号で置換されます。したがって、節の場合には「Section ##」のようにしま
す。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Within
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] これを別のカウンタ名に設定すると、現在のカウンタは、別のカウンタが増加する毎にリセットされます。たとえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
subsection
\end_layout

\end_inset

は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
section
\end_layout

\end_inset

毎に番号がリセットされます。
\end_layout

\begin_layout Subsection
フォント指定
\begin_inset CommandInset label
LatexCommand label
name "subsec:フォント指定"

\end_inset


\end_layout

\begin_layout Standard
フォント指定は、以下のような形を取ります。
\end_layout

\begin_layout LyX-Code
Font 
\family roman
\emph on
または
\family default
\emph default
 LabelFont 
\family roman
\emph on
または
\family default
\emph default
 DefaultFont
\end_layout

\begin_layout LyX-Code
 ...
\end_layout

\begin_layout LyX-Code
EndFont
\end_layout

\begin_layout Standard
以下のコマンドを使用することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Color
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
none
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
black
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
white
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
red
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
green
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
blue
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
cyan
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
magenta
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
yellow
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
brown
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
darkgray
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
gray
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lightgray
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
lime
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
orange
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
olive
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
pink
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
purple
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
teal
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
violet
\end_layout

\end_inset

]
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Family
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Roman
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Sans
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Typewriter
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Misc
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

] 有効な引数は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
emph
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
noun
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
strikeout
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
underbar
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
uuline
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
uwave
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_emph
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_noun
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_strikeout
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_bar
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_uuline
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_uwave
\end_layout

\end_inset

です。それぞれ、対応する属性を有効にしたり無効にしたりします。
\begin_inset Newline newline
\end_inset

たとえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
emph
\end_layout

\end_inset

は強調を有効にし、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_emph
\end_layout

\end_inset

はそれを無効にします。もし後者がわかりにくければ、現在のコンテクストのフォント設定は、一般的に周囲のコンテクストから継承していることを思い出してください。ですか
ら
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
no_emph
\end_layout

\end_inset

は、たとえば定理環境で、何をせずとも有効となっている強調を無効にするのです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Series
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Medium
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Bold
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Shape
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Up
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Italic
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
SmallCaps
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Slanted
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Size
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tiny
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
small
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
normal
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
large
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
larger
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
largest
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
huge
\end_layout

\end_inset

, 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
giant
\end_layout

\end_inset

]
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:引用書式指定"

\end_inset

引用書式指定
\end_layout

\begin_layout Standard
（引用ダイアログやツールチップなどの）\SpecialChar LyX
内部やXHTML出力において、書誌情報をどのように表示するべきかの叙述には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CiteFormat
\end_layout

\end_inset

ブロックが使用されています。このブロックは、以下のような形をしています。
\end_layout

\begin_layout LyX-Code
CiteFormat
\end_layout

\begin_layout LyX-Code
 article ...
\end_layout

\begin_layout LyX-Code
 book ...
\end_layout

\begin_layout LyX-Code
End
\end_layout

\begin_layout Standard
上記の各行は、それぞれarticleやbookに関連付けられた書誌情報をどのように表示するべきかを定義するものですが、このような定義は、Bib\SpecialChar TeX
ファイル中に存在し
うる「項目型」すべてについて与えることができます。特定の定義が与えられなければ、\SpecialChar LyX
は、ソースコード中に定義されている既定書式を使用します。\SpecialChar LyX
は、いくつかの書式を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdciteformats.inc
\end_layout

\end_inset

ファイルで事前定義しており、これはほとんどの\SpecialChar LyX
文書クラスにインクルードされています。
\end_layout

\begin_layout Standard
この定義は、Bib\SpecialChar TeX
キーをその値で置換できる機能を持った、簡単な言語を使用しています。キーは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%author%
\end_layout

\end_inset

のように
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%
\end_layout

\end_inset

記号でくくらなくてはなりません。したがって、簡単な定義は以下のようになります。
\end_layout

\begin_layout LyX-Code
misc %author%, 
\begin_inset Quotes eld
\end_inset

%title%
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
これは、「著者名・コンマ・引用に囲まれたタイトル・終止符」を出力します。
\end_layout

\begin_layout Standard
もちろん、キーが存在するときのみ、キーを出力したい時があるはずです。このようなときには
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{%volume%[[vol.
\begin_inset space ~
\end_inset

%volume%]]}
\end_layout

\end_inset

のように、条件付きの構成を使用することができます。これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
volume
\end_layout

\end_inset

が存在するならば，「vol.
\begin_inset space ~
\end_inset

」とvolumeキーを出力するという意味です。また、
\begin_inset Newline newline
\end_inset


\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{%author%[[%author%]][[%editor%, ed.]]}
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

のように、条件の中にelse節を含めることも可能です。ここでは、もし
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
author
\end_layout

\end_inset

キーが存在するならば出力され、そうでなければeditorキーと「,
\begin_inset space ~
\end_inset

ed.」が出力されます。ここでもキーは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%
\end_layout

\end_inset

記号でくくられていることに注意してください。条件全体は、波括弧で囲まれています。if節およびelse節は、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
[[
\end_layout

\end_inset

」と「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
]]
\end_layout

\end_inset

」の二重角括弧で囲まれています。これらすべてのあいだには，空白は入ってはなりません。
\end_layout

\begin_layout Standard
もう一つ、定義中で使用することのできる文法として、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{!<i>!}
\end_layout

\end_inset

という形をしたものがあります。これは、「リッチテキスト」を生成するときに使われる整形情報を定義するものです。当然のことながら、平文を書き出すときには、HTMLタ
グを出力させたくはありませんから、HTMLタグは「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
{!
\end_layout

\end_inset

」と「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
!}
\end_layout

\end_inset

」でくるんでやらなくてはならないのです。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CiteFormat
\end_layout

\end_inset

ブロックでは、他に2つの特殊な定義が可能です。一つめの例としては、
\end_layout

\begin_layout LyX-Code
!quotetitle 
\begin_inset Quotes eld
\end_inset

%title%
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
といった例が挙げられます。これは、短縮形ないしはマクロであり、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%!quotetitle%
\end_layout

\end_inset

のように、これがキーであるかのように扱って使用することができます。\SpecialChar LyX
は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%!quotetitle%
\end_layout

\end_inset

を、そこで定義されているものを扱う場合と同じように取り扱います。ですから、明白な警告を敢えてさせて頂くと、
\end_layout

\begin_layout LyX-Code
!funfun %funfun%
\end_layout

\begin_layout Standard
のようなことはしないでください。\SpecialChar LyX
は、無限ループに陥るようなことはありませんが、諦めるまでに長いループに入るかもしれません。
\end_layout

\begin_layout Standard
特殊な定義の二つめは、
\end_layout

\begin_layout LyX-Code
_pptext pp.
\end_layout

\begin_layout Standard
のようなものです。これは、文字列の翻訳可能な部分を定義するもので、書誌情報中の関連部分が翻訳されるようにすることができます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
%_pptext%
\end_layout

\end_inset

のように、これをキーとして扱って、定義の中に入れることもできます。これらのうちいくつかは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdciteformats.inc
\end_layout

\end_inset

中に事前定義されています。これは、上記で述べたような意味でのマクロではないことに注意してください。
\end_layout

\begin_layout Standard
以下は、これらの機能を全て使った例です。
\begin_inset VSpace defskip
\end_inset


\end_layout

\begin_layout Standard
\noindent

\family typewriter
!authoredit {%author%[[%author%, ]][[{%editor%[[%editor%, %_edtext%, ]]}]]}
\end_layout

\begin_layout Standard
\begin_inset VSpace defskip
\end_inset

これは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
author
\end_layout

\end_inset

キーが定義されているならば、著者とコンマを出力し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
author
\end_layout

\end_inset

キーが定義されておらず、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
editor
\end_layout

\end_inset

キーが定義されているならば、編集者名の後に
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
_edtext
\end_layout

\end_inset

ないしはその翻訳（既定では「ed.」）を出力します。これは実は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdciteformats.inc
\end_layout

\end_inset

の中で定義されていますので、このファイルをまず読みこめば、ご自身の定義ないしは再定義の中で使用することができます。
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:XHTML出力のタグ"

\end_inset

XHTML出力のタグ
\end_layout

\begin_layout Standard
\SpecialChar LaTeX
やDocBookと同様、\SpecialChar LyX
のXHTML出力の書式も、レイアウト情報によって制御することができます。一般的に、\SpecialChar LyX
は適切な既定値を提供し、前述したように、他のレイアウト
タグに基づいて、既定のCSSスタイルの構成まで行ないます。たとえば、章見出しを適切に整形するためのCSSを書き出すために、\SpecialChar LyX
は、章様式の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

宣言で提供されている情報を利用しようと試みます。
\end_layout

\begin_layout Standard
したがって、多くの場合、使いたい環境やユーザ設定差込枠などのために満足のいくXHTML出力を得るために、まったく何もしなくてよいことになるでしょう。しかしながら
、これが必要になる場合もあるので、\SpecialChar LyX
は、生成されるXHTMLやCSSをカスタマイズするために使用できるレイアウトタグを、たくさん提供しています。
\end_layout

\begin_layout Standard
様式宣言や差込枠宣言の外で使用することができるタグに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLPreamble
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AddToHTMLPreamble
\end_layout

\end_inset

の2つがあることに注意してください。これらの詳細については、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:汎用テキストクラスパラメータ"

\end_inset

をご覧ください。
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "subsec:段落様式-XHTML"

\end_inset

段落様式
\end_layout

\begin_layout Standard
\SpecialChar LyX
が段落のために出力するXHTMLの種類は、通常の段落を取り扱っているのか、コマンドを取り扱っているのか、あるいは環境を取り扱っているのかに依存し、これは対応する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
\SpecialChar LaTeX
Type
\end_layout

\end_inset

タグの内容によって決定されます。
\end_layout

\begin_layout Standard
コマンドや通常の段落の場合には、XHTML出力は以下の形になります。
\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
<labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>ラベル</labeltag>
\end_layout

\begin_layout LyX-Code
段落の内容
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout Standard
もちろん、段落にラベルがなければ、ラベルタグは省略することができます。
\end_layout

\begin_layout Standard
環境のうち、リストの変種でないものに関しては、XHTMLは以下の形を取ります。
\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
<itemtag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

><labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>環境ラベル</labeltag>最初の段落。
\end_layout

\begin_layout LyX-Code
</itemtag>
\end_layout

\begin_layout LyX-Code
<itemtag>二つめの段落。</itemtag>
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout Standard
ラベルは、たとえば定理の場合にそうであるように、最初の段落にだけ出力されることに注意してください。
\end_layout

\begin_layout Standard
リストに関しては、次のような形になります。
\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
<itemtag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

><labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>リストのラベル</labeltag>最初の項目。</itemtag>
\end_layout

\begin_layout LyX-Code
<itemtag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

><labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>リストのラベル</labeltag>二つめの項目。</itemtag>
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout LyX-Code

\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
<labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>リストのラベル</labeltag><itemtag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>最初の項目。</itemtag>
\end_layout

\begin_layout LyX-Code
<labeltag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>リストのラベル</labeltag><itemtag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>二つめの項目</itemtag>
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout Standard
ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
labeltag
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
itemtag
\end_layout

\end_inset

の順序が違っていることに注意してください。どちらの順序になるかは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabelFirst
\end_layout

\end_inset

の設定に依存します。もし
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabelFirst
\end_layout

\end_inset

が偽であれば（既定値）、最初のケースのようになり、これが真であれば、二番めのケースのように、labelがitemの外側に来るようになります。
\end_layout

\begin_layout Standard
各段落の特定のタグ出力や属性出力は、以下に述べるようなレイアウトタグを使って制御することができます。しかしながら、前述のように、多くの場合、\SpecialChar LyX
は適切な既定値を生成
するので、たいしたことをしなくても、望ましいXHTML出力を得ることができるということになるはずです。ここで利用出来るタグは、自分の好みにあわせて微調整する目的
でここにあるものと考えてください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　主幹タグと共に出力される属性情報を指定します。たとえば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`mydiv'
\end_layout

\end_inset

」のようなものです。既定においては、\SpecialChar LyX
は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`レイアウト名'
\end_layout

\end_inset

」と出力します。ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
レイアウト名
\end_layout

\end_inset

は、レイアウトの\SpecialChar LyX
名であり、chapterのように小文字で記述します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLForceCSS
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

]　
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

で追加情報が明示的に与えられているときでも、\SpecialChar LyX
がこのレイアウト用に生成する既定CSS情報を出力するか否か。これを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

にすると、生成されたCSSを完全に上書きする代わりに、変更したり追加したりすることができます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLItem
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　環境の段落に使用されるタグ。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
itemtag
\end_layout

\end_inset

を置き換えます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
div
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLItemAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　itemタグの属性。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`レイアウト名_item'
\end_layout

\end_inset

です。ここには、様式情報は含まれては
\emph on
なりません
\emph default
。その目的のためには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

を使用してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabel
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　段落と項目ラベルに使用されるタグ。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
labeltag
\end_layout

\end_inset

を置き換えます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LabelType
\end_layout

\end_inset

が
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Top_Environment
\end_layout

\end_inset

や
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Centered_Top_Environment
\end_layout

\end_inset

の時は、既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
div
\end_layout

\end_inset

ですが、それ以外の時の既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
span
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabelAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　labelタグの属性。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`レイアウト名_label'
\end_layout

\end_inset

です。ここには、様式情報は含まれては
\emph on
なりません
\emph default
。その目的のためには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

を使用してください。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabelFirst
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

]　このタグは、リスト関係環境でのみ意味を持ち、labelタグが、itemタグの前に出力されるか、中に出力されるかを制御します。これは、たとえば、descrip
tion環境の中で、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
`<dt>\SpecialChar ldots
</dt><dd>\SpecialChar ldots
</dd>
\end_layout

\end_inset

という形を得るために使用されます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

で、labelタグはitemタグの中に出力されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLPreamble
\end_layout

\end_inset

 この様式が使用されたときに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<head>
\end_layout

\end_inset

セクションに出力される情報。これは、たとえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
onclick
\end_layout

\end_inset

ハンドラを定義するために
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<script>
\end_layout

\end_inset

ブロックをインクルードするのに使用することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

 　この様式が使用されたときに、インクルードするCSSスタイル情報。これは、レイアウトが生成する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<style>
\end_layout

\end_inset

ブロックで自動的に包まれますので、CSS自体をインクルードするだけで大丈夫です。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
EndHTMLStyle
\end_layout

\end_inset

で閉じなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLTag
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　主幹ラベルに使用されるタグ。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tag
\end_layout

\end_inset

を置き換えます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
div
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLTitle
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

]　この様式が、XHTMLファイルの
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<title>
\end_layout

\end_inset

タグを生成するのに使用する様式であるという印をつけます。既定値は偽です。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
stdtitle.inc
\end_layout

\end_inset

ファイルでは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
title
\end_layout

\end_inset

環境のこの項目を真に設定しています。
\end_layout

\begin_layout Subsection
差込枠レイアウトXHTML
\end_layout

\begin_layout Standard
差込枠のXHTML出力も、レイアウトファイル内の情報によって制御することができます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
現在のところ、これは「テキスト」差込枠（中に書き込みができる差込枠）にのみ有効で、「コマンド」差込枠（ダイアログボックスに関連付けられた差込枠）には適用されませ
ん。
\end_layout

\end_inset

。ここでも、\SpecialChar LyX
は適切な既定値を提供しようと試み、既定のCSS様式を構成します。しかし、すべてカスタマイズ可能です。
\end_layout

\begin_layout Standard
\SpecialChar LyX
が差込枠用に出力するXHTMLは、以下の形を取ります。
\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
<labeltag>ラベル</labeltag>
\end_layout

\begin_layout LyX-Code
<innertag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>差込枠の内容。</innertag>
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout Standard
差込枠が多段落を許可している—つまり
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

が真—ならば、差込枠の内容は、それ自身段落として出力され、それらの段落に用いられる様式（標準、引用など）を用いて整形されます。もちろん、段落にラベルがなければ、
labelタグは省略され、ラベルがあれば、現在のところ、つねに
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
span
\end_layout

\end_inset

が用いられます。innerタグは非必須であり、既定では出力されません。各差込枠用に出力される特定のタグや属性は、以下のレイアウトタグによって制御することができま
す。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　主幹タグと共に出力される属性情報を指定します。たとえば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`myinset' onclick=`\SpecialChar ldots
'
\end_layout

\end_inset

」のようなものです。既定においては、\SpecialChar LyX
は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`差込枠名'
\end_layout

\end_inset

」と出力します。ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
差込枠名
\end_layout

\end_inset

は、差込枠の\SpecialChar LyX
名であり、小文字で記述します。アルファベットや数字以外の文字は、アンダースコアに置き換えられます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLForceCSS
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

]　
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

で追加情報が明示的に与えられているときでも、\SpecialChar LyX
がこのレイアウト用に生成する既定CSS情報を出力するか否か。これを
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

にすると、生成されたCSSを完全に上書きする代わりに、変更したり追加したりすることができます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLInnerAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　innerタグの属性。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`差込枠名_inner'
\end_layout

\end_inset

です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLInnerTag
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　innerタグです。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
innertag
\end_layout

\end_inset

を置き換えます。既定値はなしです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLIsBlock
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
0,
\emph on
1
\end_layout

\end_inset

] この差込枠が（脚註のように）独立した文字列ブロックを表すのか、それとも、（派生枝のように）周囲の文字列の中に取り込まれる素材を表すのか。既定値は1です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLLabel
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　場合によっては、カウンタへの参照を含む、この差込枠のラベル。たとえば、脚註用には
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
arabic{footnote}
\end_layout

\end_inset

など。これは非必須であり、既定値はありません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLPreamble
\end_layout

\end_inset

 この様式が使用されたときに、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<head>
\end_layout

\end_inset

セクションに出力される情報。これは、たとえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
onclick
\end_layout

\end_inset

ハンドラを定義するために
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<script>
\end_layout

\end_inset

ブロックをインクルードするのに使用することができます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

 　この様式が使用されたときに、インクルードするCSSスタイル情報。これは、レイアウトが生成する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<style>
\end_layout

\end_inset

ブロックで自動的に包まれますので、CSS自体をインクルードするだけで大丈夫です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLTag
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　主幹ラベルに使用されるタグ。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tag
\end_layout

\end_inset

を置き換えます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

の設定に依存し、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

が真ならば
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
div
\end_layout

\end_inset

、偽ならば
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
span
\end_layout

\end_inset

です。
\end_layout

\begin_layout Subsection
フロートXHTML
\end_layout

\begin_layout Standard
フロートのXHTML出力も、レイアウトファイル内の情報によって制御することができます。出力は、以下の形を取ります。
\end_layout

\begin_layout LyX-Code
<tag attr=
\begin_inset Quotes erd
\end_inset

value
\begin_inset Quotes erd
\end_inset

>
\end_layout

\begin_layout LyX-Code
フロートの内容。
\end_layout

\begin_layout LyX-Code
</tag>
\end_layout

\begin_layout Standard
キャプションは、存在している場合には、独立した差込枠となり、そのような形で出力されます。その外観は、キャプション差込枠のInsetLayoutで制御することがで
きます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLAttr
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　主幹タグと共に出力される属性情報を指定します。たとえば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`myfloat' onclick=`\SpecialChar ldots
'
\end_layout

\end_inset

」のようなものです。既定においては、\SpecialChar LyX
は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
class=`float フロート-フロート型'
\end_layout

\end_inset

」と出力します。ここで
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
フロート型
\end_layout

\end_inset

は、フロート宣言で定義された（
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フロート"

\end_inset

参照）、この型のフロートの\SpecialChar LyX
名です。ただし、これは小文字に変換され、アルファベットや数字でない文字はアンダースコアに変換されます。例：float-table。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLStyle
\end_layout

\end_inset

 　このフロートが使用されたときに、インクルードするCSSスタイル情報。これは、レイアウトが生成する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<style>
\end_layout

\end_inset

ブロックで自動的に包まれますので、CSS自体をインクルードするだけで大丈夫です。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HTMLTag
\end_layout

\end_inset

 [
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
文字列
\end_layout

\end_inset

]　このフロートに使用されるタグ。上記各例の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
tag
\end_layout

\end_inset

を置き換えます。既定値は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
div
\end_layout

\end_inset

であり、ほとんどの場合変更する必要はありません。
\end_layout

\begin_layout Subsection
書誌情報の整形
\end_layout

\begin_layout Standard
書誌情報は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
CiteFormat
\end_layout

\end_inset

ブロックを使用して整形することができます。詳細については、
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:引用書式指定"

\end_inset

を参照してください。
\end_layout

\begin_layout Subsection
\SpecialChar LyX
が生成したCSS
\end_layout

\begin_layout Standard
\SpecialChar LyX
は、提供されている他のレイアウト情報に基づいて、差込枠と段落様式の両方の既定CSS様式ルールを生成ということすることを、これまでに何度か触れました。この節では、\SpecialChar LyX

がどのレイアウト情報を、どのように使うのか、ひとこと述べておきたいと思います。
\end_layout

\begin_layout Standard
\SpecialChar LyX
は、現在のところ、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

宣言で指定されている
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Family
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Series
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Shape
\end_layout

\end_inset

・
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Size
\end_layout

\end_inset

を利用して、フォント情報についてのみCSSを自動生成します（
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:フォント指定"

\end_inset

を参照）。この変換は、きわめて分かりやすく自明です。たとえば、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Family Sans
\end_layout

\end_inset

」は「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
font-family: sans-serif
\end_layout

\end_inset

」になります。\SpecialChar LyX
の寸法とCSSの寸法のあいだの対応は、少し複雑ですが、それでも直感的に分かります。詳細については、
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

src/FontInfo.cpp
\end_layout

\end_inset

の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
getSizeCSS()
\end_layout

\end_inset

関数をご覧ください。
\end_layout

\begin_layout Chapter
外部素材を取り込む
\begin_inset CommandInset label
LatexCommand label
name "chap:外部素材を取り込む"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Box Shadowbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
【警告】本説明書のこの部分は、しばらく更新されていません。もちろんまだ正確であることを期待していますが、保証の限りではありません。
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\SpecialChar LyX
外部のソースから素材を使用する方法は、取扱説明書『
\emph on
埋込オブジェクト篇
\emph default
』で詳細にカバーされています。本章は、新種の素材を取り込む際に、舞台裏で何をする必要があるかをカバーします。
\end_layout

\begin_layout Section
どのように機能するのか
\end_layout

\begin_layout Standard
外部素材の機能は、ひな型の概念に基づいています。ひな型は、\SpecialChar LyX
がある型の素材とどのように橋渡しをするべきかを指定するものです。同梱物として、\SpecialChar LyX
は、Xfigの図や、様々
なラスター形式画像、チェス棋譜、LilyPond楽譜用のひな型を事前に定義されたものとして含んでいます。実際に何が入っているかは、
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
挿入\SpecialChar menuseparator
ファイル\SpecialChar menuseparator
外部素材
\end_layout

\end_inset

メニューで見ることができます。さらに、特定の型の素材をサポートするのに、自分自身のひな型を作成することも可能です。後でどのようなことをすればいいか詳細に説明しま
すが、できればあなたが作ったすべてのひな型を投稿して、我々が\SpecialChar LyX
の後の版に取り込むことができるようにしてくださることを希望します。
\end_layout

\begin_layout Standard
外部素材の機能におけるもう一つの基本的な発想は、最終素材の元となるオリジナルファイルと、書き出された文書や印刷された文書に取り込むための生成ファイルとを区別して
いることです。たとえば、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Xfig
\end_layout

\end_inset

で作成した図の場合を考えてみましょう。Xfigアプリケーション自体は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.fig
\end_layout

\end_inset

拡張子を持つオリジナルファイルを操作します。Xfigで図を作成したり変更したりして、作業が終われば
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
fig
\end_layout

\end_inset

ファイルに保存します。この図をお使いの文書に取り込みたいときには、\SpecialChar LaTeX
ファイルにそのままインクルードできるように、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
transfig
\end_layout

\end_inset

を呼び出してPostScriptファイルを生成します。この場合には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.fig
\end_layout

\end_inset

ファイルがオリジナルファイルであり、PostScriptファイルが生成ファイルになります。
\end_layout

\begin_layout Standard
この区別は、文書を執筆している最中に、素材を更新することができるようにするために重要です。さらに、これによって、複数の書き出し書式をサポートするために必要な柔軟
性が提供されます。たとえば、平文テキストファイルの場合には、図を生のPostScriptファイルとして取り込むのは、とても褒められた発想とはいえません。むしろ、
その図への参照だけを含めるか、最終出力が実際の画像に近いものとなるように画像からASCIIへの変換子を呼び出したいと考えることでしょう。\SpecialChar LyX
の外部素材マネジメントは
、\SpecialChar LyX
がサポートする各書き出し書式別に仕分けしているので、ユーザがこれを行うことが可能となっています。
\end_layout

\begin_layout Standard
\SpecialChar LyX
の外部素材マネジメントは、書き出し書式によって異なる生成物をサポートすることの他に、編集・閲覧アプリケーションを緊密に統合することもサポートします。Xfigの図
の場合には、\SpecialChar LyX
の外部素材ダイアログからシングルクリックでオリジナルファイルをXfigで開くことができ、ダブルクリックすることで生成されたPostScriptファイ
ルをGhostviewで閲覧することができます。もうコマンドラインをもてあそんだり、オリジナルファイルや生成ファイルがどこにあるか探したり変更を加えるためにファ
イルブラウザをいじくり回す必要はないのです。このようにして、文書を執筆する際に必要となる多くのアプリケーションを最大限に利用し、最終的により生産性を上げることが
できるようになるのです。
\end_layout

\begin_layout Section
外用ひな型設定ファイル
\end_layout

\begin_layout Standard
\SpecialChar LyX
に自製の外用ひな型を付け加えるのは、比較的簡単です。しかしながら、これを不用心に行ってしまうと、たいていの場合、簡単に濫用されてしまうようなセキュリティホールを
作ってしまいがちであることを心に留めておいてください。したがって、これを実行に移す前に、
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:セキュリティに関する論点"

\end_inset

のセキュリティに関する議論を読んでおいてください。
\end_layout

\begin_layout Standard
このことに言及した上で、あなたが作成した面白いひな型は、ぜひ投稿してください。
\end_layout

\begin_layout Standard
外用ひな型は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
LyXDir/lib/external_templates
\end_layout

\end_inset

ファイルで定義されています。自分用の版を
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UserDir/external_templates
\end_layout

\end_inset

に置くこともできます。
\end_layout

\begin_layout Standard
典型的なひな型は以下のようになります。
\end_layout

\begin_layout LyX-Code
Template XFig
\end_layout

\begin_layout LyX-Code
GuiName "XFig: $$AbsOrRelPathParent$$Basename"
\end_layout

\begin_layout LyX-Code
HelpText
\end_layout

\begin_layout LyX-Code
An XFig figure.
\end_layout

\begin_layout LyX-Code
HelpTextEnd
\end_layout

\begin_layout LyX-Code
InputFormat fig
\end_layout

\begin_layout LyX-Code
FileFilter "*.fig"
\end_layout

\begin_layout LyX-Code
AutomaticProduction true
\end_layout

\begin_layout LyX-Code
Transform Rotate
\end_layout

\begin_layout LyX-Code
Transform Resize
\end_layout

\begin_layout LyX-Code
Format LaTeX
\end_layout

\begin_layout LyX-Code
TransformCommand Rotate RotationLatexCommand
\end_layout

\begin_layout LyX-Code
TransformCommand Resize ResizeLatexCommand
\end_layout

\begin_layout LyX-Code
Product "$$RotateFront$$ResizeFront
\end_layout

\begin_layout LyX-Code
         
\backslash

\backslash
input{$$AbsOrRelPathMaster$$Basename.pstex_t}
\end_layout

\begin_layout LyX-Code
         $$ResizeBack$$RotateBack"
\end_layout

\begin_layout LyX-Code
UpdateFormat pstex
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.pstex_t"
\end_layout

\begin_layout LyX-Code
Requirement "graphicx"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pstex_t"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile dvi "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format PDFLaTeX
\end_layout

\begin_layout LyX-Code
TransformCommand Rotate RotationLatexCommand
\end_layout

\begin_layout LyX-Code
TransformCommand Resize ResizeLatexCommand
\end_layout

\begin_layout LyX-Code
Product "$$RotateFront$$ResizeFront
\end_layout

\begin_layout LyX-Code
         
\backslash

\backslash
input{$$AbsOrRelPathMaster$$Basename.pdftex_t}
\end_layout

\begin_layout LyX-Code
         $$ResizeBack$$RotateBack"
\end_layout

\begin_layout LyX-Code
UpdateFormat pdftex
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.pdftex_t"
\end_layout

\begin_layout LyX-Code
Requirement "graphicx"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pdftex_t"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsPath$$Basename.pdf"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format Ascii
\end_layout

\begin_layout LyX-Code
Product "$$Contents(
\backslash
"$$AbsPath$$Basename.asc
\backslash
")"
\end_layout

\begin_layout LyX-Code
UpdateFormat asciixfig
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.asc"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format DocBook
\end_layout

\begin_layout LyX-Code
Product "<graphic fileref=
\backslash
"$$AbsOrRelPathMaster$$Basename.eps
\backslash
">
\end_layout

\begin_layout LyX-Code
         </graphic>"
\end_layout

\begin_layout LyX-Code
UpdateFormat eps
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile docbook "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile docbook-xml "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Product "[XFig: $$FName]"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
TemplateEnd
\end_layout

\begin_layout Standard
ご覧の通り、ひな型は
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Template
\end_layout

\end_inset

 \SpecialChar ldots
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TemplateEnd
\end_layout

\end_inset

で閉じられます。ひな型には、一般的な設定を行うヘッダ部と、サポートされている主要な文書ファイル形式の設定を行う
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

 \SpecialChar ldots
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FormatEnd
\end_layout

\end_inset

部があります。
\end_layout

\begin_layout Subsection
ひな型のヘッダ
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
AutomaticProduction
\begin_inset space ~
\end_inset

true|false
\end_layout

\end_inset

 このひな型で扱うファイルを\SpecialChar LyX
が生成しなくてはならないか否か。このコマンドは、一度だけ必ず現れなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
FileFilter
\begin_inset space ~
\end_inset

<パターン>
\end_layout

\end_inset

 望むファイル群を表示するために、ファイルダイアログで使用するフィルタ用globパターン。2つ以上のファイル拡張子があり得る場合（たとえば、tgifには
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.obj
\end_layout

\end_inset

と
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.tgo
\end_layout

\end_inset

があります）、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
*.{obj,tgo}
\end_layout

\end_inset

」の様なパターンを使用してください。このコマンドは、一度だけ必ず現れなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
GuiName
\begin_inset space ~
\end_inset

<GUI名>
\end_layout

\end_inset

 この文字列はボタン上に表示されます。このコマンドは、一度だけ必ず現れなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
HelpText
\begin_inset space ~
\end_inset

<文章>
\begin_inset space ~
\end_inset

HelpTextEnd
\end_layout

\end_inset

 外部素材ダイアログで使用されるヘルプ文。このひな型がユーザに何を提供できるのか、ユーザに説明するのに十分な情報を盛り込んでください。このコマンドは、一度だけ必
ず現れなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
InputFormat
\begin_inset space ~
\end_inset

<書式>
\end_layout

\end_inset

 オリジナルファイルのファイル形式。これは、\SpecialChar LyX
が知っている書式名でなくてはなりません（
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:ファイル形式"

\end_inset

参照）。このひな型が、2つ以上の書式のオリジナルファイルを取り扱える場合は、「
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
*
\end_layout

\end_inset

」を使用してください。この場合、\SpecialChar LyX
はファイル形式を推定するために、ファイル自体に詮索を試みます。このコマンドは、一度だけ必ず現れなくてはなりません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Template
\begin_inset space ~
\end_inset

<ID>
\end_layout

\end_inset

 このひな型の（他と重複しない）名称。代入マクロを含めてはなりません（下記参照）。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Transform
\begin_inset space ~
\end_inset

Rotate|Resize|Clip|Extra
\end_layout

\end_inset

 このコマンドは、このひな型がどのような変換をサポートしているかを指定します。これは全く登場しなくても1回以上現れても構いません。このコマンドは、外部素材ダイア
ログ中の対応するタブを使用可能にします。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

コマンド一つずつに応じて、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

部に、対応する
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\end_layout

\end_inset

コマンドか
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\end_layout

\end_inset

コマンドを置かなくてはなりません。これを行わないと、この書式での変換はサポートされません。
\end_layout

\begin_layout Subsection
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

部
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\begin_inset space ~
\end_inset

LaTeX|PDFLaTeX|PlainText|DocBook
\end_layout

\end_inset

 この書式定義が定める主要な文書ファイル形式。すべてのひな型が、全文書ファイル形式に対して意味のある表示ができるわけではありません。それでも、全書式に対して
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

部を定義してください。表示する方法がないときは、ダミーテキストを使用してください。これによって、書き出した文書内で、少なくとも外部素材への参照を見ることができる
ようになります。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Option
\begin_inset space ~
\end_inset

<名称>
\begin_inset space ~
\end_inset

<値>
\end_layout

\end_inset

 このコマンドは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

での代入に使うマクロ
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$<名称>
\end_layout

\end_inset

を新たに定義します。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<値>
\end_layout

\end_inset

自体にも代入マクロを使うことができます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

で
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
<値>
\end_layout

\end_inset

を直接使用するよりも優れた点は、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$<名称>
\end_layout

\end_inset

に代入された値が、その文書書式で有効な非必須引数となるように健全化されることです。このコマンドは全く登場しなくても1回以上現れても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Product
\begin_inset space ~
\end_inset

<文>
\end_layout

\end_inset

 書き出された文書に挿入される文。実のところ、これが最も重要なコマンドであり、とても複雑になることがあります。このコマンドは、一度だけ必ず現れなくてはなりません
。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Preamble
\begin_inset space ~
\end_inset

<名称>
\end_layout

\end_inset

 このコマンドは、\SpecialChar LaTeX
プリアンブルに入れるプリアンブル片を指定します。これは
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PreambleDef
\end_layout

\end_inset

 \SpecialChar ldots
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PreambleDefEnd
\end_layout

\end_inset

を使用して定義しなくてはなりません。このコマンドは全く登場しなくても1回以上現れても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ReferencedFile
\begin_inset space ~
\end_inset

<書式>
\begin_inset space ~
\end_inset

<ファイル名>
\end_layout

\end_inset

 このコマンドは、変換過程で生成され、特定の書き出し書式に必要とされるファイルを示します。ファイル名が相対パスである場合には、親文書に対する相対パスとして解釈さ
れます。このコマンドは全く登場しなくても1回以上現れても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Requirement
\begin_inset space ~
\end_inset

<package>
\end_layout

\end_inset

 必要とされる\SpecialChar LaTeX
パッケージ名。パッケージは、\SpecialChar LaTeX
プリアンブル中で
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout

\backslash
usepackage{}
\end_layout

\end_inset

を使って取り込まれます。このコマンドは全く登場しなくても1回以上現れても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\begin_inset space ~
\end_inset

Rotate
\begin_inset space ~
\end_inset

RotationLatexCommand
\end_layout

\end_inset

 このコマンドは、回転用に、組み込みの\SpecialChar LaTeX
コマンドを使用するように指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\begin_inset space ~
\end_inset

Resize
\begin_inset space ~
\end_inset

ResizeLatexCommand
\end_layout

\end_inset

 このコマンドは、伸縮用に、組み込みの\SpecialChar LaTeX
コマンドを使用するように指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Rotate
\begin_inset space ~
\end_inset

RotationLatexOption
\end_layout

\end_inset

 このコマンドは、回転が非必須引数を通じて行われるように指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Resize
\begin_inset space ~
\end_inset

ResizeLatexOption
\end_layout

\end_inset

 このコマンドは、伸縮が非必須引数を通じて行われるように指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Clip
\begin_inset space ~
\end_inset

ClipLatexOption
\end_layout

\end_inset

 このコマンドは、切り抜きが非必須引数を通じて行われるように指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Extra
\begin_inset space ~
\end_inset

ExtraLatexOption
\end_layout

\end_inset

 このコマンドは、追加の非必須引数を使用することを指定します。このコマンドは、1回現れても全く現れなくても構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UpdateFormat
\begin_inset space ~
\end_inset

<書式>
\end_layout

\end_inset

 変換されたファイルのファイル形式。これは、\SpecialChar LyX
が知っている書式名でなくてはなりません（
\begin_inset Flex MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar menuseparator
設定\SpecialChar menuseparator
ファイル処理\SpecialChar menuseparator
ファイル書式
\end_layout

\end_inset

ダイアログを参照）。このコマンドは、一度だけ必ず現れなくてはなりません。得られるファイル形式がPDFの場合、書式
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
pdf6
\end_layout

\end_inset

を指定する必要があります。これは画像取り込みに用いられるPDF計四機です。他の定義済みPDF形式は文書書き出し用のものです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
UpdateResult
\begin_inset space ~
\end_inset

<ファイル名>
\end_layout

\end_inset

 変換されたファイルのファイル名。ファイル名は絶対パスでなくてはなりません。このコマンドは、一度だけ必ず現れなくてはなりません。
\end_layout

\begin_layout Subsection
プリアンブルの定義
\end_layout

\begin_layout Standard
外用ひな型設定ファイルには、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PreambleDef
\end_layout

\end_inset

 \SpecialChar ldots
 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
PreambleDefEnd
\end_layout

\end_inset

で囲んだプリアンブル定義を追加することができます。これらの定義は、ひな型の
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

部で使用することができます。
\end_layout

\begin_layout Section
代入機構
\end_layout

\begin_layout Standard
外部素材機構が外部プログラムを呼び出すときには、ひな型設定ファイルで定義されたコマンドにしたがって行われます。これらのコマンドには、実行前に展開されるマクロをい
ろいろ入れることができます。実行は、つねに元の文書があるディレクトリで行われます。
\end_layout

\begin_layout Standard
また、外部素材が表示されるときにはいつでも、その名称は代入機構によって組み立てられ、ひな型定義中の他のほとんどのコマンドも代入をサポートしています。
\end_layout

\begin_layout Standard
使用できるマクロは以下の通りです。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathMaster
\end_layout

\end_inset

 \SpecialChar LyX
親文書への絶対ファイルパスないしは相対ファイルパス
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathParent
\end_layout

\end_inset

 \SpecialChar LyX
文書への絶対ファイルパスないしは相対ファイルパス
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsPath
\end_layout

\end_inset

 絶対ファイルパス
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Basename
\end_layout

\end_inset

 パスおよび拡張子を除いたファイル名
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Contents(
\begin_inset Quotes eld
\end_inset

filename.ext
\begin_inset Quotes erd
\end_inset

)
\end_layout

\end_inset

 このマクロは、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
filename.ext
\end_layout

\end_inset

と云う名のファイルの中身を展開します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Extension
\end_layout

\end_inset

 ファイル拡張子（点を含む）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$pngOrjpg
\end_layout

\end_inset

 これは、ファイルがJPEG形式の場合は、文字列「jpg」となり、それ以外では文字列「png」となります。これは、PNG形式とJPEG形式の両方をサポートする出
力形式に対して、不必要な変換を行うことを避けるのに役立ちます。事前設定されているラスター画像ひな形は、pdf\SpecialChar TeX
出力形式に対してこのマクロを使用します。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$FName
\end_layout

\end_inset

 外部素材ダイアログで指定されたファイルのファイル名。これは\SpecialChar LyX
文書への絶対パスでも良いですし、相対パスでも構いません。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$FPath
\end_layout

\end_inset

 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$FName
\end_layout

\end_inset

のパス部分（\SpecialChar LyX
文書への絶対パス名か相対パス名）
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$RelPathMaster
\end_layout

\end_inset

 \SpecialChar LyX
親文書への相対ファイルパス
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$RelPathParent
\end_layout

\end_inset

 \SpecialChar LyX
文書への相対ファイルパス
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Sysdir
\end_layout

\end_inset

 このマクロは、システムディレクトリの絶対パスを展開します。これは、典型的には、\SpecialChar LyX
に同梱されているヘルパースクリプト群を示したりするのに使用されます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Tempname
\end_layout

\end_inset

 元の文書が閉じられたり、挿入されていた外部素材が削除されたりすると自動的に削除される一時ファイルのフルパスとファイル名。
\end_layout

\begin_layout Standard
パスを示すマクロはすべて最後のディレクトリ区切りも含んでいますので、たとえば絶対パスのファイル名を 
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsPath$$Basename$$Extension
\end_layout

\end_inset

のようにして作ることができます。
\end_layout

\begin_layout Standard
上記マクロは、特記しない限りはすべてのコマンドで代入が行われます。
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

コマンドと
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\end_layout

\end_inset

コマンドが有効にされている場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

コマンドは、これらに加えて以下の代入もサポートします。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$ResizeFront
\end_layout

\end_inset

 伸縮コマンドの前置部。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$ResizeBack
\end_layout

\end_inset

 伸縮コマンドの後置部。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$RotateFront
\end_layout

\end_inset

 回転コマンドの前置部。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$RotateBack
\end_layout

\end_inset

 回転コマンドの後置部。
\end_layout

\begin_layout Standard
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Option
\end_layout

\end_inset

コマンドの値に入れる文字列では、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

コマンドと
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
TransformOption
\end_layout

\end_inset

コマンドが有効にされていれば、以下の代入もサポートされます。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Clip
\end_layout

\end_inset

 切り抜きオプション。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Extra
\end_layout

\end_inset

 追加オプション。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Resize
\end_layout

\end_inset

 伸縮オプション。
\end_layout

\begin_layout Description
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$Rotate
\end_layout

\end_inset

 回転オプション。
\end_layout

\begin_layout Standard
どうしてこんなに多くのパス関連マクロがあるのか不思議に思われるかもしれません。主に以下の二つの理由があります。
\end_layout

\begin_layout Enumerate
相対ファイル名と絶対ファイル名は、それぞれ相対的あるいは絶対的なままで維持されなくてはなりません。ユーザにはどちらかの形を好む理由があるのかもしれません。たとえ
ば相対名は、いろいろなマシンで作業をする持ち運び用の文書で役立ちます。絶対名は、プログラムによっては必要とされることがあり得ます。
\end_layout

\begin_layout Enumerate
\SpecialChar LaTeX
は、相対ファイル名に関して、\SpecialChar LyX
や入れ子にした取り込みファイル中の他のプログラムとは異なった取り扱いを行います。\SpecialChar LyX
にとって相対ファイル名とは、常にこのファイル名が書か
れている文書に対して相対的なものになります。\SpecialChar LaTeX
にとっての相対ファイル名は、常に親文書に対するものになります。これら二つの定義は、一つの文書しかないときには同じです
が、部分文書を含む親文書があるときには異なったものとなってきます。つまり、相対ファイル名は、\SpecialChar LaTeX
に提示されるときに変換されなくてはならないのです。幸い、正しいマクロ
を選びさえすれば、これは\SpecialChar LyX
が自動的に行ってくれます。
\end_layout

\begin_layout Standard
すると、新しく作ったひな型定義では、どのパス関連マクロを使うべきでしょうか。このルールは難しくありません。つまり、
\end_layout

\begin_layout Itemize
絶対パスが必要とされるときには
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsPath
\end_layout

\end_inset

を使う。
\end_layout

\begin_layout Itemize
代入された文字列が、\SpecialChar LaTeX
インプットの一種である場合には、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathMaster
\end_layout

\end_inset

を使う。
\end_layout

\begin_layout Itemize
それ以外ならば、ユーザの選択を尊重するために
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathParent
\end_layout

\end_inset

を使う。
\end_layout

\begin_layout Standard
このルールが機能せずに、たとえば相対名が必要となる特殊な場合もありますが、通常、上記でうまく動作します。特殊例の例としては、上述のXFigひな型での
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pstex_t"
\end_layout

\end_inset

というコマンドがあります。この場合、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
.pstex_t
\end_layout

\end_inset

ファイルの複写子は、ファイル内容を書き換えるのに相対名を必要とするために、絶対名を使用することができないのです。
\end_layout

\begin_layout Section
セキュリティに関する論点
\begin_inset CommandInset label
LatexCommand label
name "sec:セキュリティに関する論点"

\end_inset


\end_layout

\begin_layout Standard
外部素材機能は、多くの外部プログラムとの橋渡しをし、しかもそれを自動的に行うので、そのセキュリティ面での帰結を考慮しなくてはなりません。特に、ユーザは好きなファ
イル名やパラメータ文字列を含めることが許されていて、しかもそれらがコマンドに展開されるので、ユーザが文書を閲覧したり印刷したりしたときに、任意のコマンドを実行す
ることができるような悪意ある文書を作成することが可能となりましょう。これは、我々がぜひとも避けたいことなのです。
\end_layout

\begin_layout Standard
しかしながら、外部プログラムコマンドはひな型設定ファイルでのみ指定されているので、\SpecialChar LyX
が安全なひな型でのみ適切に設定されているならば、セキュリティ上の問題は発生しま
せん。これは、外部プログラムが
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
system
\end_layout

\end_inset

システムコールではなく、
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
execvp
\end_layout

\end_inset

システムコールで呼び出されているため、ファイル名やパラメータ部からシェル経由で任意のコマンドを実行することはできないためです。
\end_layout

\begin_layout Standard
これは、外部素材ひな型でどのようなコマンド文字列を使用することのできるかについて、制限があることを意味します。特に、パイプやリダイレクトはそのまま使用することは
できません。これは、\SpecialChar LyX
の安全性を維持するためにそうしなくてはならないのです。もしシェル機能の一部を使用したいとすると、これを完全に統御の下においたまま行う安全なス
クリプトを書いた上で、このスクリプトをコマンド文字列から呼び出すようにしなくてはなりません。
\end_layout

\begin_layout Standard
シェルと直接やりとりするひな型を設計することは可能ではありますが、悪意のあるユーザが狡猾なファイル名やパラメータを書くことによって、任意のコマンドを実行できるよ
うになるため、一般的には、統御下に置いた状態で
\begin_inset Flex Code
status collapsed

\begin_layout Plain Layout
execvp
\end_layout

\end_inset

システムコールを使用する安全なスクリプトのみを使用することをお勧めします。確かに、管理された環境下で使用する分には、通常のシェルスクリプトを使用する方に流れる誘
惑はあります。そうした場合には、お使いのシステムに簡単に濫用することのできるセキュリティホールを、
\emph on
間違いなく
\emph default
導入することを理解しておいてください。オープンソースの伝統に従って、私たちは人々に新しいひな型を投稿してくれるよう促していますが、そのような安全でないひな型はL
yXの標準頒布版には取り入れるべきでないとすることには当然の正当性があります。公式の頒布チャンネルから出荷されている\SpecialChar LyX
には、安全でないひな型は決して入っていません
。
\end_layout

\begin_layout Standard
外部素材を含めることで強力な力を手に入れることができますが、この力とともにセキュリティ上の危険を導入してしまわないように気をつける必要があります。無防備なスクリ
プトのたった一行に入り込んだ、ちょっとしたエラーが、巨大なセキュリティ上の問題に扉を開きうるのです。したがって、もしこの問題を完全に理解していないならば、特定の
ひな型が安全であるかどうか疑問がある際には、知識豊富なセキュリティの専門家か、\SpecialChar LyX
開発チームに相談してみてください。そしてこの相談は、管理されていない環境下でこれを
使用する前に、行うようにしてください。
\end_layout

\begin_layout Chapter
\start_of_appendix
サポートされているレイアウト用\SpecialChar LyX
関数一覧
\begin_inset CommandInset label
LatexCommand label
name "chap:関数一覧"

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="8">
<features tabularvalignment="middle">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<column alignment="left" valignment="top">
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
accents
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
booktabs
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
feyn
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
listings
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
natbib
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rotfloat
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tfrupee
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wasysym
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amsbsy
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
calc
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fixltx2e
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
longtable
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nomencl
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rsphrase
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tipa
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wrapfig
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amscd
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CJK
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
float
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lyxskak
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pdfcolmk
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
setspace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tipx
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
xargs
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amsmath
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
color
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
framed
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
makeidx
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pdfpages
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
shapepar
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tone
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
xcolor
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amssymb
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
covington
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
graphicx
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
marvosym
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pifont
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
slashed
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
txfonts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
xy
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amstext
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
csquotes
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hhline
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mathdesign
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pmboxdraw
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
soul
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ulem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
yhmath
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
amsthm
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dvipost
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hyperref
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mathdots
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
polyglossia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
splitidx
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
undertilde
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
array
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
endnotes
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ifsym
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mathrsfs
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
prettyref
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
subfig
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
units
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ascii
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
enumitem
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ifthen
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mhchem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
pxfonts
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
subscript
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
url
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bbding
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
esint
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
jurabib
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
multicol
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
refstyle
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
textcomp
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
varioref
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bm
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fancybox
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
latexsym
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
multirow
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rotating
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
textgreek
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
verbatim
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Chapter
レイアウトで使用できる色名
\begin_inset CommandInset label
LatexCommand label
name "chap:色名"

\end_inset


\end_layout

\begin_layout Standard
ここに列挙されている色は標準色であり、\SpecialChar LyX
設定で調整できるものです。
\end_layout

\begin_layout Description
none
\series medium
 
\series default
特定の色ではありません – 透明か既定色です
\end_layout

\begin_layout Description
black
\end_layout

\begin_layout Description
white
\end_layout

\begin_layout Description
red
\end_layout

\begin_layout Description
green
\end_layout

\begin_layout Description
blue
\end_layout

\begin_layout Description
cyan
\end_layout

\begin_layout Description
magenta
\end_layout

\begin_layout Description
yellow
\end_layout

\begin_layout Description
added_space 空白マーカ色
\end_layout

\begin_layout Description
addedtext 追加された文章色
\end_layout

\begin_layout Description
appendix 付録マーカ色
\end_layout

\begin_layout Description
background 背景色
\end_layout

\begin_layout Description
bottomarea 下部領域色
\end_layout

\begin_layout Description
branchlabel 派生枝ラベル色
\end_layout

\begin_layout Description
buttonbg ボタンの背景色
\end_layout

\begin_layout Description
buttonhoverbg フォーカスを得ているボタンの背景色
\end_layout

\begin_layout Description
buttonframe 差込枠の縁色
\end_layout

\begin_layout Description
changebar 変更バー色
\end_layout

\begin_layout Description
changedtextauthor1 変更された文章:第1著者の色
\end_layout

\begin_layout Description
changedtextauthor2 変更された文章:第2著者の色
\end_layout

\begin_layout Description
changedtextauthor3 変更された文章:第3著者の色
\end_layout

\begin_layout Description
changedtextauthor4 変更された文章:第4著者の色
\end_layout

\begin_layout Description
changedtextauthor5 変更された文章:第5著者の色
\end_layout

\begin_layout Description
collapsable_inset_frame 畳み込み可能枠の縁色
\end_layout

\begin_layout Description
collapsable_inset_text 畳み込み可能枠の文字色
\end_layout

\begin_layout Description
command コマンド差込枠の文字色
\end_layout

\begin_layout Description
commandbg コマンド差込枠の背景色
\end_layout

\begin_layout Description
commandframe コマンド差込枠の縁色
\end_layout

\begin_layout Description
comment コメント色
\end_layout

\begin_layout Description
commentbg コメントの背景色
\end_layout

\begin_layout Description
cursor カーソル色
\end_layout

\begin_layout Description
deletedtext 削除された文章の色
\end_layout

\begin_layout Description
deletedtextmodifier 削除された文章の修飾子の色
\end_layout

\begin_layout Description
depthbar 余白部の階層表示線の色
\end_layout

\begin_layout Description
eolmarker 行末標色
\end_layout

\begin_layout Description
error \SpecialChar LaTeX
エラーボックス色
\end_layout

\begin_layout Description
footlabel 脚註ラベル色
\end_layout

\begin_layout Description
graphicsbg 画像差込枠の背景色
\end_layout

\begin_layout Description
greyedout 淡色表示差込枠のラベル色
\end_layout

\begin_layout Description
greyedoutbg 淡色表示差込枠の背景色
\end_layout

\begin_layout Description
greyedouttext 淡色表示差込枠の文字色
\end_layout

\begin_layout Description
indexlabel 索引差込枠のラベル色
\end_layout

\begin_layout Description
ignore この色を無視します
\end_layout

\begin_layout Description
inherit この色を継承します
\end_layout

\begin_layout Description
inlinecompletion 行内補完色
\end_layout

\begin_layout Description
insetbg 差込枠標の背景色
\end_layout

\begin_layout Description
insetframe 差込枠標の縁色
\end_layout

\begin_layout Description
language 外国語の単語を標識するための色
\end_layout

\begin_layout Description
latex \SpecialChar LaTeX
モードの文字色
\end_layout

\begin_layout Description
listingsbg プログラムリスト差込枠の背景色
\end_layout

\begin_layout Description
marginlabel 傍註のラベル色
\end_layout

\begin_layout Description
math 数式差込枠の文字色
\end_layout

\begin_layout Description
mathbg 数式差込枠の背景色
\end_layout

\begin_layout Description
mathcorners フォーカスを得ていない数式差込枠の縁色
\end_layout

\begin_layout Description
mathframe フォーカスを得ている数式差込枠の縁色
\end_layout

\begin_layout Description
mathline 数式行色
\end_layout

\begin_layout Description
mathmacrobg 数式マクロ差込枠の背景色
\end_layout

\begin_layout Description
mathmacroblend 数式マクロ差込枠の混ぜ合わせ色
\end_layout

\begin_layout Description
mathmacroframe 数式マクロ差込枠の縁色
\end_layout

\begin_layout Description
mathmacrohoverbg マウスを置いたときの数式マクロ差込枠の背景色
\end_layout

\begin_layout Description
mathmacrolabel 数式マクロ差込枠のラベル色
\end_layout

\begin_layout Description
mathmacronewarg 数式マクロ新パラメーターのひな型色
\end_layout

\begin_layout Description
mathmacrooldarg 数式マクロ旧パラメーターのひな型色
\end_layout

\begin_layout Description
newpage 新規頁色
\end_layout

\begin_layout Description
nonunique_inlinecompletion 行内補完の一意でない部分の色
\end_layout

\begin_layout Description
notebg 註釈の背景色
\end_layout

\begin_layout Description
notelabel 註釈のラベル色
\end_layout

\begin_layout Description
pagebreak 改頁/改行色
\end_layout

\begin_layout Description
paragraphmarker 段落末を標識するための段落標の色
\end_layout

\begin_layout Description
phantomtext 埋め草差込枠の文字色
\end_layout

\begin_layout Description
preview プレビューに用いられる色
\end_layout

\begin_layout Description
previewframe プレビュー縁色
\end_layout

\begin_layout Description
regexpframe 正規表現枠の色
\end_layout

\begin_layout Description
selection 文章選択部の背景色
\end_layout

\begin_layout Description
selectiontext 文章選択部の前景色
\end_layout

\begin_layout Description
shadedbg 影付きボックスの背景色
\end_layout

\begin_layout Description
special 特殊文字の色
\end_layout

\begin_layout Description
tabularline 罫線色
\end_layout

\begin_layout Description
tabularonoffline 罫線色
\end_layout

\begin_layout Description
urllabel URL差込枠のラベル色
\end_layout

\begin_layout Description
urltext URL差込枠の文字色
\end_layout

\end_body
\end_document
