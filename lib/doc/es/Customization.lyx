#LyX 1.6.2svn created this file. For more info see http://www.lyx.org/
\lyxformat 345
\begin_document
\begin_header
\textclass scrbook
\begin_preamble
% DO NOT ALTER THIS PREAMBLE!!!
%
% This preamble is designed to ensure that the User's Guide prints
% out as advertised. If you mess with this preamble,
% parts of the User's Guide may not print out as expected.  If you
% have problems LaTeXing this file, please contact 
% the documentation team
% email: lyx-docs@lists.lyx.org

\usepackage{ifpdf} % part of the hyperref bundle
\ifpdf % if pdflatex is used

 % set fonts for nicer pdf view
 \IfFileExists{lmodern.sty}
  {\usepackage{lmodern}}{}

\fi % end if pdflatex is used

% the pages of the TOC is numbered roman
% and a pdf-bookmark for the TOC is added
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
  \frontmatter
  \pdfbookmark[1]{\contentsname}{}
  \myTOC
  \mainmatter }

% redefine the \LyX macro for PDF bookmarks
\def\LyX{\texorpdfstring{%
  L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}
  {LyX}}

% used for multi-column text
\usepackage{multicol}
\usepackage{inputenc}
\end_preamble
\options fleqn,liststotoc,bibtotoc,idxtotoc,BCOR7.5mm,titlepage,tablecaptionabove
\use_default_options false
\begin_modules
logicalmkup
\end_modules
\begin_local_layout
Format 7
InsetLayout CharStyle:MenuItem
LyxType               charstyle
LabelString           menu
LatexType             command
LatexName             menuitem
Font
Family              Sans
EndFont
Preamble
\newcommand*{\menuitem}[1]{{\sffamily #1}}
EndPreamble
End
\end_local_layout
\language spanish
\inputencoding auto
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize 12
\spacing single
\use_hyperref true
\pdf_title "LyX Configuration Manual"
\pdf_author "LyX Team"
\pdf_subject "LyX-documentation Customization"
\pdf_keywords "LyX, documentation, customization"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle false
\pdf_quoted_options "linkcolor=black, citecolor=black, urlcolor=blue, filecolor=blue,pdfpagelayout=OneColumn, pdfnewwindow=true,pdfstartview=XYZ, plainpages=false, pdfpagelabels"
\papersize default
\use_geometry false
\use_amsmath 0
\use_esint 0
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\branch OutDated
\selected 0
\color #ffffff
\end_branch
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip medskip
\quotes_language french
\papercolumns 1
\papersides 2
\paperpagestyle headings
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Title
Personalizar LyX: Características para el usuario avanzado
\end_layout

\begin_layout Author
por el equipo LyX
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\noindent
Si tienes correcciones o comentarios, envíalos, por favor, a la lista de
 correo de Documentación de LyX, 
\begin_inset CommandInset href
LatexCommand href
target "lyx-docs@lists.lyx.org"
type "mailto:"

\end_inset

.
 Incluye 
\begin_inset Quotes fld
\end_inset

[Customization]
\begin_inset Quotes frd
\end_inset

 en la cabecera de asunto, y envía una cc al actual mantenedor de este documento
, Richard Heck <rgheck@comcast.net>.
\end_layout

\end_inset

 
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

Versión 1.6.x
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
Introducción
\end_layout

\begin_layout Standard
Este manual trata de las características de LyX que pueden ser modificadas
 por el usuario.
 En él abordamos temas como atajos de teclado, opciones de vista previa
 en pantalla, opciones de impresora, envío de comandos mediante LyX Server,
 internacionalización, instalación de nuevas clases de LaTeX y de formatos
 de LyX, etc.
 Seguro que no podemos aspirar a tratar todo lo que se puede cambiar, —nuestros
 desarrolladores añaden características nuevas más deprisa de lo que las
 podemos documentar— pero explicaremos las modificaciones más comunes y
 esperamos orientarte en la dirección correcta para algunas más desconocidas.
\end_layout

\begin_layout Standard
\begin_inset Branch OutDated
status collapsed

\begin_layout Standard
La rama OutDated contiene información de versiones anteriores de este documento
 que ahora parece estar obsoleta.
 Por omisión, esta información no aparece en la salida LaTeX.
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Archivos de configuración de LyX
\end_layout

\begin_layout Standard
Este capítulo tiene por objetivo ayudarte a encontrar tu camino a través
 de los archivos de configuración de LyX.
 Antes de seguir leyendo deberías encontrar donde están los directorios
 de bibliotecas y de usuario, consultando 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda\SpecialChar \menuseparator
Acerca de LyX
\end_layout

\end_inset

.
 El directorio de bibliotecas es el sitio en el que LyX tiene sus archivos
 de configuración de sistema; el directorio de usuario es donde puedes colocar
 tus versiones modificadas.
 En este documento, al primero lo denominaremos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

 y al segundo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

.
\end_layout

\begin_layout Section
¿Qué hay en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

?
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

 y sus subdirectorios contienen archivos que pueden emplearse para personalizar
 el comportamiento de LyX.
 Puedes cambiar muchos de ellos desde dentro mismo de LyX mediante el diálogo
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

.
 La mayor parte de las adaptaciones personales que querrás hacer en LyX
 se puede hacer en este diálogo.
 Sin embargo, muchos otros aspectos internos de LyX pueden cambiarse modificando
 los archivos en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

.
 Estos archivos pertenecen a diversas categorías, descritas en las siguientes
 subsecciones.
\end_layout

\begin_layout Subsection
Archivos generados automáticamente
\end_layout

\begin_layout Standard
Los archivos que se encuentran en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

 se generan al configurar LyX.
 Contienen varios valores predeterminados que se obtienen por inspección.
 En general, no es buena idea modificarlos, puesto que podrían ser sobrescritos
 en cualquier momento.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyxrc.defaults
\end_layout

\end_inset

 contiene valores predeterminados para varioscomandos.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
packages.lst
\end_layout

\end_inset

 contiene la lista de paquetes que han sido reconocidos por LyX.
 No es utilizada por el propio LyX, pero la información extraida, y otras
 cosas están disponibles en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda\SpecialChar \menuseparator
Configuración de LaTeX
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
textclass.lst
\end_layout

\end_inset

 la lista de clases de textos encontradas en los directorios 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
layout/
\end_layout

\end_inset

, junto con las clases de documentos LaTeX y su descripción.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyxmodules.lst
\end_layout

\end_inset

 la lista de módulos de formato encontradas en los directorios 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
layout/
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
*files.lst
\end_layout

\end_inset

 lista de varios tipos de archivos relacionados con LaTeX encontrados en
 el sistema.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
doc/LaTeXConfig.lyx
\end_layout

\end_inset

 es generado automáticamente durante la configuración a partir del archivo
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LaTeXConfig.lyx.in
\end_layout

\end_inset

.
 Contiene información sobre la configuración de LaTeX.
\end_layout

\begin_layout Subsection
Directorios
\end_layout

\begin_layout Standard
Estos directorios están duplicados en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

.
 Si determinado archivo existe en ambos sitios, se usará el de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
bind/
\end_layout

\end_inset

 este directorio contiene archivos con la extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.bind
\end_layout

\end_inset

 que definen las combinaciones de teclas usadas en LyX.
 Si ahí existe una versión nacional de un archivo bind llamado 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$LANG_xxx.bind
\end_layout

\end_inset

, ésta se usará en primer lugar.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
clipart/
\end_layout

\end_inset

 contiene archivos gráficos que pueden ser incluidos en documentos.
 
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
doc/
\end_layout

\end_inset

 contiene archivos de documentación de LyX (incluido éste que estás leyendo).
 El archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LaTeXConfig.lyx
\end_layout

\end_inset

 merece atención especial, como se mencionó antes.
 Si existe una versión nacional del documento de ayuda en el subdirectorio
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
doc/xx
\end_layout

\end_inset

, éste se usará en primer lugar.
 Véase 
\begin_inset CommandInset ref
LatexCommand ref
reference "cap:Internacionalización-de-LyX"

\end_inset

 para detalles.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
examples/
\end_layout

\end_inset

 contiene archivos de ejemplo que describen el uso de algunas características.
 Se puede acceder a ellos con el botón
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ejemplos
\end_layout

\end_inset

 en el buscador de archivos.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
images/
\end_layout

\end_inset

 contiene archivos de imagen que se usan en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
 Contiene además los iconos de las barras de herramientas y las enseñas
 de LyX mostradas en su inicio.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
kbd/
\end_layout

\end_inset

 contiene archivos de mapas de teclado.
 Véase 
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:keymap"

\end_inset

 para detalles.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
layouts/
\end_layout

\end_inset

 contiene las clases de textos y los archivos de los módulos descritos en
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "cap:Instalación-de-nuevas"

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx2lyx
\end_layout

\end_inset

 contiene los guiones de Python 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx2lyx
\end_layout

\end_inset

 para convertir entre versiones de LyX.
 Pueden ejecutarse en línea de comandos si, digamos, quieres convertir ficheros
 por lotes.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
scripts/
\end_layout

\end_inset

 contiene algunos archivos que demuestran las capacidades de la característica
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Plantilla externa
\end_layout

\end_inset

.
 También contiene algunos guiones usados por el propio LyX.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
templates/
\end_layout

\end_inset

 contiene los archivos de plantillas estándar de LyX descritas en
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Creación-de-plantillas"

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ui/
\end_layout

\end_inset

 contiene archivos con la extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.ui
\end_layout

\end_inset

 que definen la interfaz de usuario de LyX.
 Esto es, archivos que definen qué ítems aparecen en qué menús y barras
 de herramientas.
\end_layout

\begin_layout Subsection
Archivos que no necesitan modificaciones
\end_layout

\begin_layout Standard
Estos archivos son utilizados internamente por LyX y generalmente no deben
 ser modificados sino por los desarrolladores.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CREDITS
\end_layout

\end_inset

 contiene la lista de desarrolladores de LyX.
 Se muestra con el menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda\SpecialChar \menuseparator
Acerca de LyX
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
chkconfig.ltx
\end_layout

\end_inset

 es un guión de LaTeX usado durante el proceso de configuración.
 No lo ejecutes directamente.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
configure.py
\end_layout

\end_inset

 es el guión utilizado para la reconfiguración de LyX.
 Genera los archivos de configuración en el directorio desde el que se ha
 ejecutado.
\end_layout

\begin_layout Subsection
Otros archivos en un par de líneas...
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
encodings
\end_layout

\end_inset

 contiene tablas que describen cómo los distintos códigos de caracteres
 se transcriben a Unicode.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
external_templates
\end_layout

\end_inset

 contiene las plantillas disponibles para la característica 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Material externo
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
languages
\end_layout

\end_inset

 contiene una lista de los idiomas actualmente soportados por LyX.
\end_layout

\begin_layout Section
Directorio de configuración personal
\end_layout

\begin_layout Standard
Aunque uses LyX como usuario sin privilegios, puedes adaptar su configuración
 a tus necesidades.
 El directorio 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

 contiene todos los archivos de configuración personal.
 Es el directorio especificado como 
\begin_inset Quotes fld
\end_inset

Directorio del usuario
\begin_inset Quotes frd
\end_inset

 en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda\SpecialChar \menuseparator
Acerca de LyX
\end_layout

\end_inset

.
 Este directorio se usa como espejo de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

, que quiere decir que cada archivo en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

 es un equivalente del correspondiente archivo en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir
\end_layout

\end_inset

.
 Cualquiera de los archivos de configuración descritos en las secciones
 anteriores puede estar en el directorio global del sistema, en cuyo caso
 afectará a todos los usuarios, y en tu directorio local para tu propio
 uso.
\end_layout

\begin_layout Standard
Para clarificar las cosas vamos a poner unos ejemplos:
\end_layout

\begin_layout Itemize
Las preferencias establecidas en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

 se guardan en un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
preferences
\end_layout

\end_inset

 en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Si reconfiguras mediante 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

, LyX ejecuta el guión
\begin_inset Newline linebreak
\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
configure.py
\end_layout

\end_inset

, y los archivos resultantes se escriben en tu directorio de usuario.
 Esto significa que cualquier archivo adicional de clase de texto que pudieras
 haber añadido en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/layouts
\end_layout

\end_inset

 se sumará a la lista de clases en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Si consigues alguna documentación actualizada del sitio de LyX y no puedes
 instalarla porque no tienes permisos para administrar tu sistema, solo
 has de copiar los archivos en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/doc/XX
\end_layout

\end_inset

 ¡y las entradas del menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda
\end_layout

\end_inset

 los abrirán!
\end_layout

\begin_layout Section
Ejecutar LyX con múltiples configuraciones
\end_layout

\begin_layout Standard
La libertad de configuración del directorio local puede no ser suficiente
 si quieres tener a tu disposición más de una configuración.
 Por ejemplo, si quisieras usar diferentes combinaciones de teclas o configuraci
ones de impresora en distintos momentos.
 Esto lo puedes conseguir teniendo varios de estos directorios.
 Después especificas qué directorio usar al arrancar.
\end_layout

\begin_layout Standard
Ejecutando LyX con la opción de línea de comandos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
-userdir
\end_layout

\end_inset

 
\emph on
<algún directorio>
\emph default
 hace que el programa lea la configuración de ese directorio y no del predetermi
nado.
 (Puedes determinar el directorio predeterminado ejecutando LyX sin la opción
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
-userdir
\end_layout

\end_inset

).
 Si el directorio especificado no existe, LyX propone su creación, tal como
 hace con el directorio predeterminado la primera vez que se ejecuta el
 programa.
 Puedes modificar las opciones de configuración en ese directorio personal
 adicional exactamente igual que para el directorio predeterminado.
 Estos directorios son completamente independientes (pero sigue leyendo).
 Ten presente que establecer algún valor para la variable de entorno 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LYX_USERDIR_VER
\end_layout

\end_inset

 tiene exactamente el mismo efecto.
\end_layout

\begin_layout Standard
Tener varias configuraciones también requiere más mantenimiento: si quieres
 añadir un nuevo formato a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NewUserDir/layouts
\end_layout

\end_inset

 que esté disponible en todas tus configuraciones, debes añadirlo a cada
 directorio por separado.
 Puedes evitarlo con el siguiente truco: después de que LyX crea un directorio
 adicional, la mayoría de los subdirectorios (véase arriba) están vacíos.
 Si quieres que la nueva configuración sea una réplica de una existente,
 reemplaza el subdirectorio vacío con un enlace simbólico que apunte al
 subdirectorio deseado.
 Ten precaución, no obstante, con el subdirectorio 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
doc/
\end_layout

\end_inset

, puesto que contiene un archivo escrito por el guión de configuración (también
 accesible mediante 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

) que es específico de la configuración.
\end_layout

\begin_layout Chapter
El diálogo Preferencias
\end_layout

\begin_layout Standard
Todas las opciones del diálogo de preferencias se describen en el apéndice
 
\emph on
El diálogo
\emph default
 
\emph on
Preferencias
\emph default
 de la 
\emph on
Guía del usuario
\emph default
.
 Ahí encontrarás más detalles sobre algunas opciones.
\end_layout

\begin_layout Section
Usando el diálogo por primera vez
\end_layout

\begin_layout Standard
El archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/preferences
\end_layout

\end_inset

 contendrá solo los cambios hechos al comportamiento predeterminado, parte
 del cuál es del código duro de LyX y otra parte está en el archivo de sistema
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/lyxrc.defaults
\end_layout

\end_inset

.
 Ten en cuenta que en ambos archivos las líneas que comienzan con 
\begin_inset Quotes fld
\end_inset

#
\begin_inset Quotes frd
\end_inset

 son solo comentarios y no son interpretados.
 Sin embargo, solo los administradores del sistema deberían editar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/lyxrc.defaults
\end_layout

\end_inset

.
 Los usuarios deberían utilizar el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias 
\end_layout

\end_inset

 para crear y modificar su propio archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/preferences
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Creemos que el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias 
\end_layout

\end_inset

 resultará bastante explícito por sí mismo.
 La mayoría de las cosas en este diálogo tiene 'ayudas emergentes' asociadas:
 basta colocar el puntero del ratón sobre alguna opción.
 Antes de fijarnos a continuación en algunos de los comandos más importantes,
 una advertencia: algunos de los cambios aplicados (p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset space ~
\end_inset

las fuentes de pantalla) tendrán un efecto inmediato, otros no (p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset space ~
\end_inset

los atajos de teclado).
 Si parece que no cambia nada, hay que 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Guardar
\end_layout

\end_inset

 cambios y reiniciar LyX.
\end_layout

\begin_layout Section
Manejo de archivos
\end_layout

\begin_layout Standard
LyX dispone de un poderoso mecanismo para convertir a y desde cualquier
 formato de archivo usando programas externos.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Formatos"

\end_inset

Formatos
\end_layout

\begin_layout Standard
El primer paso es definir tus propios formatos de archivo si no lo están
 ya.
 Para hacerlo abre el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

.
 En 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formatos externos\SpecialChar \menuseparator
Formatos de archivo
\end_layout

\end_inset

 pulsa el botón 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Nuevo\SpecialChar \ldots{}

\end_layout

\end_inset

 para definir el nuevo formato.
 El campo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formato
\end_layout

\end_inset

 es para el nombre que identificará el formato en la GUI (interfaz gráfica
 de usuario).
 El 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Nombre corto
\end_layout

\end_inset

 se usa para identificar el formato internamente.
 Además deberás introducir una extensión de archivo.
 Todos estos son imprescindibles.
 El campo opcional 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Atajo de teclado
\end_layout

\end_inset

 sirve para asociar una combinación de teclas en los menús.
 (Por ejemplo, teclear 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Alt-V D
\end_layout

\end_inset

 ejecuta 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ver\SpecialChar \menuseparator
DVI
\end_layout

\end_inset

).
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Visor
\end_layout

\end_inset

 
\end_layout

\begin_layout Standard
Un Formato puede tener un 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Visor
\end_layout

\end_inset

 y un 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Editor
\end_layout

\end_inset

 asociados.
 Por ejemplo, podrías usar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ghostview
\end_layout

\end_inset

 para ver archivos PostScript.
 Puedes introducir el comando para iniciar el programa en el campo correspondien
te.
 Al definir este comando puedes usar las cuatro variables listadas en la
 siguiente sección.
 El visor se lanza cuando ves una imagen en LyX o usas el menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ver
\end_layout

\end_inset

.
 El editor se lanza cuando pulsas el botón 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Editar externamente
\end_layout

\end_inset

 en un gráfico o en un material externo, por ejemplo.
\end_layout

\begin_layout Standard
La opción 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formato de documento
\end_layout

\end_inset

 indica a LyX que ese formato es adecuado para exportar.
 Si esto está marcado y existe una ruta de conversión adecuada (véase 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Convertidores"

\end_inset

), el formato aparecerá en el menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Archivo\SpecialChar \menuseparator
Exportar
\end_layout

\end_inset

.
 También aparecerá en el menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ver
\end_layout

\end_inset

 si se ha especificado un visor para ese formato.
 Los formatos puros de imagen, como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

, no deberían usar esta opción.
 Los formatos que pueden corresponder tanto a gráficos vectoriales como
 a documentos, como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

, sí deberían usarla.
\end_layout

\begin_layout Standard
La opción 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formato de gráfico vectorial
\end_layout

\end_inset

 indica a LyX que el formato puede contener gráficos vectoriales.
 Esta información se emplea para determinar el formato objetivo de los gráficos
 incluidos para la exportación 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

.
 Los gráficos incluidos pueden requerir conversión a 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

, o 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
jpg
\end_layout

\end_inset

, puesto que 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

 no puede manejar otros formatos de imagen.
 Si un archivo incluido no está ya en formato 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

, o 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
jpg
\end_layout

\end_inset

, se convierte a 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

 si la opción de formato vectorial está marcada, y si no a 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
png
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Subsection
Copiadores
\end_layout

\begin_layout Standard
Puesto que todas las conversiones de un formato a otro tienen lugar en el
 archivo temporal de LyX, a veces es necesario modificar un archivo antes
 de copiarlo en el directorio temporal para que la conversión se pueda realizar.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Por ejemplo, el archivo puede hacer referencia a otros archivos —imágenes,
 por ejemplo— mediante nombres de archivo relativos, y estos pueden resultar
 inválidos cuando el archivo se copia en el directorio temporal.
\end_layout

\end_inset

 Esto lo hace un Copiador: copia un archivo a (o desde) el directorio temporal
 y puede modificarlo en el proceso.
\end_layout

\begin_layout Standard
Las definiciones de los copiadores pueden usar cuatro variables:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

 El directorio de sistema de LyX (p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset space \space{}
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
/usr/share/lyx
\end_layout

\end_inset

)
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$i
\end_layout

\end_inset

 El archivo de entrada
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$o
\end_layout

\end_inset

 El archivo de salida
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$l
\end_layout

\end_inset

 El `nombre LaTeX'
\end_layout

\begin_layout Standard
El último debería ser el nombre de archivo tal como debería ponerse en un
 comando LaTeX 
\series bold

\backslash
include
\series default
.
 Solo es pertinente cuando se exportan archivos adecuados para esa inclusión.
\end_layout

\begin_layout Standard
Los copiadores pueden emplearse para hacer casi cualquier cosa con archivos
 de salida.
 Por ejemplo, supongamos que quieres copiar archivos 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

 generados a un directorio especial, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/home/you/pdf/
\end_layout

\end_inset

.
 En ese caso deberías escribir un guión para intérprete de comandos tal
 como:
\end_layout

\begin_layout Standard
\begin_inset listings
inline false
status open

\begin_layout Plain Layout

#!/bin/bash
\end_layout

\begin_layout Plain Layout

FROMFILE=$1
\end_layout

\begin_layout Plain Layout

TOFILE=`basename $2`
\end_layout

\begin_layout Plain Layout

cp $FROMFILE /home/you/pdf/$TOFILE
\end_layout

\end_inset

Guárdalo en tu directorio local, —
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/home/you/.lyx/scripts/pdfcopier.sh
\end_layout

\end_inset

, supongamos— y hazlo ejecutable si ello es necesario en tu sistema.
 Después, en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

, en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formatos externos\SpecialChar \menuseparator
Formatos de archivo
\end_layout

\end_inset

, selecciona el formato 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
PDF(pdflatex)
\end_layout

\end_inset

 —u otro de los formatos pdf— e introduce 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
pdfcopier.sh $$i $$o
\end_layout

\end_inset

 en el campo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Copiador
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
LyX usa los copiadores en varias de sus propias conversiones.
 Por ejemplo, si se encuentran los programas apropiados, LyX instalará copiadore
s para los formatos 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
HTML
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
HTML
\begin_inset space ~
\end_inset

(MS Word)
\end_layout

\end_inset

.
 Cuando se exporta a estos formatos, el copiador se encarga de que se copien
 no solo el archivo HTML principal, sino también los diversos archivos asociados
 (estilos, imágenes, etc).
 Todos estos archivos se escriben en un subdirectorio del directorio en
 el que se encuentre el archivo original de LyX.
\begin_inset Foot
status open

\begin_layout Plain Layout
Este copiador puede adaptarse.
 El argumento opcional 
\begin_inset Quotes fld
\end_inset

-e
\begin_inset Quotes frd
\end_inset

 acepta una lista, separada por comas, con las extensiones que deben copiarse;
 si se omite se copiarán todos los archivos.
 El argumeto 
\begin_inset Quotes fld
\end_inset

-t
\begin_inset Quotes frd
\end_inset

 determina la extensión añadida al directorio generado.
 Por omisión es 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
LyXconv
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

, así, el HTML generado a partir de 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
/ruta/a/archivo.lyx
\end_layout

\end_inset

 tendrá la forma 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
/ruta/a/archivo.html.LyXconv
\end_layout

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Convertidores"

\end_inset

Convertidores
\end_layout

\begin_layout Standard
Puedes definir tus propios convertidores para convertir archivos entre distintos
 formatos.
 Se hace en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias\SpecialChar \menuseparator
Formatos externos\SpecialChar \menuseparator
Convertidores
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Para definir un nuevo convertidor de un formato a otro, selecciónalos en
 las listas desplegables 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Del
\begin_inset space ~
\end_inset

formato
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Al
\begin_inset space ~
\end_inset

formato
\end_layout

\end_inset

, introduce el comando necesario para la conversión y después pulsa el botón
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Añadir
\end_layout

\end_inset

.
 En la definición de convertidores se pueden usar distintas variables:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

 El directorio de sistema de LyX
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$i
\end_layout

\end_inset

 El archivo de entrada
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$o
\end_layout

\end_inset

 El archivo de salida
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

 El nombre del archivo base del archivo de entrada (sin la extensión)
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$p
\end_layout

\end_inset

 La ruta al archivo de entrada
\end_layout

\begin_layout Standard
En el campo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Opción extra
\end_layout

\end_inset

 puedes introducir las siguientes, separadas por comas:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
latex
\end_layout

\end_inset

 Este convertidor ejecuta alguna forma de LaTeX.
 Hará estar disponibles los registros de errores LaTeX de LyX
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
needaux
\end_layout

\end_inset

 Necesita el archivo LaTeX 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
.aux
\end_layout

\end_inset

 para la conversión
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xml
\end_layout

\end_inset

 La salida es XML
\end_layout

\begin_layout Standard
Las tres siguientes no son realmente opciones porque aceptan un argumento
 en la forma:
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
parselog
\end_layout

\end_inset

 Si se pone, el error estándar del convertidor se redirecciona a un archivo
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
infile.out
\end_layout

\end_inset

, y el guión dado como argumento se ejecutará como: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
script <infile.out >infile.log
\end_layout

\end_inset

.
 El argumento puede contener 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$s
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
resultdir
\end_layout

\end_inset

 El nombre del directorio en el que el convertidor descargará los archivos
 generados.
 LyX no creará ese directorio y no copia nada en él, aunque copiará este
 directorio al destino.
 El argumento puede contener 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

, que será reemplazado por el nombre base de los archivos de entrada y de
 salida, respectivamente, cuando se copia el directorio.
\begin_inset Newline newline
\end_inset

Ten en cuenta que resultdir y usetempdir no tienen sentido juntos.
 El último será ignorado si se da el primero.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
resultfile
\end_layout

\end_inset

 Determina el nombre del archivo de salida y puede contener 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$b
\end_layout

\end_inset

.
 Solo es sensible con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
resultdir
\end_layout

\end_inset

 y además es opcional; si no se da, por omisión es `index'.
\end_layout

\begin_layout Standard
Ninguno de estos tres últimos se usan actualmente en ninguno de los convertidore
s que son instalados por LyX.
\end_layout

\begin_layout Standard
No tienes que definir convertidores entre todos los formatos que quieras
 convertir.
 Por ejemplo, observarás que no hay convertidor `LyX a PostScript', sin
 embargo LyX exporta a PostScript.
 Lo hace creando primero un archivo LaTeX (no es necesario un convertidor
 para esto), que luego es convertido a DVI mediante el convertidor `LaTeX
 a DVI', y por último convierte el archivo DVI resultante a PostScript.
 LyX encuentra automáticamente estas 'cadenas' de convertidores y siempre
 escogerá la cadena más corta posible.
 Sin embargo, aún puedes definir múltiples métodos de conversión entre formatos.
 Por ejemplo, la configuración estándar de LyX provee tres caminos para
 convertir LaTeX a PDF: directamente, usando 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdflatex
\end_layout

\end_inset

; mediante (DVI y) PostScript, usando 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ps2pdf
\end_layout

\end_inset

; o mediante DVI, usando 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
dvipdfm
\end_layout

\end_inset

.
 Para construir estas cadenas alternativas tienes que definir múltiples
 'formatos de archivo' objetivo, como se describe en la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Formatos"

\end_inset

.
 Por ejemplo, en la configuración estándar, se definen los formatos llamados
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf2
\end_layout

\end_inset

, y 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
pdf3
\end_layout

\end_inset

, todos ellos compartiendo la extensión 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
.pdf
\end_layout

\end_inset

, y que corresponden a los métodos de conversión antes mencionados.
\end_layout

\begin_layout Chapter
Internacionalización de LyX
\begin_inset CommandInset label
LatexCommand label
name "cap:Internacionalización-de-LyX"

\end_inset


\end_layout

\begin_layout Standard
LyX soporta el uso de una interfaz traducida.
 La última vez que lo comprobamos, LyX suministraba textos en treinta idiomas.
 El idioma elegido se denomina 
\emph on
locale
\emph default
.
 (Para lecciones adicionales sobre configuración de idiomas, véase también
 la documentación de 
\begin_inset Quotes fld
\end_inset

locale
\begin_inset Quotes frd
\end_inset

 del sistema operativo.
 En Linux, la página de manual de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
locale(5)
\end_layout

\end_inset

 es un buen punto de partida).
 
\end_layout

\begin_layout Standard
Hay que advertir que estas traducciones funcionarán pero tienen algunos
 fallos.
 En particular, todos los diálogos se han diseñado con el inglés en mente,
 lo que significa que algún texto traducido podría ser demasiado largo para
 ajustarse al espacio asignado.
 Esto solo es un problema de presentación en pantalla y no causará ningún
 perjuicio.
 Además, encontrarás que algunas traducciones no definen atajos de teclado
 para todo.
 A veces, simplemente no hay letras libres suficientes para ello.
 Otras veces, el traductor todavía no lo ha completado.
 Nuestro equipo de traducción, al que podrías unirte si quieres,
\begin_inset Foot
status open

\begin_layout Plain Layout
Si usas con fluidez un idioma distinto del inglés, ¡unirse a estos equipos
 es una estupenda forma de corresponder a la comunidad LyX!
\end_layout

\end_inset

 intentará, por supuesto, corregir estas deficiencias en futuras versiones
 de LyX.
\end_layout

\begin_layout Section
Traducción de LyX
\end_layout

\begin_layout Subsection
Traducción de la interfaz gráfica de usuario (mensajes de texto)
\end_layout

\begin_layout Standard
LyX utiliza la biblioteca GNU 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

 para manejar la internacionalización de la interfaz.
 Para que LyX hable tu idioma preferido en todos los menús y diálogos es
 necesario un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

 para ese idioma.
 Si está disponible, tendrás que generar a partir de él un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
mo
\end_layout

\end_inset

 e instalarlo.
 El procedimiento para hacer todo esto se explica en la documentación de
 GNU 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

.
 Puedes hacer esto solo para ti, pero también podrías compartir el resultado
 de tu trabajo con el resto de la comunidad LyX.
 Envía un mensaje a la lista de desarrolladores de LyX para más información
 sobre cómo proceder.
\end_layout

\begin_layout Standard
En resumen, esto es lo que deberías hacer (xx indica el código del idioma):
\end_layout

\begin_layout Itemize
Inspecciona el código fuente de LyX.
 (Véase 
\begin_inset CommandInset href
LatexCommand href
name "información en la web"
target "http://www.lyx.org/devel/cvs.php"

\end_inset

.)
\end_layout

\begin_layout Itemize
Copia el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx.pot
\end_layout

\end_inset

 a la carpeta de los archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
**.po
\end_layout

\end_inset

.
 Después lo renombras como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xx.po
\end_layout

\end_inset

.
 (Si 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx.pot
\end_layout

\end_inset

 no está por ningún sitio, puede rehacerse con el comando de consola 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
make lyx.pot
\end_layout

\end_inset

 en ese directorio, o puedes usar como muestra un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

 de algún otro idioma).
\end_layout

\begin_layout Itemize
Edita 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xx.po
\end_layout

\end_inset

.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Es un archivo de texto, se puede editar en cualquier editor de texto.
 Pero hay programas especializados para editar estos archivos, como 
\family typewriter
Poedit
\family default
 (para todas las plataformas) o 
\family typewriter
KBabel
\family default
 (para KDE).
 Además, 
\family typewriter
Emacs
\family default
 tiene un `modo' para editar archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

.
\end_layout

\end_inset

 Para algunos nombres de menú y otros artilugios hay además atajos de teclado
 que deberían traducirse.
 Dichas teclas se marcan con una `|' delante, y deberían traducirse de acuerdo
 con las palabras y frases del idioma.
 Además tendrías que rellenar la información al principio del nuevo archivo
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

, correo electrónico, etc., para que la gente sepa dónde enviarte sugerencias
 o divertidas diatribas.
\end_layout

\begin_layout Standard
Si estás haciendo esto solo para ti, entonces:
\end_layout

\begin_layout Itemize
Genera 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xx.mo
\end_layout

\end_inset

.
 Se puede hacer con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
msgfmt -o xx.mo < xx.po
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Copia el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
mo
\end_layout

\end_inset

 a tu directorio local, en la carpeta apropiada para los mensajes de las
 aplicaciones en el idioma xx, con el nombre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx.mo
\end_layout

\end_inset

 (p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset space \space{}
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/usr/local/share/locale/xx/LC_MESSAGES/lyx.mo
\end_layout

\end_inset


\series bold
.
\end_layout

\begin_layout Standard
Sin embargo, ya se ha dicho, lo mejor sería poder añadir el nuevo archivo
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
po
\end_layout

\end_inset

 a la distribución de LyX, para que otros puedan usarlo.
 Esto requiere hacer cambios en LyX, así que envía un correo a la lista
 de desarrolladores si estás interesado en hacerlo.
\end_layout

\begin_layout Subsubsection
Mensajes ambiguos
\end_layout

\begin_layout Standard
A veces resulta que un mensaje en inglés tiene diversas traducciones en
 un idioma dado.
 Un ejemplo es la palabra 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

, que en alemán se puede traducir por Nach o Bis, según el sentido exacto
 que tenga 
\begin_inset Quotes fld
\end_inset

to
\begin_inset Quotes frd
\end_inset

 en inglés.
 GNU 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

 no maneja tales traducciones ambiguas.
 Por lo tanto, debes añadir alguna información contextual al mensaje: en
 vez de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

 se pone 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
To[[as in 'From format x to format y']]
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
To[[as in 'From page x to page y']]
\end_layout

\end_inset

.
 Ahora las dos apariciones de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
To
\end_layout

\end_inset

 son diferentes para 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
gettext
\end_layout

\end_inset

 y pueden traducirse correctamente por Nach y Bis, respectivamente.
\end_layout

\begin_layout Standard
Por supuesto que la información contextual debe eliminarse del mensaje original
 si no se usa en la traducción.
 Por eso hay que ponerla entre dobles corchetes al final del mensaje (véase
 el ejemplo).
 El mecanismo de traducción de LyX asegura que todo lo que va entre corchetes
 al final de los mensajes se quita antes de mostrarlos.
\end_layout

\begin_layout Subsection
Traducción de la documentación
\end_layout

\begin_layout Standard
La documentación en línea (menú 
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
Ay
\bar under
u
\bar default
da
\end_layout

\end_inset


\family default
) puede (¡debería!) traducirse.
 Si hay versiones traducidas de la documentación disponible
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Hasta marzo de 2008, al menos algunos de los documentos han sido traducidos
 a catorce idiomas, y el Tutorial está disponible en algunos más.
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
locale
\end_layout

\end_inset

 está adecuadamente configurado, LyX las cargará 
\begin_inset Quotes fld
\end_inset

automágicamente
\begin_inset Quotes frd
\end_inset

.
 LyX busca las traducciones en 
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
LyXDir/doc/
\family default
xx
\family typewriter
/DocName.lyx
\end_layout

\end_inset


\family default
, donde 
\family typewriter
xx 
\family default
es el código para el idioma en uso actualmente.
 Si no hay versión traducida se presentará por omisión la versión inglesa
 del documento.
 Ten en cuenta que las versiones traducidas deben tener los mismos nombres
 de archivo (el 
\family typewriter
DocName
\family default
 de antes) que el original.
 Si te animas a traducir documentación (¡de paso, una excelente manera de
 leerla atentamente!), hay algunas cosas que deberías tener en cuenta:
\end_layout

\begin_layout Itemize
Lee 
\family typewriter
DocStyle.lyx
\family default
, la guía para escribir documentación de LyX.
 Presta especial atención a la sección de traducción.
\end_layout

\begin_layout Itemize
Consulta la web de traducción de la documentación en 
\begin_inset CommandInset href
LatexCommand href
name "http://www.lyx.org/Translation"
target "http://www.lyx.org/Translation"

\end_inset

.
 Así podrás comprobar el estado actual de traducción de documentos a tu
 idioma.
 También si hay alguien que esté coordinando la traducción a tu idioma.
 Si no hay nadie comunícanos, por favor, si estás interesado en ello.
\end_layout

\begin_layout Standard
Una vez que te has decidido a empezar, he aquí algunos consejos que te pueden
 ahorrar inconvenientes:
\end_layout

\begin_layout Itemize
¡Únete al equipo de documentación! En 
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
Ay
\bar under
u
\bar default
da\SpecialChar \menuseparator

\bar under
I
\bar default
ntroducción
\end_layout

\end_inset


\family default
, que por cierto, es el primer documento que se debería traducir, hay informació
n sobre cómo hacerlo.
\end_layout

\begin_layout Itemize
Infórmate sobre las normas tipográficas de tu idioma.
 La tipografía es un antiguo arte que ha desarrollado durante siglos una
 gran variedad de convenciones en diversas partes del mundo.
 Estudia también la terminología profesional de los tipógrafos en tu país.
 Inventar tu propia terminología sólo provocará confusión.
 
\emph on
(¡Cuidado! La tipografía es adictiva!)
\end_layout

\begin_layout Itemize
Haz una copia del documento para trabajar sobre ella.
 Puedes guardarla como archivo personal de traducción en tu directorio 
\family typewriter
~/.lyx/doc/xx/
\family default
.
\end_layout

\begin_layout Itemize
De vez en cuando el documento original (del equipo LyX) será actualizado.
 Usa el visor de fuentes en 
\begin_inset CommandInset href
LatexCommand href
name "http://www.lyx.org/trac/timeline"
target "http://www.lyx.org/trac/timeline"

\end_inset

 para ver los cambios realizados.
 De esta manera puedes ver fácilmente qué partes del documento traducido
 necesitan actualizarse.
\end_layout

\begin_layout Standard
Si encuentras un error en el documento original, ¡corríjelo y notifica los
 cambios al equipo de documentación! (¿No te has olvidado de contactar con
 el equipo de documentación, verdad?)
\end_layout

\begin_layout Standard
\begin_inset Branch OutDated
status collapsed

\begin_layout Section
International Keyboard Support
\end_layout

\begin_layout Standard

\emph on
[Editor's Note: The following section is by
\emph default
 
\shape smallcaps
\emph on
Ivan Schreter
\shape default
.
 It needs to be fixed to conform to the new Documentation Style sheet and
 to make use of the new v1.0 features.
 The whole thing also needs to be merged with the section following it.-jw
 It may also be badly out of date.-rh (2008)]
\end_layout

\begin_layout Subsection
Defining Own Keymaps: Keymap File Format
\end_layout

\begin_layout Standard
Let's look at a keyboard definition file a little closer.
 It is a plain text file defining
\end_layout

\begin_layout Itemize
key-to-key or key-to-string translations
\end_layout

\begin_layout Itemize
dead keys
\end_layout

\begin_layout Itemize
dead keys exceptions
\end_layout

\begin_layout Standard
To define key-to-key or key-to-string translation, use this command:
\end_layout

\begin_layout Quotation
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kmap
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 outstring 
\end_layout

\begin_layout Standard
where 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 is the key to be translated and 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
outstring
\end_layout

\end_inset

 is the string to be inserted into the document.
 To define dead keys, use:
\end_layout

\begin_layout Quotation
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kmod
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 deadkey
\end_layout

\begin_layout Standard
where 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
key
\end_layout

\end_inset

 is a keyboard key and 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
deadkey
\end_layout

\end_inset

 is dead key name.
 The following dead keys are supported (shortcut name is in parentheses):
\end_layout

\begin_layout Quotation

\emph on
Name
\begin_inset space \hfill{}
\end_inset

Example
\end_layout

\begin_layout Quotation
acute (acu)
\begin_inset space \hfill{}
\end_inset

áéíóú
\end_layout

\begin_layout Quotation
grave (gra)
\begin_inset space \hfill{}
\end_inset

àèìòù
\end_layout

\begin_layout Quotation
macron (mac)
\begin_inset space \hfill{}
\end_inset

 ō
\end_layout

\begin_layout Quotation
tilde (til)
\begin_inset space \hfill{}
\end_inset

ñÑ
\end_layout

\begin_layout Quotation
underbar (underb)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
b o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
cedilla (ced)
\begin_inset space \hfill{}
\end_inset

çÇ
\end_layout

\begin_layout Quotation
underdot (underd)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
d o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
circumflex (circu)
\begin_inset space \hfill{}
\end_inset

âêîôû
\end_layout

\begin_layout Quotation
circle (circl)
\begin_inset space \hfill{}
\end_inset

ÅůŮ
\end_layout

\begin_layout Quotation
tie (tie)
\begin_inset space \hfill{}
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
t o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
breve (bre)
\begin_inset space \hfill{}
\end_inset

ă
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
u o
\end_layout

\end_inset


\end_layout

\begin_layout Quotation
caron (car)
\begin_inset space \hfill{}
\end_inset

čšž
\end_layout

\begin_layout Quotation
hungarian umlaut (hug)
\begin_inset space \hfill{}
\end_inset

őű
\end_layout

\begin_layout Quotation
umlaut (uml)
\begin_inset space \hfill{}
\end_inset

äöü
\end_layout

\begin_layout Quotation
dot (dot)
\begin_inset space \hfill{}
\end_inset

ż
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
.s
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Since in many international keyboards there are exceptions to what some
 dead keys should do, you can define them using
\end_layout

\begin_layout Quotation
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kxmod
\end_layout

\end_inset

 deadkey key outstring
\end_layout

\begin_layout Standard
For example, on Slovak keyboard, if you enter caron-o, it generates circumflex-o
, so you put in
\end_layout

\begin_layout Quotation
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kxmod
\end_layout

\end_inset

 caron o "
\backslash
^o"
\end_layout

\begin_layout Standard
to make it work correctly.
 Also, you have to define as exceptions dead keys over i and j, to remove
 the dot from them before inserting an accent mark.
 I will change this when the time comes, but so far I haven't had time.
\end_layout

\begin_layout Standard
Oh, and about characters: backslash is escaped, so to enter it, you'll need
 double backslash.
 Also, quotes and 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 have different meaning.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 marks comments, quotes start and end LaTeX-style commands.
 To enter quote, you'll need to use 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
"
\end_layout

\end_inset

, to enter 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

, use 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
#
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
If you make a keyboard description file that works for your language, please
 mail it to me, so I can include it in the next keymap distribution.
\end_layout

\begin_layout Standard
More keywords will be supported in keymap configuration file in future,
 like
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kinclude filename
\end_layout

\end_inset


\emph on

\begin_inset space \hfill{}
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
include
\end_layout

\end_inset

 another file
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kprog program
\end_layout

\end_inset


\emph on

\begin_inset space \hfill{}
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
define
\end_layout

\end_inset

 an external keymap translation program 
\end_layout

\begin_layout Standard
Also, it should look into 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyxrc
\end_layout

\end_inset

 file for defaults, too (for example, a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
kinclude
\end_layout

\end_inset

 option to include default keyboard).
\end_layout

\end_inset


\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:keymap"

\end_inset

Cosas sobre teclados internacionales
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Al revisar este documento en marzo de 2008, no examiné este asunto porque
 no lo comprendía.
 Sería bueno que alguien pudiera hacerlo.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Las dos secciones siguientes describen con detalle la sintaxis de los archivos
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.kmap
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.cdef
\end_layout

\end_inset

.
 Deberían servir de ayuda para diseñar tus propios mapas de teclado si los
 suministrados no satisfacen tus necesidades.
\end_layout

\begin_layout Subsection
El archivo .kmap
\end_layout

\begin_layout Standard
Un archivo .
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
kmap
\end_layout

\end_inset

 asocia pulsaciones de teclas con caracteres o secuencias de ellos.
 Como sugiere el nombre, sirve para trazar un mapa del teclado.
 En esta sección se describen las palabras clave 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kmap
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kmod
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kxmod
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kcomb
\end_layout

\end_inset

 del archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.kmap
\end_layout

\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kmap
\end_layout

\end_inset

 Asocia un carácter a una cadena
\end_layout

\begin_layout LyX-Code

\backslash
kmap 
\family roman
\emph on
char
\family default
\emph default
 
\family roman
\emph on
string
\end_layout

\begin_layout Standard
Esto asocia 
\emph on
char
\emph default
 a 
\emph on
string
\emph default
.
 Anotar que en 
\emph on
string
\emph default
, la doble comilla (") y la barra invertida (
\backslash
) deben escaparse con una barra (
\backslash
) previa.
\end_layout

\begin_layout Standard
Un ejemplo de una declaración de 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
kmap
\end_layout

\end_inset

 para hacer que el símbolo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
/
\end_layout

\end_inset

 sea generado por la tecla 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
&
\end_layout

\end_inset

 es:
\end_layout

\begin_layout LyX-Code

\backslash
kmap & /
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
kmod
\end_layout

\end_inset

 Especifica un carácter acentuado
\end_layout

\begin_layout LyX-Code

\backslash
kmod 
\family roman
\emph on
char accent allowed
\end_layout

\begin_layout Standard
Esto hará que el carácter 
\emph on
char
\emph default
 sea un acento
\emph on
 accent
\emph default
 sobre el(los) carácter(es) permitido(s) 
\emph on
allowed
\emph default
.
 Este es el mecanismo de tecla muerta
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
El término 
\size normal
\emph on
\color none
tecla 
\size default
\color inherit
muerta 
\emph default
se refiere a una tecla que no genera ningún carácter por sí mismo, pero
 seguida de otra tecla genera el carácter acentuado deseado.
 Por ejemplo, un caráter con diéresis, ü, se genera de esta manera.
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
Si pulsas 
\emph on
char
\emph default
 y después una tecla que no está entre las permitidas (
\emph on
allowed
\emph default
), en la salida obtendrás el carácter 
\emph on
char
\emph default
 seguido por el otro carácter, el no permitido.
 Hay que tener en cuenta que 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
Retroceso
\end_layout

\end_inset

 cancela una tecla muerta, de modo que si pulsas 
\emph on
char 
\emph default

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
Retroceso
\end_layout

\end_inset

, el cursor no retrocede una posición sino que anula el efecto que 
\emph on
char
\emph default
 hubiera tenido sobre la siguiente pulsación.
\end_layout

\begin_layout Standard
En el ejemplo siguiente, el carácter ' va a generar un acento agudo permitido
 sobre los caracteres a, e, i, o, u, A, E, I, O, U:
\end_layout

\begin_layout LyX-Code

\backslash
kmod ' acute aeiouAEIOU
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
kxmod
\end_layout

\end_inset

 Especifica una excepción para el carácter acentuado
\end_layout

\begin_layout LyX-Code

\backslash
kxmod  
\family roman
\emph on
accent char result
\end_layout

\begin_layout Standard
Define una excepción para el 
\emph on
accent
\emph default
 sobre 
\emph on
char
\emph default
.
 El 
\emph on
accent
\emph default
 debe haber sido asignado a una pulsación con una declaración previa de
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
kmo
\shape default
d
\end_layout

\end_inset

 y 
\emph on
char
\emph default
 no debe estar en el conjunto 
\emph on
allowed
\emph default
 de 
\emph on
accent
\emph default
.
 Si tecleas la secuencia 
\emph on
accent char
\emph default
 da como resultado 
\emph on
result
\emph default
.
 Si dicha declaración no existe en el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.kmap
\end_layout

\end_inset

 y tecleas 
\emph on
accent char
\emph default
, obtendrás 
\emph on
accent_key char
\emph default
, donde 
\emph on
accent_key
\emph default
 es el primer argumento de la declaración 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
kmod
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
El comando siguiente generará äi cuando teclees agudo-i ('i):
\end_layout

\begin_layout LyX-Code

\backslash
kxmod acute i "
\backslash

\backslash
'{
\backslash

\backslash
i}"
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
kcomb
\end_layout

\end_inset

 Combina dos caracteres acentos
\end_layout

\begin_layout LyX-Code

\backslash
kcomb 
\family roman
\emph on
accent1 accent2 allowed
\end_layout

\begin_layout Standard
Esto es bastante esotérico.
 Permite combinar el efecto de 
\emph on
accent1
\emph default
 y 
\emph on
accent2
\emph default
 (¡en ese orden!) sobre los caracteres permitidos 
\emph on
allowed
\emph default
.
 Las teclas para 
\emph on
accent1
\emph default
 y 
\emph on
accent2
\emph default
 deben haber sido declaradas con un comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
kmod
\end_layout

\end_inset

 
\emph on
previamente
\emph default
 en el archivo.
 
\end_layout

\begin_layout Standard
Considera este ejemplo del archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
greek.kmap
\end_layout

\end_inset

:
\end_layout

\begin_layout LyX-Code

\backslash
kmod ; acute aeioyvhAEIOYVH 
\backslash
kmod : umlaut iyIY 
\backslash
kcomb acute umlaut iyIY
\end_layout

\begin_layout Standard
Esto permite pulsar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
;:i
\end_layout

\end_inset

 y obtener el efecto de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
'{
\backslash
"{i}}
\end_layout

\end_inset

.
 En este caso un retroceso cancela la última tecla muerta, así que si tecleas
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up
;: Retroceso i
\end_layout

\end_inset

 obtienes 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
'{i}
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
El archivo .cdef
\end_layout

\begin_layout Standard
Después de realizados el mapa 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.kmap
\end_layout

\end_inset

, un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.cde
\shape default
f
\end_layout

\end_inset

 traza el mapa de las cadenas que los símbolos generan para los caracteres
 en la fuente actual.
 La distribución de LyX actualmente incluye al menos los archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
iso8859-1.cdef
\end_layout

\end_inset

 and 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
iso8859-2.cdef
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
En general el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\shape up
.cdef
\end_layout

\end_inset

 es una secuencia de declaraciones de la forma:
\end_layout

\begin_layout LyX-Code

\family roman
\emph on
char_index_in_set
\family default
\emph default
 
\family roman
\emph on
 string
\end_layout

\begin_layout Standard
Por ejemplo, para asociar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\shape up

\backslash
'{e}
\end_layout

\end_inset

 al correspondiente carácter en el conjunto iso-8859-1 (233), se usa:
\end_layout

\begin_layout LyX-Code
233 "
\backslash

\backslash
'{e}"
\end_layout

\begin_layout Standard
con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash

\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
"
\end_layout

\end_inset

 escapados en 
\emph on
string
\emph default
.
 Anotar que el mismo carácter puede aplicarse a más de una cadena.
 En el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
i
\shape up
so-8859-7.cdef
\end_layout

\end_inset

 tienes
\end_layout

\begin_layout LyX-Code
192 "
\backslash

\backslash
'{
\backslash

\backslash

\backslash
"{i}}"
\begin_inset Newline newline
\end_inset

192 "
\backslash

\backslash

\backslash
"{
\backslash

\backslash
'{i}}"
\end_layout

\begin_layout Standard
Si LyX no puede encontrar una declaración para la cadena por una tecla o
 una secuencia con tecla muerta, intentará si aparece como un carácter acentuado
 y probará a dibujar un acento sobre el carácter en la pantalla.
\end_layout

\begin_layout Subsection
Teclas muertas
\end_layout

\begin_layout Standard
Hay una segunda manera de añadir soporte para caracteres internacionales
 mediante las denominadas teclas muertas.
 Una tecla muerta trabaja en combinación con una letra para generar un carácter
 acentuado.
 Aquí explicaremos como crear una sencillísima tecla muerta para ilustrar
 cómo funciona.
\end_layout

\begin_layout Standard
Supongamos que necesitas el carácter circunflejo 
\begin_inset Quotes fld
\end_inset

^
\begin_inset Quotes frd
\end_inset

.
 Podrías asociar la tecla 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset

 (antes 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Mayúsculas-6
\end_layout

\end_inset

) al comando LyX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
accent-circumflex
\end_layout

\end_inset

 en tu archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyxrc
\end_layout

\end_inset

.
 Ahora, cuando pulses la tecla 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset

 seguida de una letra, obtendrás esa letra con circunflejo sobre ella.
 Por ejemplo, la secuencia 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
^e
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 genera 
\begin_inset Quotes fld
\end_inset

ê
\begin_inset Quotes frd
\end_inset

.
 Si pruebas 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
^t
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

, sin embargo, LyX no imprime nada puesto que 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
t
\end_layout

\end_inset

 nunca lleva un circunflejo.
 Pulsar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Espacio
\end_layout

\end_inset

 tras una tecla muerta imprime el acento solo.
 ¡Advierte este último punto! Si asocias una tecla a una tecla muerta necesitará
s reasociar el carácter de esa tecla a otra tecla.
 Asociar la tecla 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
,
\end_layout

\end_inset

 a una cedilla es una mala idea, puesto que solo obtendrás cedillas en lugar
 de comas.
\end_layout

\begin_layout Standard
Una forma habitual de asociar teclas muertas es usar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Meta-
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ctrl-
\end_layout

\end_inset

, y 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Mayúsculas-
\end_layout

\end_inset

 en combinación con un acento, como 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
~
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 o 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
,
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 o 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
^
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
 Otra forma incluye el uso de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xmodmap
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xkeycaps
\end_layout

\end_inset

 para configurar la tecla especial 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Mode_Switch
\end_layout

\end_inset

.
 Esta tecla actúa de alguna forma como 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Mayúsculas
\end_layout

\end_inset

 y permite teclas a caracteres acentuados.
 También puedes transformar teclas en muertas asociándolas a algo como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
usldead_cedilla
\end_layout

\end_inset

 y después asociando esta tecla simbólica al correspondiente comando LyX.
\begin_inset Foot
status open

\begin_layout Plain Layout
Nota de 
\noun on
John Weiss
\noun default
: Esto es exactamente lo que hago en mis archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
~/.lyx/lyxrc
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
~/.xmodmap
\end_layout

\end_inset

.
 Tengo mi tecla 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Bloq
\begin_inset space ~
\end_inset

Despl
\end_layout

\end_inset

 configurada como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Mode_Shift
\end_layout

\end_inset

 y unas cuantas de estas teclas simbólicas 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
usldead_*
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 asociadas a cosas como 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Bloq
\begin_inset space ~
\end_inset

Despl-^
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Bloq
\begin_inset space ~
\end_inset

Despl-~
\end_layout

\end_inset

.
 Así es como genero mis caracteres acentuados.
\end_layout

\end_inset

 Puedes hacer casi cualquier cosa con la tecla 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Mode_Switch
\end_layout

\end_inset

: una de las teclas 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ctrl-
\end_layout

\end_inset

, una tecla de función de reserva, etc.
 En cuanto a los comandos LyX que generan acentos, consulta la entrada para
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
accent-acute
\end_layout

\end_inset

 en 
\emph on
Reference Manual
\emph default
.
 Ahí encontrarás la lista completa.
\end_layout

\begin_layout Subsection
Guardar la configuración de idioma
\end_layout

\begin_layout Standard
Puedes editar tus preferencias para que el entorno de idioma adecuado sea
 automáticamente configurado al iniciar LyX, en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

.
\end_layout

\begin_layout Chapter
Instalación de nuevas clases de documento, formatos y plantillas
\begin_inset CommandInset label
LatexCommand label
name "cap:Instalación-de-nuevas"

\end_inset


\begin_inset OptArg
status open

\begin_layout Plain Layout
Instalación de clases, formatos \SpecialChar \ldots{}

\end_layout

\end_inset


\end_layout

\begin_layout Standard
En este capítulo describimos los procedimientos para crear e instalar nuevos
 archivos de plantillas y formatos de LyX, así como repasar la instalación
 correcta de nuevas clases de documentos LaTeX.
 Algunas definiciones: una clase de documento es un archivo LaTeX (generalmente
 con extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.cls
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.sty
\end_layout

\end_inset

) que describe el diseño de un documento, tales como 
\begin_inset Quotes fld
\end_inset

article
\begin_inset Quotes frd
\end_inset

, 
\begin_inset Quotes fld
\end_inset

report
\begin_inset Quotes frd
\end_inset

, 
\begin_inset Quotes fld
\end_inset

journal preprint
\begin_inset Quotes frd
\end_inset

, etc, y todos los comandos necesarios para llevar a cabo dicho diseño.
 Un archivo de formato (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.layout
\end_layout

\end_inset

) de LyX es un archivo que se corresponde con una clase de documento LaTeX,
 e indica a LyX cómo 
\begin_inset Quotes fld
\end_inset

dibujar
\begin_inset Quotes frd
\end_inset

 las cosas para hacer que su presentación en la pantalla se parezca en lo
 posible a la presentación final impresa.
 Más precisamente, un archivo de formato describe una 
\begin_inset Quotes fld
\end_inset

clase de texto
\begin_inset Quotes frd
\end_inset

 que es la estructura interna utilizada por LyX para dibujar la presentación
 en pantalla.
 En cierto modo 
\begin_inset Quotes fld
\end_inset

Formato
\begin_inset Quotes frd
\end_inset

 y 
\begin_inset Quotes fld
\end_inset

clase de texto
\begin_inset Quotes frd
\end_inset

 se pueden usar de forma intercambiable, pero es mejor referirse al archivo
 como el formato, y al chisme que merodea en los entresijos de LyX como
 la clase de texto.
 Un archivo de plantilla es simplemente un documento LyX que contiene un
 conjunto de entradas predefinidas para una clase de documento dada —entradas
 que son generalmente requeridas por esa clase—.
 Las plantillas son especialmente útiles para cosas como escritos para publicaci
ones que han de presentarse electrónicamente.
\end_layout

\begin_layout Section
Instalar un nuevo paquete LaTeX
\end_layout

\begin_layout Standard
Algunas instalaciones quizá no incluyan un paquete LaTeX que te gustaría
 usar en LyX.
 Por ejemplo, podrías necesitar FoilTeX, un paquete para preparar transparencias
 o diapositivas para proyectores.
 Las modernas distribuciones de LaTeX como TeXLive (2008 o posterior) o
 MiKTeX proveen una interfaz de usuario para eso.
 Por ejemplo, en MiKTeX inicias su programa 
\begin_inset Quotes fld
\end_inset

Buscar paquetes
\begin_inset Quotes frd
\end_inset

 para obtener una lista de los disponibles.
 Para instalar uno, haces clic derecho sobre él o usas el botón de la herramient
a de instalación.
 Si el paquete que quieres instalar no está en la lista, pero lo tienes
 en la forma de archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.cls
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.sty
\end_layout

\end_inset

, copia estos archivos a una carpeta de tu distribución LaTeX, por ejemplo
 
\family sans

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
~
\backslash
tex
\backslash
latex
\end_layout

\end_inset


\family default
.
 Después actualiza la base de datos de archivos de LaTeX.
 Por ejmplo, en MiKTeX se hace pulsando el botón 
\family sans
Refresh
\begin_inset space ~
\end_inset

FNDB
\family default
 que está en el programa de configuración de MiKTeX.
 En ambos casos, posteriormente debes reconfigurar LyX mediante el menú
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

 y después reiniciar LyX.
\end_layout

\begin_layout Standard
Si tu distribución LaTeX no facilita interfaz de usuario, entonces debes
 seguir estos pasos en una consola UNIX/Linux:
\end_layout

\begin_layout Enumerate
Consigue el paquete de 
\begin_inset CommandInset href
LatexCommand href
name "CTAN"
target "http://www.ctan.org/"

\end_inset

 o donde sea.
\end_layout

\begin_layout Enumerate
Puedes instalar el paquete en varios lugares diferentes.
 Si lo quieres disponible para todos los usuarios, deberías instalarlo en
 el directorio 'local' del árbol de directorios de TeX; si quieres (o necesitas)
 que esté disponible solo para ti, puedes instalarlo en el árbol de TeX
 de tu directorio 'personal'.
 El lugar donde deberían crearse éstos, si no existen ya, depende de los
 detalles de tu sistema.
 Para encontrarlos mira en el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
texmf.cnf
\end_layout

\end_inset

.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Generalmente está en el directorio 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$TEXMF/web2c
\end_layout

\end_inset

, aunque puedes ejecutar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
kpsewhich texmf.cnf
\end_layout

\end_inset

 para localizarloto locate it.
\end_layout

\end_inset

 La localización del árbol 'local' de TeX está definida por 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMFLOCAL
\end_layout

\end_inset

; generalmente es 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/usr/local/share/texmf/
\end_layout

\end_inset

.
 El árbol 'personal' de TeX está definido por 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMFHOME
\end_layout

\end_inset

 y comúnmente es 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$HOME/texmf/
\end_layout

\end_inset

.
 (Si estas variables no están predefinidas las puedes declarar tú mismo).
 Probablemente necesitarás permisos de administrador para crear o modificar
 el árbol 'local'; pero tu árbol 'personal' no debería tener estas limitaciones.
\end_layout

\begin_layout Enumerate
Comprueba que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMF
\end_layout

\end_inset

 incluye las variables 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMFLOCAL
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMFHOME
\end_layout

\end_inset

; p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset Newline newline
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMF = {$TEXMFHOME,!!$TEXMFLOCAL,!!$TEXMFMAIN}
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

Pero, insistimos, la mayoría estarán 
\begin_inset Quotes fld
\end_inset

ya funcionando
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Enumerate
Crea tu árbol local de TeX
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
De aquí en adelante supondremos que vas a definir el árbol `local' de TeX.
 Si vas a definir un árbol de 'usuario', adáptalo como sea necesario.
\end_layout

\end_inset

.
 Debes seguir la estructura de directorios del árbol de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
texmf
\end_layout

\end_inset

 existente, que estará definido por 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TEXMFMAIN
\end_layout

\end_inset

.
 Por ejemplo, los paquetes LaTeX deberían alojarse en el directorio 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$TEXMFLOCAL/tex/latex/
\end_layout

\end_inset

.
\end_layout

\begin_layout Enumerate
Instala el paquete.
 Por ejemplo, tendrías que desempaquetar el comprimido tarball FoilTeX y
 copiarlo a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$TEXMFLOCAL/tex/latex/foiltex
\end_layout

\end_inset

.
 El directorio 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
foiltex
\end_layout

\end_inset

 contiene varios archivos.
\end_layout

\begin_layout Enumerate
Ejecuta: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
texhash
\end_layout

\end_inset

.
 Esto debería generar el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$TEXMFLOCAL/ls-R
\end_layout

\end_inset

, entre otros.
\end_layout

\begin_layout Standard
Tu nuevo paquete está ahora instalado y disponible para LaTeX.
 Para ponerlo a disposición de LyX, tienes que crear un archivo Layout,
 si no hay ninguno disponible.
 (Véase la siguiente sección.) Una vez tienes un archivo de formato (layout),
 debes reconfigurar (
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

) y reiniciar LyX.
 Ahora deberías ver tu nuevo paquete —por ejemplo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
slides (FoilTeX)
\end_layout

\end_inset

— en la lista desplegable 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Clase de documento
\end_layout

\end_inset

 del menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Section
Formatos
\end_layout

\begin_layout Standard
Esta sección describe cómo escribir e instalar tus propios archivos de formatos
 LyX, tomando el formato de la clase de texto 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article
\end_layout

\end_inset

 como ejemplo.
 Los archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.layout
\end_layout

\end_inset

 describen qué estilos de párrafo y carácter están disponibles para una
 clase de documento dada y cómo los debería presentar LyX.
 Intentamos aquí dar una minuciosa descripción del proceso; sin embargo,
 hay tantos tipos diferentes de documentos soportados por clases de LaTeX
 que no podemos aspirar a tratar todas las distintas posibilidades o problemas
 que puedas encontrar.
 (La lista de usuarios de LyX es frecuentada por gente con mucha experiencia
 en el diseño de formatos deseosa de compartir sus conocimientos).
\end_layout

\begin_layout Standard
Cuando te pongas a escribir un nuevo formato, es de gran ayuda echar un
 vistazo a los formatos de ejemplo suministrados con LyX.
 Si usas una preciosa clase LaTeX que podría interesar también a otros,
 y tienes el bonito formato LyX correspondiente, no dudes en compartir tu
 labor con nosotros para poderlo incluir en la distribución.
 Hay además un enlace para este tipo de material, 
\begin_inset CommandInset href
LatexCommand href
name "sección en la wiki de LyX"
target "http://wiki.lyx.org/Layouts/Layouts"

\end_inset

.
\end_layout

\begin_layout Standard
Todos los rótulos descritos en este capítulo son insensibles a las mayúsculas;
 esto significa que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
style
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
StYlE
\end_layout

\end_inset

 son el mismo comando.
 Los valores posibles se imprimen entre corchetes detrás del nombre de la
 característica.
 Si en una descripción de una clase de texto no se especifica una característica
, el valor por omisión se escribe en estilo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
énfasis
\end_layout

\end_inset

.
 Si el argumento tiene un tipo de dato como 
\begin_inset Quotes fld
\end_inset

string
\begin_inset Quotes frd
\end_inset

 o 
\begin_inset Quotes fld
\end_inset

float
\begin_inset Quotes frd
\end_inset

, el valor por omisión se muestra de esta manera: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=
\emph on
default
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Módulos-de-formato"

\end_inset

Módulos de formato
\end_layout

\begin_layout Standard
Los 
\emph on
módulos
\emph default
 de formato, nuevos en LyX 1.6, son similares a los archivos de formato.
 Los módulos son a los paquetes LaTeX lo que los formatos a las clases LaTeX,
 y algunos módulos —como el módulo Nota final— dan soporte a un paquete
 determinado.
 En cierto sentido, los módulos de formato son similares a los archivos
 incluidos —archivos como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
stdsections.inc
\end_layout

\end_inset

—, ya que esos módulos no son específicos para una clase de documento dada,
 sino que se pueden usar con muchos formatos diferentes.
 La diferencia es que el uso de un módulo de formato no requiere editar
 el archivo de formato, mejor aún, los módulos se seleccionan en el diálogo
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
La construcción de módulos es la forma más fácil de iniciarse en la edición
 de formatos, puesto que puede ser tan sencillo como añadir un simple párrafo
 nuevo o un recuadro flexible.
 No obstante, los módulos pueden, en principio, contener cualquier cosa
 que pueda contener un archivo de formato.
\end_layout

\begin_layout Standard
Un módulo debe comenzar con una línea como la siguiente:
\end_layout

\begin_layout LyX-Code
#
\backslash
DeclareLyXModule[endnotes.sty]{Endnotes} 
\end_layout

\begin_layout Standard
El argumento entre corchetes es opcional: declara cualesquiera paquetes
 LaTeX de los que depende el módulo.
 El argumento obligatorio, entre llaves, es el nombre del módulo tal como
 debería figurar en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
La declaración del módulo debería seguir a continuación con líneas como:
\end_layout

\begin_layout LyX-Code
#InicioDescripción 
\end_layout

\begin_layout LyX-Code
#Añade un comando para nota final, además de notas al pie.
 
\end_layout

\begin_layout LyX-Code
#Deberás añadir 
\backslash
theendnotes en ERT allí donde quieras 
\end_layout

\begin_layout LyX-Code
#que aparezcan las notas finales.
 
\end_layout

\begin_layout LyX-Code
#FinDescripción 
\end_layout

\begin_layout LyX-Code
#Requiere: somemodule | othermodule
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
N.
\begin_inset space \thinspace{}
\end_inset

del T.
\emph default
: En las declaraciones que se ponen en estos archivos, los nombres de los
 módulos no se traducen.
 
\end_layout

\end_inset


\end_layout

\begin_layout LyX-Code
#Excluye: badmodule
\end_layout

\begin_layout Standard
La descripción se usa en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

 para dar información al usuario sobre lo que hace el módulo.
 La línea 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Requiere
\end_layout

\end_inset

 identifica otros módulos con los que debe utilizarse éste; la línea 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Excluye
\end_layout

\end_inset

 identifica módulos con los que éste no puede usarse.
 Ambos son opcionales y, como se ve, distintos módulos deben separarse con
 el símbolo de tubería, |.
 Hay que anotar que los módulos requeridos son tratados en forma disyuntiva:
 
\emph on
al menos uno
\emph default
 de ellos debe utilizarse.
 De igual forma, no se pueden usar módulos excluidos.
 Aquí los módulos se han identificado por sus 
\emph on
nombres
\emph default
 sin la extensión de archivo .module.
 Así pues, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
somemodule
\end_layout

\end_inset

 es realmente 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
somemodule.module
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Después de crear un módulo nuevo, tendrás que reconfigurar LyX y reiniciar
 después para que el módulo aparezca en el menú.
 Sin embargo, los cambios que hagas al módulo se verán inmediatamente si
 abres 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

, seleccionas algo y después pulsas 
\begin_inset Quotes fld
\end_inset

OK
\begin_inset Quotes frd
\end_inset

.
 
\emph on
Es muy recomendable guardar el trabajo antes de hacer eso.

\emph default
 De hecho, 
\emph on
es muy recomendable no intentar editar los módulos mientras se está trabajando
 simultáneamente en un documento
\emph default
.
 Aunque los desarrolladores, por supuesto, se esfuerzan en mantener la estabilid
ad de LyX en estas situaciones, errores sintácticos y similares en el archivo
 del módulo podrían causar extraños comportamientos.
\end_layout

\begin_layout Subsection
Soporte de nuevas clases de documentos
\end_layout

\begin_layout Standard
Probablemente te vas a encontrar con dos situaciones a la hora de querer
 soportar una nueva clase de documento LaTeX, según se trate de archivos
 LaTeX2e de clase (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.cls
\end_layout

\end_inset

) o de estilo (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.sty
\end_layout

\end_inset

).
 Dar soporte a un nuevo estilo es bastante fácil.
 Dar soporte a una nueva clase es un poco más difícil.
\end_layout

\begin_layout Subsection
Formato para un archivo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
sty
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Si la nueva clase de documento se suministra como archivo de estilo que
 se usa conjuntamente con una existente, para dar soporte a la clase de
 documento —para nuestro ejemplo supondremos que el archivo de estilo se
 llama 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
myclass.sty
\end_layout

\end_inset

 y que se usa conjuntamente con 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
report.cls
\end_layout

\end_inset

, que es una clase estándar— se empieza por copiar al directorio personal
 el archivo de formato de la clase existente:
\end_layout

\begin_layout LyX-Code
cp report.layout ~/.lyx/layouts/myclass.layout
\end_layout

\begin_layout Standard
Después se edita 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
myclass.layout
\end_layout

\end_inset

 y se cambia la línea: 
\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaTeXClass{report}
\end_layout

\begin_layout Standard
por la línea
\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaTeXClass[report, myclass.sty]{report (myclass)}
\end_layout

\begin_layout Standard
Después se añade:
\end_layout

\begin_layout LyX-Code
Preamble 
\begin_inset Newline newline
\end_inset

    
\backslash
usepackage{myclass}
\begin_inset Newline newline
\end_inset

EndPreamble
\end_layout

\begin_layout Standard
cerca del principio del archivo.
\end_layout

\begin_layout Standard
Inicia LyX y selecciona 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

.
 Después reinicia LyX y haz una prueba con un documento nuevo.
 En el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

 deberías ver "
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
report (myclass)
\end_layout

\end_inset

" en la lista de clases de documento.
 Es probable que algunos de los comandos de secciones y demás en tu nueva
 clase funcionen de distinta manera a como lo hacen en la clase estándar
 —
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
report
\end_layout

\end_inset

 en este ejemplo—, de modo que si quieres, ahora puedes enredar un rato
 con los ajustes de las distintas secciones.
\end_layout

\begin_layout Subsection
Formato para un archivo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
cls
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En este caso hay dos opciones.
 Una, que el archivo de clase esté él mismo basado en una clase de documento
 existente.
 Por ejemplo, muchas clases de tesis están basadas en 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
book.cls
\end_layout

\end_inset

.
 Para ver si el tuyo lo está, busca una línea parecida a
\end_layout

\begin_layout LyX-Code

\backslash
LoadClass{book}
\end_layout

\begin_layout Standard
en el archivo.
 Si está, entonces puedes proceder en gran parte como en la sección anterior,
 aunque la línea DeclareLaTeXClass será diferente.
 Si tu nueva clase es tesis y está basada en book, la línea debería poner:
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Y será mucho más fácil si guardas el archivo como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
thesis.layout
\end_layout

\end_inset

: LyX supone que la clase de documento tiene el mismo nombre que el archivo
 de formato.
 
\end_layout

\end_inset


\end_layout

\begin_layout LyX-Code

\backslash
DeclareLaTeXClass[thesis,book]{thesis}
\end_layout

\begin_layout Standard
Si, por el contrario, la nueva clase no está basada en una ya existente,
 probablemente tendrás que ir pensando en tu propio formato.
 Recomendamos firmemente copiar un archivo de formato existente que use
 una clase de LaTeX parecida y modificarlo, si es posible.
 O al menos, usa un archivo existente como punto de partida para ver qué
 items son los que te deben preocupar.
 Los detalles se discuten a continuación.
\end_layout

\begin_layout Section
Declaración de una nueva clase de texto
\end_layout

\begin_layout Standard
Ha llegado por fin el momento de ponerte manos a la obra y crear o editar
 tu propio formato de archivo; las siguientes secciones describen aquello
 a lo que te vas a enfrentar.
 Nuestro consejo es ir despacito, probando y guardando a menudo, escuchando
 música relajante y disfrutando de un par de tus copas favoritas; más si
 estás muy atascado.
 En realidad no es para tanto, pero la multitud de opciones puede llegar
 a abrumarte si intentas hacer muchas cosas a la vez.
 Ve a por otra copa, por si acaso.
\end_layout

\begin_layout Standard
¡Adelante!
\end_layout

\begin_layout Standard
Las líneas de un archivo de formato que empiezan con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 son comentarios.
 Hay una excepción a esta regla: todos los formatos deben comenzar con líneas
 como:
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
N.
\begin_inset space \thinspace{}
\end_inset

del T.
\emph default
: No borrar la línea siguiente; la configuración depende de ella
\end_layout

\end_inset


\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass{article}
\end_layout

\begin_layout Standard
La segunda línea se usa en la configuración de LyX.
 El archivo de formato es leido por el guión de LaTeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
chkconfig.ltx
\end_layout

\end_inset

 de un modo especial tal que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
#
\end_layout

\end_inset

 se ignora.
 La primera línea es solo un comentario y la segunda contiene la declaración
 de la clase de texto.
 Si estas líneas aparecen en un archivo llamado 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article.layout
\end_layout

\end_inset

, entonces definen una clase de texto de nombre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article
\end_layout

\end_inset

 (el nombre del archivo de formato) que usa la clase de documento LaTeX
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

 (por omisión se usa el mismo nombre para ambos).
 La palabra 
\begin_inset Quotes fld
\end_inset

article
\begin_inset Quotes frd
\end_inset

 se utiliza como descripción de la clase de texto y es la que aparece en
 el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Supongamos que has escrito tu propia clase de texto, que utiliza la clase
 de documento 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

, pero en la que has cambiado el aspecto de los encabezados de sección.
 Si lo pones en un archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
myarticle.layout
\end_layout

\end_inset

, la cabecera de este archivo debería ser:
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass[article]{article (con mis encabezados)}
\end_layout

\begin_layout Standard
Esto declara la clase de texto 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
myarticle
\end_layout

\end_inset

, asociada con la clase de documento LaTeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article.cls
\end_layout

\end_inset

, y cuya descripción es 
\begin_inset Quotes fld
\end_inset

article (con mis encabezados)
\begin_inset Quotes frd
\end_inset

.
 Si la clase de texto depende de varios paquetes, puedes declararla así:
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass[article,foo.sty]{article (con mis encabezados)}
\end_layout

\begin_layout Standard
Esto indica que la clase de texto utiliza el paquete foo.sty.
 Finalmente, también es posible declarar clases para código DocBook.
 Una declaración típica podría ser:
\end_layout

\begin_layout LyX-Code

\size small
#% Do not delete the line below; configure depends on this
\end_layout

\begin_layout LyX-Code

\size small
# 
\backslash
DeclareDocBookClass[article]{SGML (DocBook article)}
\end_layout

\begin_layout Standard
Anotar que estas declaraciones pueden llevar también un parámetro opcional
 que declare el nombre de la clase de documento (pero no una lista).
\end_layout

\begin_layout Standard
Así, para ser lo más explícito posible, la forma de la declaración del formato
 es:
\end_layout

\begin_layout LyX-Code

\size small
#  
\backslash
DeclareLaTeXClass[class,package.sty]{descripción del formato}
\end_layout

\begin_layout Standard
La clase solo debe especificarse si el nombre de archivo de la clase LaTeX
 y el nombre de archivo del formato son diferentes; si el nombre del archivo
 de clase no se especifica, LyX simplemente supondrá que es el mismo que
 el del archivo de formato.
\end_layout

\begin_layout Standard
Cuando la clase de texto se ha modificado según tus necesidades, lo que
 debes hacer es copiarla a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/layouts/
\end_layout

\end_inset

 o a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/layouts
\end_layout

\end_inset

, ejecutar 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Reconfigurar
\end_layout

\end_inset

, y reiniciar LyX.
 Ahora la nueva clase de texto debería estar disponible junto con las demás.
\end_layout

\begin_layout Standard
En versiones de LyX anteriores a 1.6, tenías que reiniciar LyX para ver cualquier
 cambio que hicieras en los formatos de archivo.
 Como resultado, la edición de archivos de formato podía llevar mucho tiempo.
 A partir de 1.6, por el contrario, se puede forzar la recarga del formato
 en uso mediante la función LyX 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
layout-reload
\end_layout

\end_inset

.
 No hay atajo predeterminado para esta función —aunque por supuesto, puedes
 asociarle tú mismo una secuencia de teclas—.
 Para usar esta función solo tienes que introducirla en el minibúfer.
 
\emph on
Aviso
\emph default
: Esto es mucho más que una 
\begin_inset Quotes fld
\end_inset

característica avanzada
\begin_inset Quotes frd
\end_inset

.
 Es 
\emph on
muy
\emph default
 recomendable que no intentes editar tu formato mientras estés trabajando
 en un documento que te importe.
 Usa un documento de prueba.
 Los errores sintácticos y similares en tu archivo de formato podrían provocar
 comportamientos extraños.
 En particular, tales errores podrían provocar que LyX vea el formato actual
 como inválido e intente cambiar a algún otro.
 El equipo LyX procura que LyX se mantenga estable en estos casos, pero
 es mejor prevenir que curar.
\end_layout

\begin_layout Subsection
Formato del archivo
\end_layout

\begin_layout Standard
La primera línea no comentada debe contener el número de formato del archivo:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
int
\end_layout

\end_inset

] Esta etiqueta se introdujo en LyX 1.4.0 (los archivos de formato de LyX
 1.3.x y anteriores no tienen un número explícito de formato).
 El número de formato que se explica aquí es 8.
\end_layout

\begin_layout Subsection
Parámetros generales de clases de texto
\end_layout

\begin_layout Standard
Estos son los parámetros generales que describen la forma del documento
 entero:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
AddToPreamble
\end_layout

\end_inset

 Añade información al preámbulo del documento.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

 Describe varias opciones globales soportadas por la clase de documento.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:classoptions"

\end_inset

 para una descripción.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Columns
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
2
\end_layout

\end_inset

] Establece el número de columnas por omisión.
 Se puede cambiar en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Counter
\end_layout

\end_inset

 Esta secuencia define un nuevo contador.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:contadores"

\end_inset

 para detalles.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DefaultFont
\end_layout

\end_inset

 Establece la fuente por omisión para presentar el documento.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

 para cómo declarar fuentes.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndFont
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DefaultModule
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string]
\end_layout

\end_inset

 Especifica un módulo que se incluirá por omisión en esta clase de documento;
 deberá declararse por su nombre de archivo sin la extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

.
 El usuario puede, aún así, quitar el módulo, pero estará activo al principio.
 (Esto se aplica solo cuando se crean archivos nuevos, o si esta clase se
 elige para un documento existente.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DefaultStyle
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Este es el estilo que será asignado a párrafos nuevos, generalmente 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Normal
\end_layout

\end_inset

.
 Si no se especifica, se escogerá por omisión el primer estilo definido,
 pero es muy recomendable usar esta instrucción.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ExcludesModule
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Indica que el módulo en cuestión —que debería especificarse por el nombre
 de archivo sin la extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

— no puede utilizarse con esta clase de documento.
 Esto podría usarse en un archivo de formato específico de una publicación
 para, digamos, impedir el empleo del módulo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
theorems-sec
\end_layout

\end_inset

, que numera los teoremas y demás por secciones.
 Esta etiqueta 
\emph on
no
\emph default
 puede utilizarse en un módulo.
 Los módulos tienen su propia forma de excluir otros módulos (véase
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Módulos-de-formato"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Float
\end_layout

\end_inset

 Define un nuevo flotante.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:flotantes"

\end_inset

 para detalles.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Input
\end_layout

\end_inset

 Como su nombre indica, este comando permite incluir otro archivo de definición
 de formato en el tuyo con el fin de evitar la duplicación de comandos.
 Ejemplos habituales son los archivos de formatos estándar, como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
stdclass.inc
\end_layout

\end_inset

, que contiene la mayoría de los diseños básicos.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 Esta sección (re)define el formato de un recuadro.
 Puede aplicarse a uno existente o a uno nuevo, definido por el usuario,
 p.
\begin_inset space \thinspace{}
\end_inset

e., un nuevo estilo de texto.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:estilo-del-texto"

\end_inset

 para más información.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

 Una cadena que indica la anchura del margen izquierdo en la pantalla, por
 ejemplo 
\begin_inset Quotes fld
\end_inset

MMMMM
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NoFloat
\end_layout

\end_inset

 Este comando borra un flotante existente.
 Es particularmente útil si quieres suprimir un flotante que ha sido definido
 en un archivo de entrada.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NoStyle
\end_layout

\end_inset

 Este comando borra un estilo existente.
 Es particularmente útil si quieres suprimir un estilo que ha sido definido
 en un archivo de entrada.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
OutputType
\end_layout

\end_inset

 Una cadena que indica qué clase de documentos de salida que usan esta clase
 se generarán.
 Por el momento, las opciones son : `docbook', `latex', y `literate'.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\series medium
PageStyle
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
plain
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
empty
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
headings
\end_layout

\end_inset

] El estilo de página predeterminad de la clase.
 Puede cambiarse en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 Establece el preámbulo LaTeX para el documento.
 Anotar que esto anulará completamente cualesquiera declaraciones 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Premable
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
AddToPreamble
\end_layout

\end_inset

 anteriores.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Provides
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:Provides"

\end_inset

[
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Si la clase ya proporciona, o no, la característica 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

.
 Una característica es en general el nombre de un paquete (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
amsmath
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
makeidx
\end_layout

\end_inset

, \SpecialChar \ldots{}
) o una macro (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
url
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
boldsymbol
\end_layout

\end_inset

,\SpecialChar \ldots{}
); la lista completa de características soportadas no está documentada,
 desafortunadamente, fuera del código fuente de LyX —véase 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LaTeXFeatures.cpp
\end_layout

\end_inset

 si hay interés—.
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Ayuda\SpecialChar \menuseparator
Configuración de LaTeX
\end_layout

\end_inset

 también ofrece un vistazo de los paquetes soportados.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ProvidesModule
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Indica que este formato proporciona la funcionalidad del módulo mencionado,
 que deberá especificarse con su nombre de archivo sin la extensión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.module
\end_layout

\end_inset

.
 Esto se usará típicamente si el formato incluye el módulo directamente,
 preferiblemente a usar la etiqueta 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DefaultModule
\end_layout

\end_inset

 para indicar que debería utilizarse.
 Podría ser empleado en un módulo que provea una implementación alternativa
 de la misma funcionalidad.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Requires
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Si la clase requiere la característica
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
 string
\end_layout

\end_inset

.
 Múltiples características deben separarse con comas.
 Multiple features must be separated by commas.
 Anotar que solo se pueden demandar características soportadas.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
RightMargin
\end_layout

\end_inset

 Una cadena que indica la anchura del margen derecho en la pantalla, por
 ejemplo, 
\begin_inset Quotes fld
\end_inset

MMMMM
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
SecNumDepth
\end_layout

\end_inset

 Establece qué divisiones se numeran.
 Corresponde al contador LaTeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
secnumdepth
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Sides
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
2
\end_layout

\end_inset

] Si debe imprimirse en una o en ambas caras del papel.
 Se puede cambiar en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Documento\SpecialChar \menuseparator
Configuración
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

 Esta secuencia define un nuevo estilo de párrafo.
 Si el estilo ya existe, en ese caso se redefinirán algunos de los parámetros.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Estilos-de-párrafo"

\end_inset

 para detalles.
 Debe terminarcon 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string="maketitle"
\end_layout

\end_inset

] El nombre del comando de entorno a usar con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
CommandAfter
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

] Indica qué clase de diseño se emplea para definir el título de un documento.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CommandAfter
\end_layout

\end_inset

 significa que la macro con nombre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

 se insertará después del último formato que tiene 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InTitle 1
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

 corresponde al caso en que el bloque de párrafos que tienen 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InTitle 1
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 debería ser incluido en el entorno 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TocDepth
\end_layout

\end_inset

 Establece qué divisiones se incluyen en el índice general.
 Corresponde al contador LaTeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
tocdepth
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
Sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "sec:classoptions"

\end_inset


\end_layout

\begin_layout Standard
La sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

 puede contener las siguientes entradas:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FontSize
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string="10|11|12"
\end_layout

\end_inset

] La lista de los tamaños de fuente disponibles para la fuente principal
 del documento, separados por 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
|
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Header
\end_layout

\end_inset

 Para establecer la línea DTD con las clases con salida basada en XML.
 P.
\begin_inset space \thinspace{}
\end_inset

e.: PUBLIC 
\begin_inset Quotes fld
\end_inset

-//OASIS//DTD DocBook V4.2//EN
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PageStyle
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string="empty|plain|headings|fancy"
\end_layout

\end_inset

] Lista de los estilos de página disponibles, separados por 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
|
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Other
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] Algunas opciones de clase de documento, separadas por coma, que se añadirán
 a la parte opcional del comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
documentclass
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
La sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ClassOptions
\end_layout

\end_inset

 debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Subsection
Estilos de párrafo
\begin_inset CommandInset label
LatexCommand label
name "sub:Estilos-de-párrafo"

\end_inset


\end_layout

\begin_layout Standard
Una descripción de estilo de párrafo tiene una aspecto como éste:
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Anotar que esto definirá un nuevo diseño o modificará uno existente.
\end_layout

\end_inset


\end_layout

\begin_layout LyX-Code
Style 
\family roman
\emph on
name
\end_layout

\begin_layout LyX-Code
 ...
\end_layout

\begin_layout LyX-Code
End
\end_layout

\begin_layout Standard
donde se permiten los comandos siguientes:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Align
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
block
\emph default
, left, right, center
\end_layout

\end_inset

] Alineación del párrafo.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
AlignPossible
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
block
\emph default
, left, right, center
\end_layout

\end_inset

] Una lista separada con comas de alineaciones permitidas.
 (Algunos estilos de LaTeX prohiben ciertos alineamientos, ya que no tendrían
 sentido.
 Por ejemplo una alineación a la derecha o al centro de una lista numerada
 no es posible).
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
BottomSep
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=0
\end_layout

\end_inset

]
\begin_inset Foot
status open

\begin_layout Plain Layout
Anotar que aquí un 'float' es un número de verdad, como: 1.5.
\end_layout

\end_inset

 El espacio vertical con el que el último de una cadena de párrafos con
 este formato se separa del siguiente párrafo.
 Si el párrafo siguiente tiene otro diseño, las separaciones no son simplemente
 añadidas sino que se pone la máxima.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Category
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
[string]
\end_layout

\end_inset

 La categoría para este estilo.
 Se usa para agrupar estilos relacionados en el recuadro de formato en la
 barra de herramientas.
 Se puede poner cualquier cadena en 'string' pero mejor usar categorías
 existentes con tus propios estilos.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CommandDepth
\end_layout

\end_inset

 Profundidad del comando XML.
 Usado solo con formatos tipo XML.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:CopyStyle"

\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
[string]
\end_layout

\end_inset

 Copia todas las características de un estilo existente en el actual.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DependsOn
\end_layout

\end_inset

 El nombre de un estilo cuyo preámbulo debería salir 
\emph on
antes
\emph default
 que éste.
 Esto permite asegurar un orden de los retazos de preámbulo si las definiciones
 de macros dependen de otra.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Anotar que, excepto esta funcionalidad, no hay forma de asegurar ningún
 orden de los preámbulos.
 El orden que se ve en una versión dada de LyX puede cambiar sin previo
 aviso en versiones posteriores.
\end_layout

\end_inset


\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndLabeltype
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
No_Label
\emph default
, Box, Filled_Box, Static
\end_layout

\end_inset

] El tipo de etiqueta que se pone al final del párrafo (o secuencia de párrafos
 si 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

 es 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
List_Environment
\end_layout

\end_inset

).
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
No_Label
\end_layout

\end_inset

 quiere decir 
\begin_inset Quotes fld
\end_inset

nada
\begin_inset Quotes frd
\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Box
\end_layout

\end_inset

 (resp.
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
\begin_inset space ~
\end_inset

Filled_Box
\end_layout

\end_inset

) es un cuadrado blanco (resp.
\begin_inset space ~
\end_inset

negro) adecuado para marcas finales de demostraciones, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 es una cadena de texto explícito.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndLabelString
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] La cadena usada para una etiqueta con un 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndLabelType
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Fill_Bottom
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

] Similar a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Fill_Top
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Fill_Top
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\emph default
,1
\end_layout

\end_inset

] Con este parámetro se puede poner el valor 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Relleno
\end_layout

\end_inset

 de la lista 
\begin_inset Quotes fld
\end_inset

Espacio vertical encima
\begin_inset Quotes frd
\end_inset

 del diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Editar\SpecialChar \menuseparator
Configuración del párrafo
\end_layout

\end_inset

, cuando se inicia un párrafo con este estilo.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Nota de Jean-Marc:
\emph default
 No estoy seguro de que esta configuración tenga mucho uso, y probablemente
 se quitará en próximas versiones.
\end_layout

\end_inset

 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

 La fuente usada para el cuerpo del texto 
\emph on
y
\emph default
 para la etiqueta.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

.
 Anotar que al definir esta fuente se define automáticamente la de la etiqueta,
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

.
 Así que debería definirse primero ésta si se quiere definir también 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:FreeSpacing"

\end_inset

[
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Usualmente LyX no permite insertar más de un espacio entre palabras, puesto
 que un espacio se considera como la separación entre dos palabras, no un
 carácter o símbolo por sí mismo.
 Esto es una buena cosa pero a veces puede ser molesta, por ejemplo, para
 escribir código de programas o de LaTeX puro.
 Por esta razón se puede habilitar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

.
 Anotar que LyX creará espacios protegidos para los espacios adicionales
 en modos que no sean LaTeX.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InnerTag
\end_layout

\end_inset

 [[FIXME]] (Usado solo con formatos tipo XML.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InTitle
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
[1, 0]
\end_layout

\end_inset

 Si es 1, marca el formato como parte de un pequeño bloque (véanse también
 las entradas 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexType
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TitleLatexName
\end_layout

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ItemSep
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=0
\end_layout

\end_inset

] Esto proporciona espacio extra entre párrafos que tienen el mismo formato.
 Si se ponen otros formatos en un entorno, cada uno es separado con el comando
 de entorno 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Parsep
\end_layout

\end_inset

.
 Pero el conjunto de los ítems del entorno son separados adicionalmente
 con este 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Itemsep
\end_layout

\end_inset

.
 Anotar que esto es un
\emph on
 multiplicador.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ItemTag
\end_layout

\end_inset

 [[FIXME]] (Usado solo con formatos tipo XML.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
KeepEmpty
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:KeepEmpty"

\end_inset

[
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Habitualmente, LyX no permite dejar un párrafo vacío, porque llevaría
 a una salida de LaTeX vacía.
 Sin embargo, hay algunos casos donde podría ser útil: en una plantilla
 de carta, los campos requeridos pueden proporcionarse vacíos, así el usuario
 no los olvida; en algunos casos especiales, se puede usar un formato que
 no contiene texto real como una especie de salto.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelBottomsep
\end_layout

\end_inset

 [float=0] El espacio vertical entre la etiqueta y el cuerpo del texto.
 Solo se usa para etiquetas que están sobre el cuerpo del texto (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Top_Environment
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Centered_Top_Environment
\end_layout

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelCounter
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] El nombre del contador para numeración automática (véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:contadores"

\end_inset

 para detalles).
 Esto debe darse si 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Labeltype
\end_layout

\end_inset

 es 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Counter
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 La fuente usada para la etiqueta.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelIndent
\end_layout

\end_inset

 Texto que indica cuánto se debe sangrar una etiqueta.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Labelsep
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] El espacio horizontal entre la etiqueta y el cuerpo del texto.
 Solo se usa para etiquetas que no están sobre el cuerpo del texto.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] La cadena usada para una etiqueta del tipo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

.
 Si 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelCounter
\end_layout

\end_inset

 está establecido, esta cadena puede contener los comandos especiales de
 formato descritos en la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:contadores"

\end_inset

.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Por motivos de compatibilidad retroactiva, la cadena 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
@
\emph on
style-name
\emph default
@
\end_layout

\end_inset

 será reemplazada por la ampliada 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 de estilo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
style-name
\end_layout

\end_inset

.
 Esta característica ahora está obsoleta y debería reemplazarse por los
 mecanismos de la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:contadores"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] Esta se usa en el apéndice en vez de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

.
 Anotar que toda declaración de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 reconfigura también 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelTag
\end_layout

\end_inset

 [FIXME] (Usado solo con formatos tipo XML.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Labeltype
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
No_Label
\emph default
, Manual, Static, Top_Environment, 
\begin_inset Newline newline
\end_inset

Centered_Top_Environment, Sensitive, Counter
\end_layout

\end_inset

] 
\begin_inset Newline newline
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 significa que la etiqueta es la primera palabra (hasta el primer espacio
 real).
\begin_inset Foot
status open

\begin_layout Plain Layout
Usa espacios protegidos si quieres más de una palabra como etiqueta.
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 significa que está definida en el formato (véase 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

).
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Top_Environment
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Centered_Top_Environment
\end_layout

\end_inset

 son casos especiales de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

.
 La etiqueta se imprimirá sobre el párrafo, pero solo al principio de un
 entorno o de una cadena de párrafos con este formato.
 Ejemplos habituales son los formatos 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Abstract
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Bibliography
\end_layout

\end_inset

.
 También es éste el caso para etiquetas tipo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

 tipo latex, con el fin de que los formatos para teoremas funcionen correctament
e.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Sensitive
\end_layout

\end_inset

 es un caso especial para las etiquetas de las leyendas de 
\begin_inset Quotes fld
\end_inset

Figura
\begin_inset Quotes frd
\end_inset

 y 
\begin_inset Quotes fld
\end_inset

Tabla
\begin_inset Quotes frd
\end_inset

.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Sensitive
\end_layout

\end_inset

 quiere decir que la cadena (en código duro) de la etiqueta depende de la
 clase de flotante.
 El tipo de etiqueta 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Counter
\end_layout

\end_inset

 define automáticamente etiquetas numeradas.
 Véase la sección
\begin_inset space ~
\end_inset

 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:contadores"

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

 El nombre correspondiente en LaTeX, ya sea de un comando o de un entorno.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexParam
\end_layout

\end_inset

 Un parámetro opcional para el correspondiente 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

.
 Este parámetro no se puede cambiar desde dentro de LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:LatexType"

\end_inset

[
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
Paragraph
\emph default
, Command, Environment, Item_Environment,
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
List_Environment
\end_layout

\end_inset

] Cómo debería el formato traducirse a LaTeX.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Paragraph
\end_layout

\end_inset

 significa nada especial.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Command
\end_layout

\end_inset

 significa 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash

\emph on
LatexName
\emph default
{\SpecialChar \ldots{}
}
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

 significa
\begin_inset Newline linebreak
\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{
\emph on
LatexName
\emph default
}\SpecialChar \ldots{}

\backslash
end{
\emph on
LatexName
\emph default
}
\end_layout

\end_inset

.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

 es lo mismo que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Environment
\end_layout

\end_inset

, excepto que se genera un 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
item
\end_layout

\end_inset

 para cada párrafo de este entorno.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
List_Environment
\end_layout

\end_inset

 es lo mismo que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Item_Environment
\end_layout

\end_inset

, excepto que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelWidthString
\end_layout

\end_inset

 se pasa como argumento al entorno.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelWidthString
\end_layout

\end_inset

 puede definirse en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Configuración del párrafo
\end_layout

\end_inset

.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
LatexType
\end_layout

\end_inset

 es quizá un poco confuso, porque estas reglas se aplican también a las
 clases SGML.
 Echa un vistazo a los archivos de las clases SGML para ejemplos específicos.
\end_layout

\begin_layout Standard
Poniendo juntas estas últimas cosas, la salida LaTeX será una de estas:
\end_layout

\begin_layout LyX-Code

\backslash
latexname[latexparam]{\SpecialChar \ldots{}
}
\end_layout

\begin_layout Standard
o: 
\end_layout

\begin_layout LyX-Code

\backslash
begin{latexname}[latexparam] \SpecialChar \ldots{}
 
\backslash
end{latexname}.
\end_layout

\begin_layout Standard
dependiendo del tipo de LaTeX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] Si pones formatos en entornos, los márgenes izquierdos no son simplemente
 añadidos, sino aumentados en un factor 
\begin_inset Formula $\frac{4}{depth+4}$
\end_inset

.
 Anotar que este parámetro se usa también cuando el margen se define como
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Dynamic
\end_layout

\end_inset

.
 En ese caso se añade al margen manual o dinámico.
 
\begin_inset Newline newline
\end_inset

El argumento se pasa como una cadena de caracteres.
 Por ejemplo 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
MM
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 significa que el párrafo se sangra con la anchura de 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
MM
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 en la fuente normal.
 Se puede obtener una anchura negativa anteponiendo 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
-
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 a la cadena.
 Se eligió este método para que el aspecto sea el mismo con cada una de
 las fuentes de pantalla usadas.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Margin
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
Static
\emph default
, Manual, Dynamic, First_Dynamic, Right_Address_Box
\end_layout

\end_inset

] 
\begin_inset Newline newline
\end_inset

El tipo de margen que el formato tiene en el lado izquierdo.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Static
\end_layout

\end_inset

 significa un margen fijo.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Manual
\end_layout

\end_inset

 significa que el margen izquierdo depende de la cadena introducida en el
 diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Editar\SpecialChar \menuseparator
Configuración del párrafo\SpecialChar \ldots{}

\end_layout

\end_inset

.
 Esto se utiliza para componer bonitas listas sin tabuladores.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Dynamic
\end_layout

\end_inset

 significa que el margen depende del tamaño de la etiqueta.
 Esto se usa para las cabeceras automáticas de las listas numeradas.
 Es obvio que la cabecera 
\begin_inset Quotes fld
\end_inset

5.4.3.2.1 Cabecera muy larga
\begin_inset Quotes frd
\end_inset

 debe tener un margen izquierdo más amplio (tan ancho como 
\begin_inset Quotes fld
\end_inset

5.4.3.2.1
\begin_inset Quotes frd
\end_inset

 más el espacio) que 
\begin_inset Quotes fld
\end_inset

3.2 Cabecera muy larga
\begin_inset Quotes frd
\end_inset

, aunque los 
\begin_inset Quotes fld
\end_inset

procesadores de texto
\begin_inset Quotes frd
\end_inset

 corrientes no sean capaces de hacer esto.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
First_Dynamic
\end_layout

\end_inset

 es similar, pero solo la primera fila del párrafo es dinámica, mientras
 que las demás son estáticas; esto se emplea, por ejemplo, para descripciones.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Right_Address_Box
\end_layout

\end_inset

 significa que el margen se elige de manera que la fila más larga de este
 párrafo se adapte al margen derecho.
 Esto se emplea para componer una dirección en el lado derecho de la página.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NeedProtect
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Si los comandos frágiles en este formato deberían ser protegidos, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
protect
\end_layout

\end_inset

.
 (Nota: es 
\emph on
no 
\emph default
si este comando debería él mismo ser protegido.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Newline
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
1
\end_layout

\end_inset

] Si las líneas nuevas se transforman en líneas nuevas LaTeX (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash

\backslash

\end_layout

\end_inset

) o no.
 La transformación puede desactivarse para permitir una edición más confortable
 de LaTeX en LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NextNoIndent
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

] Si se permite sangrar la primera fila del párrafo siguiente.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

 significa que no se permite hacerlo; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

 significa que puede hacerse si se desea.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ObsoletedBy
\end_layout

\end_inset

 Nombre de un formato que ha reemplazado este formato.
 Esto se emplea para renombrar un formato, mientras que se mantiene compatibilid
ad hacia atrás.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
OptionalArgs
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
int=0
\end_layout

\end_inset

] El número de argumentos opcionales que pueden usarse con este formato.
 Esto es útil para cosas como encabezados de sección, y solo tiene sentido
 con LaTeX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ParIndent
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] El sangrado de la primera línea de un párrafo.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Parindent
\end_layout

\end_inset

 estará fijado para un determinado formato.
 La excepción es el formato Normal, puesto que la sangría de un párrafo
 de formato Normal puede prohibirse con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NextNoIndent
\end_layout

\end_inset

.
 Además, los párrafos de formato Normal dentro de entornos usan la sangría
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Parindent
\end_layout

\end_inset

 del entorno, no su propio valor.
 Por ejemplo, los párrafos Normales en una enumeración no se sangran.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Parsep
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=0
\end_layout

\end_inset

] El espacio vertical entre dos párrafos de este formato.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Parskip
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=0
\end_layout

\end_inset

] LyX permite al usuario elegir entre 
\begin_inset Quotes fld
\end_inset

sangrado
\begin_inset Quotes frd
\end_inset

 o 
\begin_inset Quotes fld
\end_inset

espacio vertical
\begin_inset Quotes frd
\end_inset

 para componer un documento.
 Si se elige 
\begin_inset Quotes fld
\end_inset

sangrado
\begin_inset Quotes frd
\end_inset

, este valor es completamente ignorado.
 Si se elige 
\begin_inset Quotes fld
\end_inset

espacio vertical
\begin_inset Quotes frd
\end_inset

, el sangrado de un formato tipo 
\begin_inset Quotes fld
\end_inset

Párrafo
\begin_inset Quotes frd
\end_inset

 de LaTeX se ignora y todos los párrafos son separados con este argumento
 
\begin_inset Quotes fld
\end_inset

parskip
\begin_inset Quotes frd
\end_inset

.
 El espacio vertical se calcula con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
value
\begin_inset space ~
\end_inset

* DefaultHeight
\end_layout

\end_inset

, donde 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
DefaultHeight
\end_layout

\end_inset

 es la altura de una fila con la fuente normal.
 De esta forma, el aspecto queda igual con diferentes fuentes de pantalla.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PassThru
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:PathThru"

\end_inset

[
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Si el contenido de este párrafo debería aparecer en la salida en forma
 cruda, es decir sin las traducciones especiales que LaTeX necesitaría.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 
\begin_inset CommandInset label
LatexCommand label
name "des:Preamble"

\end_inset

Información a incluir en el preámbulo LaTeX cuando se usa este estilo.
 Utilizado para definir macros, paquetes a cargar, etc., requeridos por este
 estilo en particular.
 Debe terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
EndPreamble
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Requires 
\end_layout

\end_inset


\series medium
[
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

]
\series default
 
\begin_inset CommandInset label
LatexCommand label
name "des:Requires"

\end_inset

Si el formato requiere la característica 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

.
 Véase arriba (página 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:Provides"

\end_inset

) la descripción de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Provides
\end_layout

\end_inset

 para información sobre 'características'.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
RightMargin
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string=""
\end_layout

\end_inset

] Similar a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LeftMargin
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Spacing
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
single
\emph default
, onehalf, double, other
\end_layout

\end_inset

 
\emph on
value
\emph default
] Esto define cuál debería ser el espacio predefinido en el formato.
 Los argumentos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
single
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
onehalf
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
double
\end_layout

\end_inset

 corresponden respectivamente a un multiplicador de 1, 1.25 y 1.667.
 Si se especifica el argumento 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
other
\end_layout

\end_inset

, entonces se debería proporcionar además un argumento numérico que será
 el valor real del multiplicador.
 Anotar que, al contrario que otros parámetros, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Spacing
\end_layout

\end_inset

 implica la generación de código LaTeX específico, usando el paquete 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
setspace.sty
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TextFont
\end_layout

\end_inset

 La fuente para el cuerpo del texto.
 Véase la sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\series medium
TocLevel [int]
\end_layout

\end_inset

 El nivel del estilo en el índice general.
 Esto se usa para la numeración automática de los encabezados de sección.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TopSep
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float=0
\end_layout

\end_inset

] El espacio vertical con el que el primero de una cadena de párrafos con
 este formato se separa del párrafo anterior.
 Si el párrafo anterior tiene otro formato, la separación no es simplemente
 añadida, sino que se pone la máxima.
\end_layout

\begin_layout Subsection
Flotantes
\begin_inset CommandInset label
LatexCommand label
name "sec:flotantes"

\end_inset


\end_layout

\begin_layout Standard
Desde la versión 1.3.0 de LyX, ha sido posible y necesario definir los flotantes
 (
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
figura
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
tabla
\end_layout

\end_inset

, \SpecialChar \ldots{}
) en la propia clase de texto.
 Los flotantes normales se incluyen en el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
stdfloats.inc
\end_layout

\end_inset

, así que no tendrás más que añadir
\end_layout

\begin_layout LyX-Code
Input stdfloats.inc
\end_layout

\begin_layout Standard
en tu archivo de formato.
 Si quieres implementar una clase de texto que proponga algún otro tipo
 de flotante (como la clase AGU empaquetada con LyX), la información siguiente
 te servirá de ayuda:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Extension
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] La extensión del nombre de un archivo auxiliar para la lista de figuras
 (u otra cosa).
 LaTeX escribe las leyendas en este archivo.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
GuiName
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] La cadena que se usará en los menús y también para la leyenda.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LaTeXBuiltin
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Poner 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

 si el flotante ya está definido por la clase de documento LaTeX.
 Si se pone 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
0
\end_layout

\end_inset

, el flotante será definido usando el paquete LaTeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
float
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ListName
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] El encabezado usado para la lista de flotantes.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NumberWithin
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] Este argumento (opcional) determina si los flotantes de esta clase serán
 numerados dentro de alguna unidad de sección del documento.
 Por ejemplo, si es igual a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
chapter
\end_layout

\end_inset

, los flotantes serán numerados dentro de los capítulos.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Placement
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] La colocación por omisión para la clase dada de flotantes.
 El valor de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

 deberá ser un estándar LaTeX: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
t
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
b
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
p
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
h
\end_layout

\end_inset

, por 
\begin_inset Quotes fld
\end_inset

top
\begin_inset Quotes frd
\end_inset

 (arriba), 
\begin_inset Quotes fld
\end_inset

bottom
\begin_inset Quotes frd
\end_inset

 (abajo), 
\begin_inset Quotes fld
\end_inset

page
\begin_inset Quotes frd
\end_inset

 (página), y 
\begin_inset Quotes fld
\end_inset

here
\begin_inset Quotes frd
\end_inset

 (aquí), respectivamente.
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Anotar que el orden de estas letras en la cadena es irrelevante, como en
 LaTeX.
\end_layout

\end_inset

 Por encima de éstos hay un nuevo tipo, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
H
\end_layout

\end_inset

, que no corresponde realmente a un flotante, ya que se refiere a: ponerlo
 aquí, 
\begin_inset Quotes fld
\end_inset

here
\begin_inset Quotes frd
\end_inset

, y en ninguna otra parte.
 Anotar que, sin embargo, el colocador 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
H
\end_layout

\end_inset

 es especial y, debido a detalles de implementación, no puede usarse en
 tipos de flotantes no empotrados.
 Si no comprendes lo que esto significa, usa solo 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
tbp
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Style
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] El estilo usado cuando se define el flotante con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
newfloat
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Type
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=
\begin_inset Quotes erd
\end_inset


\begin_inset Quotes erd
\end_inset

] El 
\begin_inset Quotes fld
\end_inset

tipo
\begin_inset Quotes frd
\end_inset

 de la nueva clase de flotante, como programa o algoritmo.
 Después del apropiado 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
newfloat
\end_layout

\end_inset

, comandos tales como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{program}
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
end{algorithm*}
\end_layout

\end_inset

 estarán disponibles.
\end_layout

\begin_layout Standard
Anotar que al definir un flotante con tipo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
type
\end_layout

\end_inset

 automáticamente se define el correspondiente contador con nombre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
type
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
Recuadros flexibles y formato del recuadro
\begin_inset CommandInset label
LatexCommand label
name "sec:estilo-del-texto"

\end_inset


\end_layout

\begin_layout Standard
LyX ha soportado estilos de texto desde la versión 1.4.0; desde la versión
 1.6.0, estos son denominados recuadros flexibles.
 
\end_layout

\begin_layout Standard
Los recuadros flexibles son de tres tipos: 
\end_layout

\begin_layout Itemize
estilo del texto (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CharStyle
\end_layout

\end_inset

): estos definen diseños semánticos correspondientes a comandos LaTeX como
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
noun
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
code
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
definido por el usuario (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Custom
\end_layout

\end_inset

): estos se pueden usar para definir recuadros plegables personalizados,
 del tipo de los de código TeX, notas al pie y similares.
 Un ejemplo obvio es un recuadro de nota final, definido en el módulo del
 mismo nombre (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
endnotes
\end_layout

\end_inset

).
\end_layout

\begin_layout Itemize
elementos XML (
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Element
\end_layout

\end_inset

): para usar con las clases DocBook.
\end_layout

\begin_layout Standard
Los recuadros flexibles se definen usando la etiqueta 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

, que se explicará en un momento.
\end_layout

\begin_layout Standard
La etiqueta 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 también sirve para otra función: puede utilizarse para personalizar el
 diseño general de muchos tipos diferentes de recuadros.
 Actualmente, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 permite personalizar los parámetros de diseño de notas al pie, notas al
 margen, notas, recuadros de código TeX, ramas, listados de programa, índices,
 cuadros, tablas, algoritmos, URL, y argumentos opcionales, así como para
 definir recuadros flexibles.
\end_layout

\begin_layout Standard
La definición de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 debe comenzar con una línea de la forma:
\end_layout

\begin_layout LyX-Code
InsetLayout <Type>
\end_layout

\begin_layout Standard
Aquí, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
<Type>
\end_layout

\end_inset

 indica el recuadro cuyo formato se va a definir, y hay dos casos.
\end_layout

\begin_layout Enumerate
Se va a modificar el formato para un tipo de recuadro preexistente.
 En este caso,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
<Type>
\end_layout

\end_inset

 puede ser uno cualquiera de los siguientes: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Algorithm
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Branch
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Box
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Box:shaded
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ERT
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Figure
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Foot
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Index
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Info
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Info:menu
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Info:shortcut
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Info:shortcuts
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Listings
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Marginal
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Note:Comment
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Note:Note
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Note:GreyedOut
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
OptArg
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Table
\end_layout

\end_inset

, or 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
URL
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Enumerate
Se va a definir el formato para un recuadro flexible.
 En este caso, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
<Type>
\end_layout

\end_inset

 puede ser cualquier identificador válido no utilizado por un recuadro preexiste
nte.
 Anotar que la definición de un flexible debe incluir 
\emph on
además
\emph default
 una entrada 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXType
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
La definición de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InsetLayout
\end_layout

\end_inset

 puede contener las siguientes entradas:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
BgColor
\end_layout

\end_inset

 El color para el fondo del recuadro.
 Los colores válidos son los definidos en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
src/ColorCode.h
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CopyStyle
\end_layout

\end_inset

 Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand ref
reference "des:CopyStyle"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
CustomPars
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Indica si el usuario puede emplear el diálogo Configuración del párrafo
 para modificar el párrafo.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Decoration
\end_layout

\end_inset

 Puede ser 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Classic
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Minimalistic
\end_layout

\end_inset

, o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Conglomerate
\end_layout

\end_inset

, que describe el estilo de presentación para el marco y los botones del
 recuadro.
 Las notas al pie usan generalmente 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Classic
\end_layout

\end_inset

, los recuadros de código TeX 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Minimalistic
\end_layout

\end_inset

, y los de estilos del texto 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Conglomerate
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset

 Requerido al final de las declaraciones de formato del recuadro.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

 La fuente usada tanto para el cuerpo del texto como para la etiqueta.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

.
 Anotar que al definir esta fuente se define automáticamente el mismo valor
 para la etiqueta, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

, así que define aquella primero y después define 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 si las quieres diferentes.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ForceLTR
\end_layout

\end_inset

 Fuerza el idioma 
\begin_inset Quotes fld
\end_inset

latex
\begin_inset Quotes frd
\end_inset

 que genera salida Izquierda-Derecha (latin), p.
\begin_inset space \thinspace{}
\end_inset

e.
\begin_inset space \space{}
\end_inset

en ERT o URL.
 Un parche.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ForcePlain
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Indica si debería usarse PlainLayout o, por el contrario el usuario puede
 cambiar el estilo de párrafo del recuadro.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FreeSpacing
\end_layout

\end_inset

 Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:FreeSpacing"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
KeepEmpty
\end_layout

\end_inset

 Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:KeepEmpty"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelFont
\end_layout

\end_inset

 La fuente para la etiqueta.
 Véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:fuentes"

\end_inset

.
 Anotar que esta definición nunca puede aparecer antes de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Font
\end_layout

\end_inset

, para que sea efectiva.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 Lo que se mostrará sobre el botón u otra parte como etiqueta del recuadro.
 Algunos tipos de recuadro (ERT y ramas) modifican esta etiqueta sobre la
 marcha.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

 El nombre LaTeX correspondiente al asunto.
 Cualquier nombre de entorno o de comando.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexParam
\end_layout

\end_inset

 El parámetro opcional para el correspondiente 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexName
\end_layout

\end_inset

, incluyendo posibles pares de corchetes, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
[]
\end_layout

\end_inset

.
 Este parámetro no se puede cambiar desde dentro de LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LatexType
\end_layout

\end_inset

 Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:LatexType"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyxType 
\end_layout

\end_inset

 Puede ser 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
charstyle
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
custom
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
element
\end_layout

\end_inset

, o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
end
\end_layout

\end_inset

 (indicando una definición ficticia que finaliza definiciones de estilos
 de texto, etc).
 Esta entrada es requerida y solo es significativa para recuadros flexibles.
 Entre otras cosas, determina en qué menús aparecerá este recuadro.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
MultiPar
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Indica si se permiten múltiples párrafos en este recuadro.
 Además establecerá para CustomPars el mismo valor y para ForcePlain el
 valor opuesto.
 Estos pueden modificarse a otros valores si se usan 
\emph on
después
\emph default
 de MultiPar.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NeedProtect
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Si los comandos frágiles deben o no ser 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
protect
\end_layout

\end_inset

'ed en este formato.
 (Nota: es 
\emph on
no
\emph default
 si el comando mismo debe ser protegido
\emph on
.)
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PassThru
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
0
\end_layout

\end_inset

,
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
1
\end_layout

\end_inset

] Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand ref
reference "des:PathThru"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Preamble
\end_layout

\end_inset

 Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:Preamble"

\end_inset

).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Requires 
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Como con los estilos de párrafo (véase 
\begin_inset CommandInset ref
LatexCommand pageref
reference "des:Requires"

\end_inset

).
\end_layout

\begin_layout Subsection
Contadores
\begin_inset CommandInset label
LatexCommand label
name "sec:contadores"

\end_inset


\end_layout

\begin_layout Standard
Desde la versión 1.3.0 de LyX, es posible y necesario definir los contadores
 (
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
chapter
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
figure
\end_layout

\end_inset

, \SpecialChar \ldots{}
) en la propia clase de texto.
 Los contadores estándar están definidos en el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
stdcounters.inc
\end_layout

\end_inset

, de modo que no tienes más que añadir
\end_layout

\begin_layout LyX-Code
Input stdcounters.inc
\end_layout

\begin_layout Standard
en el archivo de formato para que funcionen.
 Pero si quieres puedes definir contadores personalizados.
 La declaración de un contador debe comenzar con:
\end_layout

\begin_layout LyX-Code
Counter nombre
\end_layout

\begin_layout Standard
donde 'nombre' es el que des al contador.
 Hay que terminar con 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
End
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

.
 Se pueden usar además los parámetros siguientes:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=""] Si se define esta cadena, indica cómo se muestra el contador.
 Al establecer este valor también se da el mismo valor a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

.
 Para los valores de 'string' se pueden usar las estructuras siguientes:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
thecounter
\end_layout

\end_inset

 será reemplazado por la expansión de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset


\begin_inset Newline linebreak
\end_inset

 (o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

) del contador 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
counter
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Itemize
los valores del contador pueden expresarse usando macros tipo LaTeX como
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash

\emph on
numbertype
\emph default
{
\emph on
counter
\emph default
}
\end_layout

\end_inset

, donde 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
numbertype
\end_layout

\end_inset

 puede ser:
\begin_inset Foot
status open

\begin_layout Plain Layout
En realidad, la situación es un poco más complicada: cualquier 
\emph on
numbertype
\emph default
 distinto de los descritos a continuación generará números arábigos.
 No sería una sorpresa ver esto cambiado en el futuro.
\end_layout

\end_inset

 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
arabic
\end_layout

\end_inset

: 1, 2, 3,\SpecialChar \ldots{}
; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
alph
\end_layout

\end_inset

 para minúsculas: a, b, c, \SpecialChar \ldots{}
; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Alph
\end_layout

\end_inset

 para mayúsculas: A, B, C, \SpecialChar \ldots{}
; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
roman
\end_layout

\end_inset

 números romanos en minúscula: i, ii, iii, \SpecialChar \ldots{}

\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\size normal
\emph on
\color none
N.
\begin_inset space \thinspace{}
\end_inset

del T.
\emph default
: El estilo 
\family sans

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
\size normal
\color none
spanish
\end_layout

\end_inset


\family default
 de 
\family sans

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
\size normal
\color none
babel
\end_layout

\end_inset


\family default
\size default
\color inherit
 los transforma automáticamente en versalitas
\noun on
, i, ii
\noun default
\SpecialChar \ldots{}
, ya que los romanos en minúscula no se usan en español.
 
\end_layout

\end_inset

; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Roman
\end_layout

\end_inset

 para romanos en mayúsculas: I, II, III\SpecialChar \ldots{}
; 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
hebrew
\end_layout

\end_inset

 para números hebreos.
\end_layout

\end_deeper
\begin_layout Standard
Si no se define LabelString, se construye un valor por omisión así: si el
 contador tiene un contador maestro 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
master
\end_layout

\end_inset

 (definido mediante 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Within
\end_layout

\end_inset

), se usa la cadena 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
themaster.
\backslash
arabic{counter}
\end_layout

\end_inset

; si no, se usa la cadena 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
arabic{counter}
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelStringAppendix
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=""] Lo mismo que 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LabelString
\end_layout

\end_inset

, pero para el apéndice.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Within
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

=""] Si esto se establece para el nombre de otro contador, el presente contador
 se reiniciará cada vez que el otro aumente.
 Por ejemplo, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
subsection
\end_layout

\end_inset

 se numera dentro de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
section
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
Descripción de las fuentes
\begin_inset CommandInset label
LatexCommand label
name "sec:fuentes"

\end_inset


\end_layout

\begin_layout Standard
Una descripción de una fuente se ve como:
\end_layout

\begin_layout LyX-Code
Font 
\family roman
\emph on
or
\family default
\emph default
 LabelFont
\end_layout

\begin_layout LyX-Code
 ...
\end_layout

\begin_layout LyX-Code
EndFont
\end_layout

\begin_layout Standard
Están disponibles los comandos siguientes:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Color
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
none
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
black
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
white
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
red
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
green
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
blue
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
cyan
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
magenta
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
yellow
\end_layout

\end_inset

]
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Family
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
Roman
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Sans
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Typewriter
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Misc
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
string
\end_layout

\end_inset

] Son argumentos válidos: 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
emph
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
noun
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
underbar
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
no_emph
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
no_noun
\end_layout

\end_inset

 and 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
no_bar
\end_layout

\end_inset

.
 Cada uno de ellos activa o desactiva el atributo correspondiente.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Series
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
Medium
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Bold
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Shape
\end_layout

\end_inset

 [
\emph on

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
Up
\end_layout

\end_inset


\emph default
, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Italic
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
SmallCaps
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Slanted
\end_layout

\end_inset

] 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Size
\end_layout

\end_inset

 [
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
tiny
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
small
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\emph on
normal
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
large
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
larger
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
largest
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
huge
\end_layout

\end_inset

, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
giant
\end_layout

\end_inset

]
\end_layout

\begin_layout Subsection
Actualización de antiguos archivos de formato
\end_layout

\begin_layout Standard
El formato de archivo de los archivos de formato cambia de vez en cuando,
 de modo que los antiguos archivos de formato deben ser convertidos.
 Desde LyX 1.4.0 este proceso ha sido automatizado: si LyX lee un archivo
 de formato con formato antiguo lanzará la herramienta de conversión 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/scripts/layout2layout.py
\end_layout

\end_inset

, que lo convierte a un archivo temporal con el formato actual.
 El archivo original se deja sin tocar.
 Si lo quieres convertir permanentemente, ejecuta el convertidor a mano:
\end_layout

\begin_layout LyX-Code
python $LyXDir/scripts/layout2layout.py myclass.layout myclassnew.layout
\end_layout

\begin_layout Standard
(Debes reemplazar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$LyXDir
\end_layout

\end_inset

 con el nombre de tu directorio LyX en el sistema, a menos que lo tengas
 ya definido con una variable de entorno).
 Después copia 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
myclassnew.layout
\end_layout

\end_inset

 a 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/layouts/
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
La conversión automática solo maneja cambios de sintaxis.
 No puede manejar el caso en el que el contenido de archivos incluidos fue
 cambiado, así pues estos tendrán que convertirse separadamente.
\end_layout

\begin_layout Section
Creación de plantillas
\begin_inset CommandInset label
LatexCommand label
name "sec:Creación-de-plantillas"

\end_inset


\end_layout

\begin_layout Standard
Las plantillas se crean igual que los documentos normales.
 La única diferencia es que los documentos usuales contienen todas las configura
ciones posibles, incluyendo los esquemas de las fuentes y el tamaño del
 papel.
 Generalmente, un usuario no quiere una plantilla para sobrescribir los
 valores predefinidos en estos casos.
 Por esta razón, el diseñador de una plantilla debería quitar los correspondient
es comandos como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
fontscheme
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
papersize
\end_layout

\end_inset

 del archivo de la plantilla LyX.
 Esto se puede hacer con cualquier editor de texto, como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
vi
\end_layout

\end_inset

 o 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
xedit
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Los archivos editados de plantillas que has creado se ponen en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/templates/
\end_layout

\end_inset

, copia los que uses desde el directorio global de plantillas 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/templates/
\end_layout

\end_inset

 al mismo sitio y redefine la ruta de las plantillas en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias\SpecialChar \menuseparator
Rutas
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Ten en cuenta que hay una plantilla que tiene un significado particular:
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
defaults.lyx
\end_layout

\end_inset

.
 Esta plantilla se carga cada vez que abres un documento nuevo con 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Archivo\SpecialChar \menuseparator
Nuevo
\end_layout

\end_inset

 con el fin de proporcionar unos valores predefinidos convenientes.
 Para crear esta plantilla desde dentro de LyX, lo que debes hacer es abrir
 un documento, ajustar las configuraciones convenientes y usar el botón
 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Guardar como valores predeterminados
\end_layout

\end_inset

.
\end_layout

\begin_layout Chapter
Inserción de material externo
\end_layout

\begin_layout Standard
\begin_inset Box Shadowbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
AVISO: Esta parte de la documentación no ha sido actualizada desde hace
 tiempo.
 Esperamos que aún sea adecuada, pero no hay garantías.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El uso de material de fuentas externas a LyX se trata con detalle en el
 manual 
\emph on
Objetos insertados
\emph default
.
 En el presente documento se trata sobre lo que debe suceder entre bambalinas
 para incluir nuevas clases de material.
\end_layout

\begin_layout Section
¿Cómo funciona?
\end_layout

\begin_layout Standard
La característica material externo se basa en el concepto 
\emph on
plantilla
\emph default
.
 Una plantilla es una especificación de la forma en que LyX interactúa con
 ciertos tipos de material.
 De por sí, LyX incluye plantillas predefinidas para figuras Xfig, varios
 tipos de imágenes raster, diagramas de ajedrez y notación musical LilyPond.
 Puedes comprobar la lista actual en el menú 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Insertar\SpecialChar \menuseparator
Archivo\SpecialChar \menuseparator
Material externo
\end_layout

\end_inset

.
 Además, es posible construir plantillas propias para soportar determinado
 tipo de material.
 Más tarde describiremos con más detalle lo que esto implica, y esperamos
 que nos envíes tus plantillas para que se puedan incluir en próximas versiones
 de LyX.
\end_layout

\begin_layout Standard
Otra idea básica de la característica material externo es distinguir entre
 el archivo original que sirve como base para el material final y el archivo
 generado que se incluye en el documento impreso o exportado.
 Por ejemplo, consideremos el caso de una figura hecha con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Xfig
\end_layout

\end_inset

.
 El programa Xfig en sí mismo trabaja sobre un archivo original con extensión
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.fig
\end_layout

\end_inset

.
 Dentro de Xfig, se crea o modifica una figura y se guarda como un archivo
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.fig
\end_layout

\end_inset

.
 Para incluir la figura en un documento, se ejecuta 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
transfig
\end_layout

\end_inset

 con el fin de crear un archivo PostScript que puede incluirse fácilmente
 en el archivo LaTeX.
 En este caso, el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.fig
\end_layout

\end_inset

 es el original, y el archivo PostScript es el archivo generado.
\end_layout

\begin_layout Standard
Esta distinción es importante para permitir la actualización del material
 durante el proceso de escritura del documento.
 Además, provee la flexibilidad necesaria para soportar múltiples formatos
 de exportación.
 Por ejemplo, en el caso de un archivo de texto sencillo, no es una brillante
 idea incluir la figura como PostScript puro.
 En vez de esto, es preferible incluir solo una referencia a la figura o
 bien probar algún convertidor de gráficos a Ascii para que el resultado
 final se parezca al gráfico real.
 La gestión de material externo de LyX permite hacer esto porque se basa
 en parámetros apropiados para los diferentes formatos de exportación soportados.
\end_layout

\begin_layout Standard
Además de soportar la generación de diferentes productos de acuerdo con
 el formato de exportación, existe una profunda integración con las aplicaciones
 de edición y visualización.
 En el caso de figuras Xfig, es posible editar el archivo original en Xfig
 con un simple clic derecho sobre el recuadro y también previsualizar el
 PostScript generado con ghostview.
 Se acabaron los enredos con la línea de comandos y/o el navegador de archivos
 para localizar y manipular los archivos originales o los generados.
 De esta manera, se pueden por fin aprovechar las ventajas de muy diversas
 aplicaciones importantes para la composición de los documentos, y por tanto
 aumentar el rendimiento.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Section
El archivo de configuración de plantillas externas
\end_layout

\begin_layout Standard
Es relativamente fácil añadir en LyX definiciones personalizadas de plantillas
 externas.
 Sin embargo, hay que ser consciente de que hacer esto de manera descuidada
 generará muy probablemente un agujero de seguridad fácil de explotar.
 Así pues, antes de hacer esto, es recomendable leer la discusión sobre
 seguridad en la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Security-discussion"

\end_inset

.
\end_layout

\begin_layout Standard
Una vez dicho esto, te animamos a que envíes cualquiera plantilla interesante
 que compongas.
\end_layout

\begin_layout Standard
Las plantillas externas se definen en el archivo 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
LyXDir/lib/external_templates
\end_layout

\end_inset

.
 Puedes colocar tus versiones propias en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir/external_templates
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Una plantilla típica tiene un aspecto como este:
\end_layout

\begin_layout LyX-Code
Template XFig
\end_layout

\begin_layout LyX-Code
GuiName "XFig: $$AbsOrRelPathParent$$Basename"
\end_layout

\begin_layout LyX-Code
HelpText
\end_layout

\begin_layout LyX-Code
An XFig figure.
\end_layout

\begin_layout LyX-Code
HelpTextEnd
\end_layout

\begin_layout LyX-Code
InputFormat fig
\end_layout

\begin_layout LyX-Code
FileFilter "*.fig"
\end_layout

\begin_layout LyX-Code
AutomaticProduction true
\end_layout

\begin_layout LyX-Code
Transform Rotate
\end_layout

\begin_layout LyX-Code
Transform Resize
\end_layout

\begin_layout LyX-Code
Format LaTeX
\end_layout

\begin_layout LyX-Code
TransformCommand Rotate RotationLatexCommand
\end_layout

\begin_layout LyX-Code
TransformCommand Resize ResizeLatexCommand
\end_layout

\begin_layout LyX-Code
Product "$$RotateFront$$ResizeFront
\end_layout

\begin_layout LyX-Code
         
\backslash

\backslash
input{$$AbsOrRelPathMaster$$Basename.pstex_t}
\end_layout

\begin_layout LyX-Code
         $$ResizeBack$$RotateBack"
\end_layout

\begin_layout LyX-Code
UpdateFormat pstex
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.pstex_t"
\end_layout

\begin_layout LyX-Code
Requirement "graphicx"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pstex_t"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile dvi "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format PDFLaTeX
\end_layout

\begin_layout LyX-Code
TransformCommand Rotate RotationLatexCommand
\end_layout

\begin_layout LyX-Code
TransformCommand Resize ResizeLatexCommand
\end_layout

\begin_layout LyX-Code
Product "$$RotateFront$$ResizeFront
\end_layout

\begin_layout LyX-Code
         
\backslash

\backslash
input{$$AbsOrRelPathMaster$$Basename.pdftex_t}
\end_layout

\begin_layout LyX-Code
         $$ResizeBack$$RotateBack"
\end_layout

\begin_layout LyX-Code
UpdateFormat pdftex
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.pdftex_t"
\end_layout

\begin_layout LyX-Code
Requirement "graphicx"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pdftex_t"
\end_layout

\begin_layout LyX-Code
ReferencedFile latex "$$AbsPath$$Basename.pdf"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format Ascii
\end_layout

\begin_layout LyX-Code
Product "$$Contents(
\backslash
"$$AbsPath$$Basename.asc
\backslash
")"
\end_layout

\begin_layout LyX-Code
UpdateFormat asciixfig
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.asc"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Format DocBook
\end_layout

\begin_layout LyX-Code
Product "<graphic fileref=
\backslash
"$$AbsOrRelPathMaster$$Basename.eps
\backslash
">
\end_layout

\begin_layout LyX-Code
         </graphic>"
\end_layout

\begin_layout LyX-Code
UpdateFormat eps
\end_layout

\begin_layout LyX-Code
UpdateResult "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile docbook "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
ReferencedFile docbook-xml "$$AbsPath$$Basename.eps"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
Product "[XFig: $$FName]"
\end_layout

\begin_layout LyX-Code
FormatEnd
\end_layout

\begin_layout LyX-Code
TemplateEnd
\end_layout

\begin_layout Standard
Como puedes ver, la plantilla se incluye entre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Template
\end_layout

\end_inset

 \SpecialChar \ldots{}
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TemplateEnd
\end_layout

\end_inset

.
 Contiene una cabecera que especifica algunas configuraciones generales
 y, por cada formato de archivo de documento primario soportado, una sección
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

 \SpecialChar \ldots{}
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FormatEnd
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
La cabecera de la plantilla
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
AutomaticProduction
\begin_inset space ~
\end_inset

true|false
\end_layout

\end_inset

 Si el archivo representado por la plantilla debe ser generado por LyX.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
FileFilter
\begin_inset space ~
\end_inset

<pattern>
\end_layout

\end_inset

 Un patrón global que se usa en el diálogo del archivo para filtrar los
 archivos deseados.
 Si hay más de una posible extensión de archivo (p.
\begin_inset space \thinspace{}
\end_inset

e.,
\begin_inset space ~
\end_inset

tgif tiene 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.obj
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.tgo
\end_layout

\end_inset

), se pone algo como 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
"*.{obj,tgo}"
\end_layout

\end_inset

.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
GuiName
\begin_inset space ~
\end_inset

<guiname>
\end_layout

\end_inset

 El texto mostrado sobre el botón.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
HelpText
\begin_inset space ~
\end_inset

<text>
\begin_inset space ~
\end_inset

HelpTextEnd
\end_layout

\end_inset

 El texto de ayuda que se muestra en diálogo.
 Da suficiente información sobre lo que puede proporcionar la plantilla.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
InputFormat
\begin_inset space ~
\end_inset

<format>
\end_layout

\end_inset

 El formato de archivo del original.
 Debe ser el nombre de un formato conocido por LyX (véase la sección
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Formatos"

\end_inset

).
 Se pone un 
\begin_inset Quotes fld
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
*
\end_layout

\end_inset


\begin_inset Quotes frd
\end_inset

 si la plantilla puede manejar archivos originales o más de un formato.
 En este caso, LyX intentará inspeccionar el archivo mismo para deducir
 su formato.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Template
\begin_inset space ~
\end_inset

<id>
\end_layout

\end_inset

 Un nombre único para la plantilla.
 No debe contener macros de sustitución (véase abajo).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Transform
\begin_inset space ~
\end_inset

Rotate|Resize|Clip|Extra
\end_layout

\end_inset

 Este comando especifica qué transformaciones son soportadas por esta plantilla.
 Puede aparecer ninguna o varias veces.
 Este comando facilita las correspondientes pestañas en el diálogo de material
 externo.
 Cada comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

 debe tener el correspondiente 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\end_layout

\end_inset

 o bien 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\end_layout

\end_inset

 en la sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

.
 De lo contrario la transformación no será soportada por ese formato.
 
\end_layout

\begin_layout Subsection
La sección Format
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\begin_inset space ~
\end_inset

LaTeX|PDFLaTeX|PlainText|DocBook
\end_layout

\end_inset

 El formato de archivo del documento primario para el que es esta definición
 de formato.
 No toda plantilla tiene una representación sensible en los formatos de
 archivo de todos los documentos.
 No obstante, es preferible definir una sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

 para todos los formatos.
 Se usa un texto postizo si no hay representación disponible.
 Entonces, al menos, se puede ver una referencia al material externo en
 el documento exportado.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Option
\begin_inset space ~
\end_inset

<name>
\begin_inset space ~
\end_inset

<value>
\end_layout

\end_inset

 Este comando define una macro adicional, 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$<name>
\end_layout

\end_inset

, para sustitución en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

.
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
<value>
\end_layout

\end_inset

 puede contener en sí mismo macros de sustitución.
 La ventaja sobre el uso de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
<value>
\end_layout

\end_inset

 directamente en 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

 es que el valor sustituido de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$<name>
\end_layout

\end_inset

 está saneado así que es un argumento opcional válido en el formato del
 documento.
 Este comando puede aparecer ninguna o más veces.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Product
\begin_inset space ~
\end_inset

<text>
\end_layout

\end_inset

 El texto que se inserta en el documento exportado.
 Realmente este es el comando más importante y puede ser bastante complejo.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Preamble
\begin_inset space ~
\end_inset

<name>
\end_layout

\end_inset

 Este comando especifica un fragmento de preámbulo que se incluirá en el
 preámbulo LaTeX.
 Tiene que definirse usando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PreambleDef
\end_layout

\end_inset

 \SpecialChar \ldots{}
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PreambleDefEnd
\end_layout

\end_inset

.
 Este comando puede aparecer ninguna o más veces.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ReferencedFile
\begin_inset space ~
\end_inset

<format>
\begin_inset space ~
\end_inset

<filename>
\end_layout

\end_inset

 Este comando indica los archivos que se crean por el proceso de conversión
 y que son necesarios para un formato de exportación particular.
 Si el nombre del archivo es relativo, se interpreta como relativo al documento
 maestro.
 Este comando puede darse ninguna o más veces.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Requirement
\begin_inset space ~
\end_inset

<package>
\end_layout

\end_inset

 El nombre de un paquete LaTeX requerido.
 El paquete se incuye mediante 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
usepackage{}
\end_layout

\end_inset

 en el preámbulo LaTeX.
 Este comando puede aparecer ninguna o más veces.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\begin_inset space ~
\end_inset

Rotate
\begin_inset space ~
\end_inset

RotationLatexCommand
\end_layout

\end_inset

 Este comando especifica que el comando LaTeX incluido debería usarse para
 la rotación.
 Este comando puede aparecer una vez o ninguna.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\begin_inset space ~
\end_inset

Resize
\begin_inset space ~
\end_inset

ResizeLatexCommand
\end_layout

\end_inset

 Este comando especifica que el comando LaTeX incluido debería usarse para
 cambiar el tamaño.
 Este comando puede aparecer una vez o ninguna.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Rotate
\begin_inset space ~
\end_inset

RotationLatexOption
\end_layout

\end_inset

 Este comando especifica que la rotación se hace mediante un argumento opcional.
 Este comando puede aparecer una vez o ninguna.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Resize
\begin_inset space ~
\end_inset

ResizeLatexOption
\end_layout

\end_inset

 Este comando especifica que el cambio de tamaño se hace mediante un argumento
 opcional.
 Este comando puede aparecer una vez o ninguna
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Clip
\begin_inset space ~
\end_inset

ClipLatexOption
\end_layout

\end_inset

 Este comando especifica que el recorte se hace mediante un argumento opcional.
 Este comando puede aparecer una vez o ninguna.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\begin_inset space ~
\end_inset

Extra
\begin_inset space ~
\end_inset

ExtraLatexOption
\end_layout

\end_inset

 Este comando especifica que se usa un argumento extra opcional.
 Este comando puede aparecer una vez o ninguna.
 
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UpdateFormat
\begin_inset space ~
\end_inset

<format>
\end_layout

\end_inset

 El formato de archivo del archivo convertido.
 Debe ser el nombre de un formato conocido por LyX (véase 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Convertidores
\end_layout

\end_inset

 de 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Formatos externos
\end_layout

\end_inset

 en el diálogo 
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Herramientas\SpecialChar \menuseparator
Preferencias
\end_layout

\end_inset

).
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UpdateResult
\begin_inset space ~
\end_inset

<filename>
\end_layout

\end_inset

 El nombre de archivo del archivo convertido.
 El nombre de archivo debe ser absoluto.
 Este comando debe aparecer exactamente una vez.
\end_layout

\begin_layout Subsection
Definiciones de preámbulo
\end_layout

\begin_layout Standard
El archivo de configuración de plantillas externas puede contener definiciones
 de preámbulo adicionales encerradas entre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PreambleDef
\end_layout

\end_inset

 \SpecialChar \ldots{}
 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
PreambleDefEnd
\end_layout

\end_inset

.
 Se pueden usar por las plantillas en la sección 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Format
\end_layout

\end_inset

.
\end_layout

\begin_layout Section
El mecanismo de sustitución
\end_layout

\begin_layout Standard
Cuando la función de material externo recurre a un programa externo, se
 hace sobre la base de un comando definido en el archivo de configuración
 de la plantilla.
 Estos comandos pueden contener varias macros que se expanden antes de su
 ejecución.
 La ejecución tiene lugar siempre en el directorio del documento.
 
\end_layout

\begin_layout Standard
Además, cada vez que el material externo se va a mostrar, el nombre será
 generado por el mecanismo de sustitución, y la mayoría de los demás comandos
 en la definición de la plantilla soportan también sustitución.
 
\end_layout

\begin_layout Standard
Las macros disponibles son las siguientes:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathMaster
\end_layout

\end_inset

 La ruta del archivo, absoluta o relativa al documento LyX maestro.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathParent
\end_layout

\end_inset

 La ruta del archivo, absoluta o relativa al documento LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsPath
\end_layout

\end_inset

 La ruta absoluta del archivo.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Basename
\end_layout

\end_inset

 El nombre de archivo sin ruta y sin la extensión.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Contents(
\begin_inset Quotes eld
\end_inset

filename.ext
\begin_inset Quotes erd
\end_inset

)
\end_layout

\end_inset

 Esta macro expandirá los contenidos del archivo con el nombre 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
filename.ext
\end_layout

\end_inset

.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Extension
\end_layout

\end_inset

 La extensión de archivo (incluyendo el punto).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$FName
\end_layout

\end_inset

 El nombre de archivo del archivo especificado en el diálogo de material
 externo.
 Esto es bien un nombre absoluto, bien relativo al documento LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$FPath
\end_layout

\end_inset

 La parte de la ruta de 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$FName
\end_layout

\end_inset

 (nombre absoluto o relativo al documento LyX).
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$RelPathMaster
\end_layout

\end_inset

 La ruta del archivo, relativa al documento maestro LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$RelPathParent
\end_layout

\end_inset

 La ruta del archivo, relativa al documento LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Sysdir
\end_layout

\end_inset

 Esta macro expandirá a la ruta absoluta del directorio de sistema.
 Esto se usa habitualmente para apuntar a los varios guiones de ayuda que
 se empaquetan con LyX.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Tempname
\end_layout

\end_inset

 Un nombre y ruta completa a un directorio temporal que será borrado automáticam
ente siempre que el documento se cierra, o se suprime la inserción de material
 externo.
\end_layout

\begin_layout Standard
Todas las macros de ruta contienen un separador de rastreo del directorio,
 así se puede construir, p.
\begin_inset space \thinspace{}
\end_inset

e., el nombre de archivo absoluto con 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsPath$$Basename$$Extension
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Las macros anteriores son sustituidas en todos los comandos a menos que
 se indique lo contrario.
 El comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Product
\end_layout

\end_inset

 soporta adicionalmente las siguientes sustituciones si se habilitan por
 los comandos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformCommand
\end_layout

\end_inset

:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$ResizeFront
\end_layout

\end_inset

 La parte delantera del comando para cambiar el tamaño.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$ResizeBack
\end_layout

\end_inset

 La parte trasera del comando para cambiar el tamaño.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$RotateFront
\end_layout

\end_inset

 La parte delantera del comando para la rotación.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$RotateBack
\end_layout

\end_inset

 La parte trasera del comando para la rotación.
\end_layout

\begin_layout Standard
La cadena de valor del comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Option
\end_layout

\end_inset

 soporta adicionalmente las siguientes sustituciones si éstas se han habilitado
 por los comandos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
Transform
\end_layout

\end_inset

 y 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TransformOption
\end_layout

\end_inset

:
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Clip
\end_layout

\end_inset

 La opción recorte.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Extra
\end_layout

\end_inset

 La opción extra.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Resize
\end_layout

\end_inset

 La opción cambio de tamaño.
\end_layout

\begin_layout Description
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$Rotate
\end_layout

\end_inset

 La opción rotación.
\end_layout

\begin_layout Standard
Te puedes preguntar por qué hay tantas macros de ruta.
 Por dos razones, principalmente:
\end_layout

\begin_layout Enumerate
Los nombres de archivo relativo y absoluto deberían permanecer relativo
 o absoluto, respectivamente.
 Los usuarios pueden tener razones para preferir cualquiera de ambas formas.
 Los nombres relativos son útiles para documentos portables que deberían
 funcionar en máquinas diferentes, por ejemplo.
 Los nombres absolutos pueden ser requeridos por algunos programas.
\end_layout

\begin_layout Enumerate
LaTeX procesa los nombres de archivo relativos de manera diferente a LyX
 y otros programas en archivos anidados incluidos.
 Para LyX, un nombre de archivo relativo es siempre relativo al documento
 que contiene el nombre de archivo.
 Para LaTeX, es siempre relativo al documento maestro.
 Estas dos definiciones son idénticas si se tiene solo un documento, pero
 son distintas si se tiene un documento maestro que incluye documentos parciales.
 Esto quiere decir que los nombres de archivo relativos deben ser transformados
 cuando se presentan a LaTeX.
 Afortunadamente, LyX hace esto automáticamente si se eligen las macros
 correctas.
\end_layout

\begin_layout Standard
Así pues, ¿qué macros de ruta deberían emplearse en las definiciones de
 plantillas nuevas? La regla no es difícil:
\end_layout

\begin_layout Itemize
Usar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsPath
\end_layout

\end_inset

 si se requiere una ruta absoluta.
\end_layout

\begin_layout Itemize
Usar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathMaster
\end_layout

\end_inset

 si la cadena sustituida es algún tipo de entrada LaTeX.
\end_layout

\begin_layout Itemize
Si no, usar 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
$$AbsOrRelPathParent
\end_layout

\end_inset

 con el fin de preservar la elección del usuario.
\end_layout

\begin_layout Standard
Hay casos especiales en los que esta regla no funciona y se necesitan, p.
\begin_inset space \thinspace{}
\end_inset

e., nombres relativos, pero normalmente funcionará bien.
 Un ejemplo de uno de estos casos es el comando 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
ReferencedFile latex "$$AbsOrRelPathMaster$$Basename.pstex_t"
\end_layout

\end_inset

 en la plantilla XFig de arriba: no podemos usar el nombre absoluto porque
 el copiador para archivos 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.pstex_t
\end_layout

\end_inset

 necesita el nombre relativo para reescribir el contenido del archivo.
\end_layout

\begin_layout Section
\begin_inset CommandInset label
LatexCommand label
name "sec:Security-discussion"

\end_inset

Security discussion
\end_layout

\begin_layout Standard
\begin_inset Box Shadowbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
WARNING: This section is definitely outdated.
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
N.
 del T.: Sección definitivamente anticuada, por lo que no merece la pena
 traducirla.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The external material feature interfaces with a lot of external programs
 and does so automatically, so we have to consider the security implications
 of this.
 In particular, since you have the option of including your own filenames
 and/or parameter strings and those are expanded into a command, it seems
 that it would be possible to create a malicious document which executes
 arbitrary commands when a user views or prints the document.
 This is something we definately want to avoid.
\end_layout

\begin_layout Standard
However, since the external program commands are specified in the template
 configuration file only, there are no security issues if LyX is properly
 configured with safe templates only.
 This is so because the external programs are invoked with the 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
execvp
\end_layout

\end_inset

-system call rather than the 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
system
\end_layout

\end_inset

 system-call, so it's not possible to execute arbitrary commands from the
 filename or parameter section via the shell.
\end_layout

\begin_layout Standard
This also implies that you are restricted in what command strings you can
 use in the external material templates.
 In particular, pipes and redirection are not readily available.
 This has to be so if LyX should remain safe.
 If you want to use some of the shell features, you should write a safe
 script to do this in a controlled manner, and then invoke the script from
 the command string.
 In the 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lib/scripts
\end_layout

\end_inset

 directory of the LyX installation, you can find a safe wrapper script 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
general_command_wrapper.py
\end_layout

\end_inset

 that supports redirection of input and output.
 That can serve as an example for how to write safe template scripts.
 For a more advanced example that uses 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
fork
\end_layout

\end_inset

 and friends, take a look at the 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
pic2ascii.py
\end_layout

\end_inset

 converter script.
\end_layout

\begin_layout Standard
It is possible to design a template that interacts directly with the shell,
 but since this would allow a malicious user to execute arbitrary commands
 by writing clever filenames and/or parameters, we generally recommend that
 you only use safe scripts that work with the 
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
execvp
\end_layout

\end_inset

 system call in a controlled manner.
 Of course, for use in a controlled environment, it can be tempting to just
 fall back to use ordinary shell scripts.
 If you do so, be aware that you 
\emph on
will
\emph default
 provide an easily exploitable security hole in your system.
 Of course it stands to reason that such unsafe templates will never be
 included in the standard LyX distribution, although we do encourage people
 to submit new templates in the open source tradition.
 But LyX as shipped from the official distribution channels will never have
 unsafe templates.
\end_layout

\begin_layout Standard
Including external material provides a lot of power, and you have to be
 careful not to introduce security hazards with this power.
 A subtle error in a single line in an innocent looking script can open
 the door to huge security problems.
 So if you do not fully understand the issues, we recommend that you consult
 a knowledgable security professional or the LyX development team if you
 have any questions about whether a given template is safe or not.
 And do this before you use it in an uncontrolled environment.
\end_layout

\end_body
\end_document
