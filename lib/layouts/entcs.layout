#% Do not delete the line below; configure depends on this
#  \DeclareLaTeXClass{article (ENTCS)}
# Based on LyX article class; modified to support ENTCS class
# R.R.T.   27/5-2/6/01

Input article.layout

Style Title
  LatexType             Command
  LatexName             settitle
  InTitle               1
  Preamble
\newcommand{\settitle}[1]{\def\theTitle{#1}}
  EndPreamble
End

Style Author
  LatexType             Command
  LatexName             setauthor
  InTitle               1
  Preamble
\newcommand{\setauthor}[1]{\def\theAuthor{#1}}
  EndPreamble
End

Style Address
  LatexType             Command
  LatexName             setaddress
  Align		        Center
  AlignPossible	        Center
  InTitle               1
  Preamble
\newcommand{\setaddress}[1]{\def\theAddress{#1}}
  EndPreamble
  Font 
    Shape  	        Italic
  EndFont
End

Style FrontMatter
  CopyStyle             LaTeX
  LaTeXType             Command
  LaTeXName             setfrontmatter
  InTitle               1
  Preamble
\newcommand{\setfrontmatter}[1]{\def\theFrontMatter{#1}}
  EndPreamble
End

# Abstract style definition
Style Abstract 
  LatexType             Command
  LatexName	        setabstract
  LabelType		Top_Environment
  ParIndent             ""
  LeftMargin		""
  RightMargin		""
  InTitle               1
  Preamble
\newcommand{\setabstract}[1]{\def\theAbstract{#1}\setboolean{hasAbstract}{true}}
  EndPreamble
End

# Keyword style definition
Style Keyword
  Align                 Center
  AlignPossible         Center
  LatexType             Command
  LatexName             setkeyword
  InTitle               1
  Preamble
\newcommand{\setkeyword}[1]{\def\theKeyword{#1}\setboolean{hasKeyword}{true}}
  EndPreamble
  LabelType             Static
  LabelString           "Key words:"
  LabelSep              xx
  
  # standard font definition
  Font 
    Size		Small
  EndFont

  # label font definition
  LabelFont 
    Shape               Italic
    Size                Small
  EndFont
End

Preamble
\usepackage{entcsmacro,ifthen}
\newcommand{\theTitle}[1]{}
\newcommand{\theAuthor}[1]{}
\newcommand{\theAddress}[1]{}
\newcommand{\theAbstract}[1]{}
\newboolean{hasAbstract}
\newcommand{\theKeyword}[1]{}
\newboolean{hasKeyword}
\newcommand{\theFrontMatter}[1]{}
\newcommand{\maketitle}{
 \begin{frontmatter}
 \title{\theTitle}
 \author{\theAuthor}
 \address{\theAddress}
 \ifthenelse{\boolean{hasAbstract}}{\begin{abstract}\theAbstract\end{abstract}}{}
 \ifthenelse{\boolean{hasKeyword}}{\begin{keyword}\theKeyword\end{keyword}}{}
 \theFrontMatter
 \end{frontmatter}
}
EndPreamble
